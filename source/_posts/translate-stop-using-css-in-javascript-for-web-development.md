---
title: åœæ­¢ä½¿ç”¨css in jsè¿›è¡Œwebå¼€å‘
date: 2019-06-09 16:35:51
tags: [å‰ç«¯, css]
categories: [å‰ç«¯]
description: Stop using CSS in JavaScript for web development
---

CSSä¸ä¼šå»ä»»ä½•åœ°æ–¹ã€‚è®¸å¤šé¡¹ç›®é€‰æ‹©ç”¨JavaScriptæ¥è®¾ç½®æ–‡æ¡£æ ·å¼æ˜¯å‡ºäºé”™è¯¯çš„åŸå› ã€‚æœ¬æ–‡åˆ—å‡ºäº†å¸¸è§çš„è¯¯è§£ï¼ˆç¥è¯ï¼‰å’Œç°æœ‰çš„CSSè§£å†³æ–¹æ¡ˆã€‚

>æœ¬æ–‡ä¸­çš„ä»»ä½•å†…å®¹å‡ä¸æ„æˆå¯¹ç‰¹å®šé¡¹ç›®æˆ–ä¸ªäººçš„äººèº«æ”»å‡»

### CSSå’ŒJavaScriptçš„å†å²
å±‚å æ ·å¼è¡¨ï¼ˆCSSï¼‰è¯­è¨€ç”¨äºæè¿°ç”¨æ ‡è®°è¯­è¨€ç¼–å†™çš„æ–‡æ¡£çš„è¡¨ç¤ºã€‚JavaScriptä½œä¸ºâ€œç²˜åˆè¯­è¨€â€è¢«åˆ›å»ºï¼Œå®ƒç”¨äºç»„åˆå›¾åƒå’Œæ’ä»¶ç­‰ç»„ä»¶ã€‚å¤šå¹´æ¥ï¼ŒJavaScriptä¸æ–­å‘å±•å¹¶å˜å¼‚ä»¥é€‚åº”æ–°çš„ç”¨ä¾‹ã€‚

Ajaxï¼ˆ2005å¹´ï¼‰çš„å‡ºç°æ ‡å¿—ç€ä¸€ä¸ªé‡è¦çš„é‡Œç¨‹ç¢‘ã€‚ è¿™å°±æ˜¯Prototypeï¼ŒjQueryï¼ŒMooToolsç­‰åº“å¸å¼•å¤§é‡ç¤¾åŒºå…±åŒåŠªåŠ›è§£å†³åå°å’Œè·¨æµè§ˆå™¨ä¸ä¸€è‡´çš„æ•°æ®è·å–é—®é¢˜ã€‚ è¿™é€ æˆäº†ä¸€ä¸ªæ–°é—®é¢˜ï¼šå¦‚ä½•ç®¡ç†æ‰€æœ‰æ•°æ®ï¼Ÿ

å¿«è¿›åˆ°2010å¹´ï¼ŒBackbone.jsä½œä¸ºåº”ç”¨ç¨‹åºçŠ¶æ€ç®¡ç†çš„è¡Œä¸šæ ‡å‡†ã€‚ä¸ä¹…ä¹‹åï¼ŒKnockoutå’ŒAngularå°†æ¯ä¸ªäººéƒ½ç”¨åŒå‘ç»‘å®šæ¥å¸å¼•äººã€‚ä¸ä¹…ä¹‹åï¼ŒReactå’ŒFluxå‡ºç°äº†ã€‚è¿™å¼€å¯äº†å•é¡µåº”ç”¨ç¨‹åºï¼ˆSPAï¼‰ã€ç”±ç»„ä»¶ç»„æˆçš„åº”ç”¨ç¨‹åºçš„æ—¶ä»£ã€‚

### é‚£ä¹ˆCSSå‘¢ï¼Ÿ
å€Ÿç”¨`styled-components`çš„æ–‡æ¡£ï¼š
>The problem with plain CSS is that it was built in an era where the web consisted of documents. In 1993 the web was created to exchange mostly scientific documents, and CSS was introduced as a solution to style those documents. Nowadays however, we are building rich, interactive, user-facing applications, and CSS just isnâ€™t built for this use-case.

æˆ‘ä¸åŒæ„ã€‚

CSSå·²ç»å‘å±•åˆ°æ•è·ç°ä»£UIçš„è¦æ±‚ã€‚è¿‡å»åå¹´ä¸­æ–°åŠŸèƒ½çš„æ•°é‡è¶…å‡ºäº†åˆç†èŒƒå›´ï¼ˆpseudo-classes, pseudo-elements, CSS variables, media queries, keyframes, combinators, columns, flex, grid, computed values, â€¦ï¼‰

ä»UIçš„è§’åº¦æ¥çœ‹ï¼Œâ€œç»„ä»¶â€æ˜¯æ–‡æ¡£çš„å­¤ç«‹ç‰‡æ®µï¼ˆ`<button />`æ˜¯ç»„ä»¶ï¼‰ã€‚CSSæ—¨åœ¨è®¾è®¡æ–‡æ¡£æ ·å¼ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰ç»„ä»¶ã€‚æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ

ä¿—è¯è¯´ï¼šâ€œä½¿ç”¨åˆé€‚çš„å·¥å…·æ¥å®Œæˆå·¥ä½œâ€ã€‚

### Styled-components
`Styled-components`ä½¿ç”¨æ ‡è®°æ¨¡æ¿æ–‡å­—åœ¨JavaScriptä¸­ç¼–å†™CSSã€‚å®ƒåˆ é™¤äº†ç»„ä»¶å’Œæ ·å¼ä¹‹é—´çš„æ˜ å°„ - ç»„ä»¶è¢«åˆ¶æˆä¸€ä¸ªä½çº§æ ·å¼æ„é€ ï¼Œä¾‹å¦‚ï¼Œ

```js
import React from 'react';
import styled from 'styled-components';
// Create a <Title> react component that renders an <h1> which is
// centered, palevioletred and sized at 1.5em
const Title = styled.h1`
  font-size: 1.5em;
  text-align: center;
  color: palevioletred;
`;
// Create a <Wrapper> react component that renders a <section> with
// some padding and a papayawhip background
const Wrapper = styled.section`
  padding: 4em;
  background: papayawhip;
`;
// Use them like any other React component â€“ except they're styled!
<Wrapper>
  <Title>Hello World, this is my first styled component!</Title>
</Wrapper>
```

ç»“æœæ˜¯ï¼š
![image](https://res.cloudinary.com/dwudaridr/image/upload/v1560070444/blog/jjj.png)

styled-componentsç°åœ¨æˆä¸ºåœ¨Reactä¸­è®¾ç½®ç»„ä»¶æ ·å¼çš„æ–°æ–¹æ³•ã€‚
>è®©æˆ‘ä»¬æ˜ç™½ä¸€ç‚¹ï¼šæ ·å¼ç»„ä»¶åªæ˜¯CSSä¹‹ä¸Šçš„é«˜çº§æŠ½è±¡ã€‚å®ƒæ‰€åšçš„å°±æ˜¯è§£æç”¨JavaScriptå®šä¹‰çš„CSSå¹¶åˆ›å»ºæ˜ å°„åˆ°CSSçš„JSXå…ƒç´ ã€‚

æˆ‘ä¸å–œæ¬¢è¿™ç§è¶‹åŠ¿ï¼Œå› ä¸ºå®ƒè¢«è®¸å¤šè¯¯è§£æ‰€åŒ…å›´ã€‚

ä¸‹é¢æ˜¯é€‰æ‹©ä½¿ç”¨styled-componentsçš„åŸå› åˆ—è¡¨ï¼Œæˆ‘ç»“åˆåŸæ–‡è°ˆä¸€ä¸‹æˆ‘çš„è§‚ç‚¹ã€‚

#### 1.å®ƒè§£å†³äº†å…¨å±€å‘½åç©ºé—´å’Œæ ·å¼å†²çª
å¬èµ·æ¥å®ƒä¼¼ä¹æ²¡æœ‰è§£å†³è¿™äº›é—®é¢˜ã€‚ CSSæ¨¡å—ï¼ŒShadow DOMå’Œæ— æ•°çš„å‘½åçº¦å®šï¼ˆeg: BEMï¼‰å¾ˆä¹…ä»¥å‰å°±åœ¨ç¤¾åŒºä¸­è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚

styled-componentsï¼ˆå°±åƒCSSæ¨¡å—ä¸€æ ·ï¼‰æ¶ˆé™¤äº†äººç±»å‘½åã€‚ä½†å°±å…¶æœ¬èº«è€Œè¨€ï¼Œè¿™å¹¶ä¸æ˜¯å¼€å§‹ä½¿ç”¨styled-componentsçš„å……åˆ†ç†ç”±ã€‚

#### 2.ä½¿ç”¨styled-componentså¯ä»¥è·å¾—æ›´ç®€æ´çš„ä»£ç 
ä¸¾ä¸€ä¸ªä¾‹å­
```js
<TicketName></TicketName>
<div className={styles.ticketName}></div>
```
é¦–å…ˆ - æ²¡å…³ç³»ã€‚å·®å¼‚å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚
å…¶æ¬¡ï¼Œäº‹å®å¹¶éå¦‚æ­¤ã€‚æ€»å­—ç¬¦æ•°å–å†³äºæ ·å¼åç§°ã€‚
```js
<TinyBitLongerStyleName></TinyBitLongerStyleName>
<div className={styles.longerStyleName}></div>
```
>è¿™æ ·çš„åšæ³•å’Œcssä¸­çš„é€‰æ‹©å™¨æœ‰ä»€ä¹ˆå·®å¼‚å—

#### 3. ä½¿ç”¨styled-componentså¯ä»¥è®©æ‚¨æ›´å¤šåœ°è€ƒè™‘è¯­ä¹‰
è¯­ä¹‰å’Œæ ·å¼æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ã€‚

#### 4.å®ƒå¯ä»¥è½»æ¾æ‰©å±•æ ·å¼
cssé¢„å¤„ç†å™¨ä¸æ˜¯å¯ä»¥å¾ˆè½»æ¾çš„è§£å†³è¿™ä¸ªé—®é¢˜

#### 5.å®ƒä½¿æ¡ä»¶æ ·å¼ç»„ä»¶å˜å¾—å®¹æ˜“
é€šè¿‡å˜é‡æ›´æ”¹classNameä¸æ˜¯ä¸€ä¸ªå¥½çš„è§£å†³åŠæ³•å—ï¼Ÿ

#### 6.å®ƒå…è®¸æ›´å¥½çš„ä»£ç ç»„ç»‡
è¿™ä¸ªå®Œå…¨ä¸åŒæ„ã€‚éƒ½æˆä¸€é”…ç²¥äº†...æœ¬æ¥ä¸€ä¸ªä¸€ç™¾è¡Œçš„ç»„ä»¶è¦æ˜¯å’Œæ ·å¼å†™åœ¨ä¸€èµ·ï¼Œéƒ½è¦äºŒç™¾è¡Œäº†...

#### 7.ä»»ä½•æ›´å¥½çš„æ€§èƒ½ï¼Œä»»ä½•æ›´å°çš„æ†ç»‘å°ºå¯¸
jsåšäº†è§£æï¼Œåœ¨ä¸åŒçš„é¡µé¢æŒ‚è½½ä¸åŒçš„cssï¼Œå°ï¼Œæˆ‘æ˜¯åŒæ„çš„ï¼Œä½†æ˜¯å¯¹äºä¸€ä¸ªspaæ¥è¯´ï¼Œä½ çš„cssæ²¡æœ‰åŠæ³•è¿›è¡Œç¼“å­˜ã€‚

å¦å¤–é€šè¿‡æŸ¥çœ‹æºç å¯ä»¥çœ‹åˆ°ï¼Œcsså®é™…ä¸Šéƒ½æ˜¯æŒ‚è½½åœ¨ä¸€ä¸ªHOCä¸Šé¢ï¼Œè¿™å¾ˆæ˜æ˜¾ä¹Ÿå­˜åœ¨ä¸€å®šçš„æ€§èƒ½é—®é¢˜ã€‚

å¦‚æœä½¿ç”¨ssrçš„è¯ï¼Œä½ å¾—åˆ°çš„å¯èƒ½æ˜¯ä¸€ä¸ªå·¨å¤§çš„HTMLã€‚

#### 8.å®ƒå…è®¸å¼€å‘å“åº”ç»„ä»¶
ğŸ™‚ï¸

### ç»“è¯­
æˆ‘ç°åœ¨çŸ¥é“å¾ˆå¤šå…¬å¸æ­£åœ¨ä½¿ç”¨css in jsï¼Œæˆ‘æƒ³å¤§éƒ¨åˆ†çš„å› ç´ åº”è¯¥æ˜¯ç¬¬ä¸€ä¸ªcsså’Œç»„ä»¶çš„æ˜ å°„ã€‚æ¢ä¸€ç§è§’åº¦æ¥è¯´ï¼Œæˆ‘è®¤åŒç»„ä»¶çš„å®šä¹‰ï¼Œä½†æ˜¯å¯¹äºå®ƒå’Œcssçš„å…³ç³»ï¼Œæˆ‘ä¼šè®¤ä¸ºæ˜¯htmlå’Œcssçš„å…³ç³»ã€‚å¦‚æœè¦åœ¨cssä¸ŠåšåŒºåˆ†çš„è¯ï¼Œæˆ‘ä¼šé€‰æ‹©ç»™ç»„ä»¶çš„classNameåŠ ä¸€ä¸ªrcçš„å‰ç¼€ã€‚

å¯¹äºå‘½åï¼Œæœ‰å¾ˆå¤šæˆç†Ÿçš„æ–¹æ¡ˆï¼Œä¾‹å¦‚ä¹‹å‰ä½¿ç”¨çš„BEMï¼Œå…¶å®æˆ‘åœ¨css in jsçš„ä»£ç é‡Œé¢çœ‹åˆ°æœ€å¤šçš„æ˜¯åµŒå¥—è¯­æ³•ï¼Œè¿™ä¸ªå°±å¾ˆä¼¤äº†ï¼Œå°½ç®¡å¤„ç†å™¨ç°åœ¨å·²ç»å¾ˆå¿«äº†ï¼Œé‚£ä¹Ÿç¦ä¸ä½ä½ ä¸‰å››å±‚çš„å¥—å•Šã€‚

cssæ˜¯æ ·å¼ï¼Œjså¯¹äºä¸€ä¸ªå¹³å°æ¥è¯´å·²ç»å¾ˆå·¨å¤§äº†ï¼Œå°†cssç»™å®ƒå¤„ç†çœŸçš„æ˜¯ä¸€ä¸ªç´¯èµ˜ã€‚è¿˜æœ‰ä¸€ç‚¹å¼€å‘è¿‡ç¨‹ï¼Œå†™csså’Œå†™css in jså®Œå…¨æ˜¯å­˜åœ¨å·¨å¤§å·®å¼‚çš„è¿‡ç¨‹ï¼Œæ²¡æœ‰å„ç§ç®€å†™ï¼Œæˆ‘åªèƒ½é€‰æ‹©æµè§ˆå™¨ä½œä¸ºæˆ‘çš„ç¬¬ä¸€å¼€å‘å·¥å…·ğŸ˜‚ã€‚

[å‚è€ƒé“¾æ¥](https://medium.com/@gajus/stop-using-css-in-javascript-for-web-development-fa32fb873dcc)







