---
title: power(x, n)æœ‰æ„Ÿ
date: 2019-03-31 19:40:46
tags: [ç®—æ³•]
categories: [ç®—æ³•]
description: leetcodeçš„50é¢˜
---

è¿™ä¸ªé¢˜ç›®æ˜¯æ±‚xçš„næ¬¡æ–¹ã€‚

##### é”™è¯¯æ±‚è§£
nçš„å€¼å¯ä»¥æ˜¯æ­£å€¼æˆ–è€…è´Ÿå€¼ï¼Œç¬¬ä¸€æƒ³åˆ°çš„æœ€ç®€å•ç²—æš´çš„åŠæ³•æ˜¯forå¾ªç¯ï¼Œbut runtime erroräº†ã€‚æ¥ç€å°±æ”¾åœ¨é‚£äº†ï¼Œç»§ç»­è§£å†³åˆ«çš„é—®é¢˜äº†ã€‚


##### ç»è¿‡æŒ‡ç‚¹
ç»è¿‡è€å¸ˆçš„æŒ‡ç‚¹ï¼Œæ€è·¯å˜æˆäº†power(2, 8) = power(power(power(2, 2), 2), 2)ï¼Œè¿™æ ·ï¼Œå…«æ¬¡å°±å˜æˆäº†ä¸‰æ¬¡ï¼Œruntime errorçš„é—®é¢˜è§£å†³äº†ã€‚ä½†æ˜¯è®©æˆ‘å†™çš„ï¼Œæ‰£äº†å¥½ä¹…ä¹Ÿæ²¡æ‰£æ¥ğŸ˜…ï¼Œè€å¸ˆç»™äº†ç­”æ¡ˆ
```js
var myPow = function(x, n) {
  let result = 1;
  let sum = x;

  while(n > 0) {
    if (n % 2 === 1) {
      result *= sum;
    }

    sum *= sum;
    n = parseInt(n / 2);
  }

  return result;
};

```
å†æ¥ç€é—®ï¼ŒåŠ å…¥è´Ÿæ•°çš„å¤„ç†ï¼Œæ‰£äº†å¥½ä¹…æœ‰æ²¡æ‰£å‡ºæ¥ã€‚

##### ä¼˜åŒ–
æ—©ä¸Šæƒ³äº†æƒ³å¦‚ä½•å¤„ç†è´Ÿæ•°çš„æƒ…å†µï¼Œåœ¨jsè¯­è¨€ä¸­æµ‹è¯•äº†ä¸€ä¸‹`-1 / 2 = -1`ï¼Œ è¿™ä¸€çœ‹æ— è®ºå€¼ä¸ºæ­£å€¼è¿˜æ˜¯è´Ÿå€¼ï¼Œæœ€åé è¿‘çš„ç»“æœéƒ½æ˜¯0ï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢çš„ä»£ç ï¼š

```js
var myPow = function(x, n) {
  const temp = n;
  let result = 1;
  let sum = x;

  while(n !== 0) {
    if (n % 2 !== 0) {
      result *= sum;
    }

    sum *= sum;
    n = parseInt(n / 2);
  }

  if(temp < 0) return 1 / result;

  return result;
};
```
æäº¤ä»£ç acceptï¼Œä¸€åˆ‡okã€‚

ä½†æ˜¯sharedç»™è€å¸ˆçœ‹ï¼Œè€å¸ˆè¯´`n % 2`é‚£ä¸€å—å¯èƒ½ä¼šå‡ºé—®é¢˜ï¼Œäºæ˜¯æŸ¥äº†ä¸€ä¸‹â€œè´Ÿæ•°æ±‚æ¨¡â€ï¼Œæœç„¶æ˜¯æœ‰é—®é¢˜çš„ã€‚äºæ˜¯æˆ‘åœ¨rubyä¸­å°è¯•`-1 / 2`çš„ç»“æœç«Ÿç„¶ç­‰äº1ï¼ï¼ï¼ï¼ï¼ï¼å•Šï¼ŒçœŸçš„æ˜¯ä¸€ä¸ªå¾ˆæ„å¤–çš„ç»“æœã€‚

è€å¸ˆç»™äº†ä¸€ä¸ªè§£ç­”ï¼Œåœ¨ä¸€æ®µä»£ç ä¸­åŠ å…¥`if(n < 0) return 1 / myPow(x, -n)`ï¼Œso coolï¼Œ ä½†æ˜¯ä¹Ÿå¾ˆsadï¼Œä¸çŸ¥é“è‡ªå·±å½“æ—¶çš„é¬¼è¿·å¿ƒçªã€‚å“

##### æ€»ç»“
è´Ÿæ•°ä¸è¦è¿›è¡Œæ±‚æ¨¡è¿ç®—ã€‚

å°†æ•´ä¸ªé—®é¢˜åˆ‡æˆå‡ å—å¤„ç†ï¼Œåœ¨å¤šçº¿ç¨‹çš„ç¨‹åºä¸­ï¼Œå¦‚æœæœ‰3äº¿ä¸ªæ•°ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰ä¸ªçº¿ç¨‹åˆ†åˆ«å»è®¡ç®—ä¸€äº¿ä¸ªæ•°çš„å’Œï¼Œæœ€åç›¸åŠ ã€‚

å¯¹äºèƒ½åˆå¹¶å¤„ç†çš„é—®é¢˜ä¸€å®šåˆå¹¶å¤„ç†ã€‚












