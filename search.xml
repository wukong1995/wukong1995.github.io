<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[ror-deploy-with-puma-and-nginx]]></title>
      <url>/2018/11/28/ror-deploy-with-puma-and-nginx/</url>
      <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>è¿™ä¸ªè¿‡ç¨‹åŸºæœ¬ä¸Šæˆ‘èŠ±äº†ä¸‰ä¸ªæ˜ŸæœŸï¼Œæ‰å¼„å¥½ï¼Œå…¶ä¸­çš„æœ‰äº›éƒ¨ç½²æ–‡ä»¶è¿˜æ˜¯æˆ‘ç›´æ¥ä»é¡¹ç›®å¤åˆ¶ç²˜è´´è¿‡æ¥çš„ã€‚ç°åœ¨ä¸€æ•´ç†ï¼Œå‘ç°å¹¶æ²¡æœ‰é‚£ä¹ˆéš¾ï¼Œé‚£ä¸ºä»€ä¹ˆä¼šèŠ±è´¹ä¸‰ä¸ªæ˜ŸæœŸå‘¢ï¼Ÿå¤§éƒ¨åˆ†å¯èƒ½æ˜¯å› ä¸ºæˆ‘çš„æ— çŸ¥å’Œå¯¹centosçš„ä¸äº†è§£ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘åœ¨å¯åŠ¨æ•°æ®åº“çš„æ—¶å€™ï¼Œå®ƒå‘Šè¯‰æˆ‘ä¸èƒ½ä»¥rootèº«ä»½å¯åŠ¨ï¼Œç­‰æˆ‘åˆ‡æ¢åˆ°æ™®é€šè´¦æˆ·ï¼Œåˆå‘Šè¯‰æˆ‘ï¼Œå¯¹æ–‡ä»¶å¤¹æ²¡æœ‰å†™å…¥æƒé™ï¼Œçœ‹å¾—æˆ‘çœŸçš„å¾ˆçŸ›ç›¾ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæˆ‘åœ¨å®‰è£…pgè¿™ä¸ªgemçš„æ—¶å€™ï¼Œå‘Šè¯‰æˆ‘ç¼ºä¹ä¾èµ–ï¼Œæˆ‘æ‰¾åˆ°ç­”æ¡ˆ<code>yum install libs-devel</code>ï¼Œåˆå‘Šè¯‰æˆ‘rubyçš„ç‰ˆæœ¬å¤ªä½äº†ï¼Œå¾ˆçº³é—·ï¼Œæˆ‘æ˜æ˜è£…çš„æ˜¯æœ€æ–°çš„rubyç‰ˆæœ¬ï¼Œä¹‹åå°±ä¸€ç›´åœ¨ç¼ºä¹ä¾èµ–ç€è½¬åœˆï¼Œç­‰åˆ°ç°åœ¨æ‰çŸ¥é“æ˜¯å› ä¸ºæ‰¾ä¸åˆ°<code>pg_config</code>ï¼Œ <code>pg_config</code>è¿™ä¸ªæ–‡ä»¶ä¸€èˆ¬æ˜¯åœ¨<code>/usr/bin</code>æ–‡ä»¶å¤¹ä¸‹ï¼Œä½†æ˜¯æˆ‘å®‰è£…å®Œæ²¡æœ‰åœ¨è¿™â€¦.</p>
<h4 id="å®‰è£…ruby"><a href="#å®‰è£…ruby" class="headerlink" title="å®‰è£…ruby"></a>å®‰è£…ruby</h4><p>å¦‚æœä½¿ç”¨yumå®‰è£…rubyï¼Œç‰ˆæœ¬å¤ªä½ï¼Œä¸ºäº†ç®¡ç†rubyç‰ˆæœ¬ï¼Œæˆ‘ä½¿ç”¨rbenvæ¥ç®¡ç†<br><a href="https://linuxize.com/post/how-to-install-ruby-on-centos-7/" target="_blank" rel="noopener">å®‰è£…å‚è€ƒé“¾æ¥</a></p>
<h4 id="å®‰è£…postgresql"><a href="#å®‰è£…postgresql" class="headerlink" title="å®‰è£…postgresql"></a>å®‰è£…postgresql</h4><p>ä¿®æ”¹<code>/etc/yum.repos.d/CentOS-Base.repo</code>æ–‡ä»¶</p>
<pre class="line-numbers language-js"><code class="language-js">sudo vi <span class="token regex">/etc/yum</span><span class="token punctuation">.</span>repos<span class="token punctuation">.</span>d<span class="token operator">/</span>CentOS<span class="token operator">-</span>Base<span class="token punctuation">.</span>repo
exclude<span class="token operator">=</span>postgresql<span class="token operator">*</span>    <span class="token comment" spellcheck="true">// åœ¨[base]å’Œ[updates]å—ä¸­åŠ ä¸Šè¿™ä¸€è¡Œ</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>å®‰è£…postgresql</p>
<pre class="line-numbers language-js"><code class="language-js">sudo rpm <span class="token operator">-</span>Uvh http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>yum<span class="token punctuation">.</span>postgresql<span class="token punctuation">.</span>org<span class="token operator">/</span><span class="token number">9.5</span><span class="token operator">/</span>redhat<span class="token operator">/</span>rhel<span class="token number">-6</span><span class="token operator">-</span>x86_64<span class="token operator">/</span>pgdg<span class="token operator">-</span>centos95<span class="token number">-9.5</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">.</span>noarch<span class="token punctuation">.</span>rpm
sudo yum install postgresql95 postgresql95<span class="token operator">-</span>devel postgresql95<span class="token operator">-</span>server postgresql95<span class="token operator">-</span>libs postgresql95<span class="token operator">-</span>contrib
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åˆå§‹åŒ–æ•°æ®åº“<br>æ‰¾åˆ°psqlçš„å®‰è£…ç›®å½•(xxxx)çš„binæ–‡ä»¶å¤¹ï¼Œ</p>
<pre class="line-numbers language-js"><code class="language-js">xxxx<span class="token operator">/</span>bin<span class="token operator">/</span>pg_ctl <span class="token operator">-</span>D xxxx<span class="token operator">/</span>data initdb <span class="token comment" spellcheck="true">//åˆå§‹åŒ–æ•°æ®åº“</span>
xxxx<span class="token operator">/</span>bin<span class="token operator">/</span>pg_ctl <span class="token operator">-</span>D xxxx<span class="token operator">/</span>data start  <span class="token comment" spellcheck="true">// å¯åŠ¨æ•°æ®åº“</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åœ¨initdbï¼Œå¯èƒ½ä¼šå‡ºç°æƒé™ä¸å¤Ÿçš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™ï¼ŒæŸ¥çœ‹ä¸€ä¸‹<code>data</code>çš„æƒé™ï¼Œå‘ç°ä½ åº”è¯¥å°†ç”¨æˆ·åˆ‡æ¢æˆ<code>postgres</code></p>
<pre class="line-numbers language-js"><code class="language-js">sudo su postgres
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨è¿™ä¸€æ­¥ï¼Œä¼šæç¤ºä½ è¾“å…¥å¯†ç ï¼Œå¦‚æœä½ ä¸çŸ¥é“å¯†ç ï¼Œå°±ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å»ä¿®æ”¹å¯†ç </p>
<pre class="line-numbers language-js"><code class="language-js">passwd postgres
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å°†ç”¨æˆ·åˆ‡æ¢æˆ<code>postgres</code>å°±å¯ä»¥åˆå§‹åŒ–å’Œå¯åŠ¨æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤</p>
<pre class="line-numbers language-js"><code class="language-js">sudo service postgresql<span class="token number">-9.5</span> start               <span class="token comment" spellcheck="true">// å¯åŠ¨æ•°æ®åº“</span>
sudo chkconfig <span class="token operator">--</span>levels <span class="token number">235</span> postgresql<span class="token number">-9.5</span> on   <span class="token comment" spellcheck="true">// psqlå¼€æœºè‡ªå¯åŠ¨</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åˆ›å»ºpsqlçš„é“¾æ¥ç”¨æˆ·åå’Œå¯†ç </p>
<pre class="line-numbers language-js"><code class="language-js">sudo su postgres
psql
alter user username <span class="token keyword">with</span> password <span class="token string">'password'</span><span class="token punctuation">;</span>
create database testdb owner<span class="token operator">=</span>username<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="ä¸ºpumaå¢åŠ ä»£ç†"><a href="#ä¸ºpumaå¢åŠ ä»£ç†" class="headerlink" title="ä¸ºpumaå¢åŠ ä»£ç†"></a>ä¸ºpumaå¢åŠ ä»£ç†</h4><pre class="line-numbers language-js"><code class="language-js">cap production puma<span class="token punctuation">:</span>restar
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™ä¸ªæ—¶å€™è®¿é—®ç«¯å£ï¼Œå‘ç°æ— æ³•è®¿é—®ï¼ŒæŸ¥ä¸€ä¸‹pumaçš„logï¼Œå‘ç°<code>puma</code>åœ¨<code>production</code>ç¯å¢ƒä¸‹æ˜¯ä½¿ç”¨<code>socket</code>é“¾æ¥ï¼Œåªèƒ½ä½¿ç”¨nginxåšä»£ç†äº†ï¼Œç¼–è¾‘<code>/etc/nginx/conf.d/default.conf</code>æ–‡ä»¶ï¼Œæ›¿æ¢ä¸‹é¢ä»£ç ä¸­çš„<code>username</code>å’Œ<code>deploy_path</code></p>
<pre class="line-numbers language-js"><code class="language-js">upstream app <span class="token punctuation">{</span>
    # Path to Puma SOCK file<span class="token punctuation">,</span> <span class="token keyword">as</span> defined previously
    server unix<span class="token punctuation">:</span><span class="token operator">/</span><span class="token comment" spellcheck="true">//home/username/deploy_path/shared/sockets/puma.sock fail_timeout=0;</span>
<span class="token punctuation">}</span>

server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name localhost<span class="token punctuation">;</span>

    root <span class="token operator">/</span>home<span class="token operator">/</span>username<span class="token operator">/</span>deploy_path<span class="token operator">/</span>current<span class="token operator">/</span><span class="token keyword">public</span><span class="token punctuation">;</span>

    try_files $uri<span class="token operator">/</span>index<span class="token punctuation">.</span>html $uri @app<span class="token punctuation">;</span>

    location @app <span class="token punctuation">{</span>
        proxy_pass http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>app<span class="token punctuation">;</span>
        proxy_set_header X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>For $proxy_add_x_forwarded_for<span class="token punctuation">;</span>
        proxy_set_header Host $http_host<span class="token punctuation">;</span>
        proxy_redirect off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    error_page <span class="token number">500</span> <span class="token number">502</span> <span class="token number">503</span> <span class="token number">504</span> <span class="token operator">/</span><span class="token number">500</span><span class="token punctuation">.</span>html<span class="token punctuation">;</span>
    client_max_body_size 4G<span class="token punctuation">;</span>
    keepalive_timeout <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…³äº<code>puma</code>çš„<code>sock</code>çš„åœ°å€ï¼Œä½ æŸ¥ä¸€ä¸‹<code>puma</code>çš„<code>log</code>ç¡®è®¤ä¸€ä¸‹</p>
<h4 id="ä½ å¯èƒ½é‡åˆ°çš„é—®é¢˜"><a href="#ä½ å¯èƒ½é‡åˆ°çš„é—®é¢˜" class="headerlink" title="ä½ å¯èƒ½é‡åˆ°çš„é—®é¢˜"></a>ä½ å¯èƒ½é‡åˆ°çš„é—®é¢˜</h4><ol>
<li><p>åœ¨å®‰è£…pgè¿™ä¸ªgemçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæŠ¥ç¼ºå°‘ä¾èµ–ï¼Œæˆ–è€…æ‰¾ä¸åˆ°pg_configæ–‡ä»¶<br>ç­”ï¼š<code>gem install pg --with-pg-config=psqlçš„å®‰è£…ç›®å½•/bin/pg_config</code></p>
</li>
<li><p>æŠ¥é”™ï¼šActiveRecord::StatementInvalid: PG::InsufficientPrivilege: é”™è¯¯:  åˆ›å»ºæ‰©å±• â€œuuid-osspâ€ æƒé™ä¸å¤Ÿ<br>ç­”ï¼šéœ€è¦ä¸ºpsqlä¸­çš„æ–°å»ºusernameè®¾ç½®superæƒé™</p>
</li>
<li><p>å³ä½¿ä½ æ·»åŠ äº†nginxä»£ç†ï¼Œä½ å‘ç°ï¼Œç½‘ç«™è¿˜æ˜¯æ— æ³•è®¿é—®<br>ç­”ï¼šå¯ä»¥æŸ¥ä¸€ä¸‹<code>/var/log/nginx/nginx_error.log</code>ï¼Œæˆ‘é‡åˆ°çš„åŸå› æ˜¯æƒé™ä¸å¤Ÿï¼Œä¿®æ”¹<code>nginx</code>çš„configï¼Œå°†<code>user</code>ç”±<code>nginx</code>æ”¹æˆ<code>root</code></p>
</li>
</ol>
<h4 id="åç»­"><a href="#åç»­" class="headerlink" title="åç»­"></a>åç»­</h4><p>å¦‚æœé‡åˆ°ç“¶é¢ˆï¼Œä¸è¦å†ç»§ç»­ä¸‹å»ï¼Œæ”¾ä¸‹æ¥ï¼Œæ˜å¤©å†æ¥å°è¯•â€¦.</p>
]]></content>
      
        <categories>
            
            <category> rails </category>
            
        </categories>
        
        
        <tags>
            
            <tag> rails </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[centos-server-1]]></title>
      <url>/2018/11/20/centos-server-1/</url>
      <content type="html"><![CDATA[<h4 id="ç›®å‰çš„æƒ³æ³•"><a href="#ç›®å‰çš„æƒ³æ³•" class="headerlink" title="ç›®å‰çš„æƒ³æ³•"></a>ç›®å‰çš„æƒ³æ³•</h4><p>éœ€è¦äº†è§£ä¸€ä¸‹æœåŠ¡å™¨çš„ç«¯çš„çŸ¥è¯†ï¼Œæ‰å¯ä»¥åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ä¸å´©æºƒã€‚<br>ä½¿ç”¨ä¸­æœ€è®©æˆ‘å´©æºƒçš„æ˜¯ï¼Œæˆ‘åœ¨å¯åŠ¨pgçš„æ—¶å€™ï¼Œä½¿ç”¨rootèº«ä»½å¯åŠ¨ï¼Œå‘Šè¯‰æˆ‘ä¸å¯ä»¥ä½¿ç”¨rootèº«ä»½ï¼Œä½¿ç”¨æ™®é€šç”¨æˆ·å¯åŠ¨ï¼Œå‘Šè¯‰æˆ‘æ²¡æœ‰æ–‡ä»¶çš„è¯»å†™æƒé™ğŸ˜µ</p>
<p>è™½ç„¶è¿˜æ˜¯æ²¡æœ‰å®‰è£…ä¸Špgè¿™ä¸ªgem</p>
<h4 id="1-æ–°å»ºç”¨æˆ·"><a href="#1-æ–°å»ºç”¨æˆ·" class="headerlink" title="1. æ–°å»ºç”¨æˆ·"></a>1. æ–°å»ºç”¨æˆ·</h4><ol>
<li>æ–°å»ºç”¨æˆ·ï¼Œåˆ›å»ºå¯†ç <pre class="line-numbers language-js"><code class="language-js"># adduser tony
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>èµ‹äºˆrootæƒé™<br>æ‰¾åˆ°ä¸‰ä¸ªæ–¹æ³•ï¼š<br>2.1. ä¿®æ”¹ /etc/sudoers æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä¸€è¡Œï¼Œåœ¨rootä¸‹é¢æ·»åŠ ä¸€è¡Œ</p>
<pre class="line-numbers language-js"><code class="language-js">## Allow root to run any commands anywhere
root    ALL<span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>     ALL
tommy   ALL<span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>     ALL
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>2.2. ä¿®æ”¹ /etc/sudoers æ–‡ä»¶ï¼Œæ‰¾åˆ°ä¸‹é¢ä¸€è¡Œï¼ŒæŠŠå‰é¢çš„æ³¨é‡Šï¼ˆ#ï¼‰å»æ‰</p>
<pre class="line-numbers language-js"><code class="language-js">## Allows people <span class="token keyword">in</span> group wheel to run all commands
<span class="token operator">%</span>wheel    ALL<span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>    ALL
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä¿®æ”¹ç”¨æˆ·ï¼Œä½¿å…¶å±äºrootç»„:</p>
<pre class="line-numbers language-js"><code class="language-js"># usermod <span class="token operator">-</span>g root tony
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>2.3. ä¿®æ”¹ /etc/passwd æ–‡ä»¶ï¼Œæ‰¾åˆ°å¦‚ä¸‹è¡Œï¼ŒæŠŠç”¨æˆ·IDä¿®æ”¹ä¸º 0</p>
<pre class="line-numbers language-js"><code class="language-js">tony<span class="token punctuation">:</span>x<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">33</span><span class="token punctuation">:</span>tony<span class="token punctuation">:</span><span class="token operator">/</span>data<span class="token operator">/</span>webroot<span class="token punctuation">:</span><span class="token operator">/</span>bin<span class="token operator">/</span>bash
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>ä¸Šä¼ ssh-keyï¼Œå…³é—­å¯†ç ç™»å½•</p>
<pre class="line-numbers language-js"><code class="language-js"># ssh<span class="token operator">-</span>copy<span class="token operator">-</span>id tony@æœåŠ¡å™¨ip
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç¼–è¾‘/etc/ssh/sshd_config</p>
<pre class="line-numbers language-js"><code class="language-js">#PasswordAuthentication yes æ”¹ä¸º
PasswordAuthentication no
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ol>
<h4 id="2-å®‰è£…è½¯ä»¶"><a href="#2-å®‰è£…è½¯ä»¶" class="headerlink" title="2. å®‰è£…è½¯ä»¶"></a>2. å®‰è£…è½¯ä»¶</h4><p>ä¸åŒç³»ç»Ÿç®¡ç†è½¯ä»¶çš„è½¯ä»¶ä¸åŒï¼Œå¯¹äºè¿™ä¸ªæˆ‘ä¹Ÿæ˜¯ä¹±ä¹±çš„ï¼Œæ‰¾äº†ä¸€åœˆï¼Œæ‰å‘ç°æ˜¯ä½¿ç”¨yumå®‰è£…çš„â€¦.</p>
<h4 id="3-å¯åŠ¨æœåŠ¡"><a href="#3-å¯åŠ¨æœåŠ¡" class="headerlink" title="3. å¯åŠ¨æœåŠ¡"></a>3. å¯åŠ¨æœåŠ¡</h4><p>å¯åŠ¨çš„æœåŠ¡çš„å‘½ä»¤ï¼ˆæ˜¯è¿™æ ·å«å—ï¼Œæˆ–è€…å¯åŠ¨æœåŠ¡çš„åŒ…ï¼‰å¤§éƒ¨åˆ†åœ¨/etc/init.d/æ–‡ä»¶å¤¹ä¸‹â€¦.</p>
]]></content>
      
        <categories>
            
            <category> server </category>
            
        </categories>
        
        
        <tags>
            
            <tag> linux </tag>
            
            <tag> centos </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[pm2-second]]></title>
      <url>/2018/11/10/pm2-second/</url>
      <content type="html"><![CDATA[<p>æ—¶é—´å¯ä»¥ç»™äººæ²‰æ·€ï¼Œç°åœ¨å†è§£å†³ä¸€å¹´å‰çš„é—®é¢˜ï¼Œæ¯”ä¹‹å‰çœåŠ›âœŒï¸ã€‚<br>ä¹‹å‰å°è¯•è¿‡<a href="https://wukong1995.github.io/2017/09/13/pm2/">pm2</a>ï¼Œä½†æ˜¯ä»¥å¤±è´¥å‘Šç»ˆã€‚</p>
<p>ä¸çŸ¥åˆ°ä¹‹å‰ä¸ºä»€ä¹ˆä¼šæŠ¥nvmçš„é”™è¯¯ï¼Œè¿™æ¬¡ä½¿ç”¨yumå®‰è£…nodeï¼Œè¿˜ç®—é¡ºåˆ©ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"># yum install node

# pm2 deploy ecosystem<span class="token punctuation">.</span>json production setup

# pm2 deploy ecosystem<span class="token punctuation">.</span>json production
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿‡ç¨‹ä¸­ï¼Œè™½ç„¶startäº†ï¼Œä½†æ˜¯è¿˜æ˜¯æ— æ³•è®¿é—®ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘å°è¯•åœ¨æœåŠ¡å™¨ä¸Šä½¿ç”¨node start,å‘ç°ç«¯å£è¢«å ç”¨ï¼Œä½†æ˜¯pm2æ˜¾ç¤ºè¿˜æ˜¯å¯åŠ¨äº†(å› ä¸ºé¡¹ç›®æ˜¯ä¸€å¹´å‰å†™çš„ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºç‰ˆæœ¬å¤ªä½äº†è¿˜æ˜¯ä»€ä¹ˆåŸå› )ã€‚ã€‚ã€‚æ›´æ¢ç«¯å£ï¼Œå¯ä»¥è®¿é—®äº†â€¦.</p>
<p>ä¹‹å‰æˆ‘æ˜¯æƒ³ä½¿ç”¨rorï¼Œä½†æ˜¯pgé‚£ä¸ªgemæ­»æ´»è£…ä¸ä¸Šï¼Œå°±è¿˜æ˜¯è½¬ç”¨node+mongodb</p>
<h3 id="mongodbçš„å®‰è£…"><a href="#mongodbçš„å®‰è£…" class="headerlink" title="mongodbçš„å®‰è£…"></a>mongodbçš„å®‰è£…</h3><pre class="line-numbers language-javascript"><code class="language-javascript"># yum <span class="token operator">-</span>y install mongodb<span class="token operator">-</span>org
# rpm <span class="token operator">-</span>qa <span class="token operator">|</span>grep mongodb              <span class="token comment" spellcheck="true">// éªŒè¯å®‰è£…</span>
# rpm <span class="token operator">-</span>ql mongodb<span class="token operator">-</span>org<span class="token operator">-</span>server         <span class="token comment" spellcheck="true">// éªŒè¯å®‰è£…</span>
# <span class="token operator">/</span>etc<span class="token operator">/</span>init<span class="token punctuation">.</span>d<span class="token operator">/</span>mongod start           <span class="token comment" spellcheck="true">// å¯åŠ¨æœåŠ¡</span>
# netstat <span class="token operator">-</span>nltp<span class="token operator">|</span>grep mongo           <span class="token comment" spellcheck="true">// æŸ¥çœ‹å ç”¨ç«¯å£</span>
# mongo                              <span class="token comment" spellcheck="true">// è¿›å…¥æ•°æ®åº“</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> Nodejs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[refuse-to-overuse-react]]></title>
      <url>/2018/11/05/refuse-to-overuse-react/</url>
      <content type="html"><![CDATA[<p>å¯¹äºç›®å‰ä¸‰å¤§æ½®æµæ¡†æ¶ï¼Œæˆ‘å…ˆä½¿ç”¨çš„æ˜¯Angularï¼Œç”¨å®ƒå†™äº†ä¸€ä¸ªè´­ç‰©è½¦ï¼Œæ„Ÿè§‰éå¸¸å¥½ã€‚å·¥ä½œä¹‹åï¼Œä½¿ç”¨çš„reactï¼Œç”¨é¡ºæ‰‹ä¹‹åï¼Œç¬¬ä¸€è§£å†³åŠæ³•å°±æ˜¯æƒ³åˆ°reactï¼Œå¯¼è‡´æœ‰å¾ˆå¤šè¿‡åº¦ä½¿ç”¨çš„åœ°æ–¹ã€‚</p>
<p>è¿™ä¸ªåœ¨åŸæ¥çš„åŸºç¡€ä¸Šï¼Œéœ€è¦åšä¸€å¥—å’Œä¹‹å‰çš„ä¸œè¥¿åŠŸèƒ½ä¸Šå®Œå…¨ä¸ä¸€æ ·çš„ä¸œè¥¿ï¼Œäºæ˜¯æˆ‘æš—æš—ä¸‹å®šå†³å¿ƒï¼Œå°½é‡ä¸ä½¿ç”¨reactå’Œå…¶å®ƒçš„packageâ€¦</p>
<p>å¯¹äºæœç´¢è¿™ä¸€å—ï¼Œä¹‹å‰ä½¿ç”¨reactåšçš„ï¼Œè¿™ä¸€æ¬¡æˆ‘æƒ³è¦å°è¯•ä¸€ä¸‹ä½¿ç”¨jså»å®ç°â€¦ç¼•äº†ä¸€ä¸‹ï¼Œæˆ‘éœ€è¦åšçš„</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// è¯·æ±‚æ•°æ®ï¼ˆæ”¹å˜â€œæŸ¥çœ‹æ›´å¤šâ€æŒ‰é’®çš„çŠ¶æ€ï¼‰</span>
<span class="token comment" spellcheck="true">// å¤„ç†æ•°æ®ï¼ˆæ ¹æ®æ•°æ®ç”Ÿæˆhtmlç‰‡æ®µï¼‰</span>
<span class="token comment" spellcheck="true">// æ¸²æŸ“domï¼ˆå°†htmlæ’å…¥target domï¼‰</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="è¯·æ±‚æ•°æ®"><a href="#è¯·æ±‚æ•°æ®" class="headerlink" title="è¯·æ±‚æ•°æ®"></a>è¯·æ±‚æ•°æ®</h4><p>åœ¨react ä¸­ï¼Œé€šè¿‡æ”¹å˜stateçš„çŠ¶æ€ï¼Œjsä¸­éœ€è¦æ“ä½œbutton</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// react</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  isFetch<span class="token punctuation">:</span> status
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Button <span class="token operator">=</span> <span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">"button"</span><span class="token operator">></span><span class="token punctuation">{</span>status <span class="token operator">?</span> <span class="token string">'åŠ è½½ä¸­'</span> <span class="token punctuation">:</span> <span class="token string">'æŸ¥çœ‹æ›´å¤š'</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// js</span>
$button<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token function">getButtonHTML</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> getButtonHTML <span class="token operator">=</span> <span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> status <span class="token operator">?</span> <span class="token string">'åŠ è½½ä¸­'</span> <span class="token punctuation">:</span> <span class="token string">'æŸ¥çœ‹æ›´å¤š'</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="å¤„ç†æ•°æ®"><a href="#å¤„ç†æ•°æ®" class="headerlink" title="å¤„ç†æ•°æ®"></a>å¤„ç†æ•°æ®</h4><p>åœ¨reactä¸­é€šè¿‡æ”¹å˜stateå»å®ç°domçš„åŠ¨æ€æ’å…¥ï¼Œreactä¸­æ˜¯å†™ä¸€ä¸ªç»„ä»¶ï¼Œjsä¸­ä¸ºäº†æ¸…æ™°æœŸé—´ï¼Œæˆ‘å°†æ¯ä¸ªhtmlç‰‡æ®µåˆ†æˆä¸€ä¸ªæ–‡ä»¶</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// react</span>
<span class="token keyword">const</span> List <span class="token operator">=</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    list<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token punctuation">{</span>item<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// js</span>
<span class="token keyword">const</span> list <span class="token operator">=</span> <span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> list<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>acc<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;p></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;p>`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ¸²æŸ“dom"><a href="#æ¸²æŸ“dom" class="headerlink" title="æ¸²æŸ“dom"></a>æ¸²æŸ“dom</h4><p>reactæ˜¯é€šè¿‡æ”¹å˜statusï¼Œjsæ˜¯å°†ç”Ÿæˆçš„html fragmentæ’å…¥</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// react</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  list<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>oldList<span class="token punctuation">,</span> <span class="token operator">...</span>newList<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// js</span>
$container<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>htmlFragment<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>ä½¿ç”¨reactç»™æˆ‘å¸¦æ¥çš„æœ€å¤§æ„Ÿå—å°±æ˜¯ä¸€åˆ‡ç»„ä»¶åŒ–ï¼Œä¸€ä¸ªé—®é¢˜å¤§å˜å°ï¼Œæ˜¯éå¸¸å®¹æ˜“è§£å†³çš„ï¼Œç»„ä»¶åŒ–å¯ä»¥ä»£ç æ›´smartâ€¦å¤§èƒ†çš„å»é™¤codeçš„bad smell</p>
<p>æ˜å¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©åŠ æ²¹:)</p>
]]></content>
      
        <categories>
            
            <category> react </category>
            
            <category> js </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
            <tag> js </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[get-current-page-qrcode]]></title>
      <url>/2018/10/31/get-current-page-qrcode/</url>
      <content type="html"><![CDATA[<p>å°ç¨‹åºä¸­ï¼Œè·å¾—å°ç¨‹åºä¸­çš„æŸä¸€ç¯‡æ–‡ç« çš„åˆ†äº«å›¾ç‰‡ï¼Œè¯†åˆ«å›¾ç‰‡ä¸­çš„å°ç¨‹åºç è¿›å»å½“å‰æ–‡ç« çš„è¯¦æƒ…é¡µï¼Œ é—®é¢˜æ˜¯å¦‚ä½•è·å¾—å½“å‰é¡µé¢çš„å°ç¨‹åºç å‘¢ï¼Ÿ</p>
<p>å¾®ä¿¡ç»™æä¾›äº†ä¸‰ä¸ªæ¥å£ï¼š</p>
<blockquote>
<p>æ¥å£ A: é€‚ç”¨äºéœ€è¦çš„ç æ•°é‡è¾ƒå°‘çš„ä¸šåŠ¡åœºæ™¯<br> ç”Ÿæˆå°ç¨‹åºç ï¼Œå¯æ¥å— path å‚æ•°è¾ƒé•¿ï¼Œç”Ÿæˆä¸ªæ•°å—é™ï¼Œæ•°é‡é™åˆ¶è§ æ³¨æ„äº‹é¡¹ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚<br>æ¥å£ Bï¼šé€‚ç”¨äºéœ€è¦çš„ç æ•°é‡æå¤šçš„ä¸šåŠ¡åœºæ™¯<br> ç”Ÿæˆå°ç¨‹åºç ï¼Œå¯æ¥å—é¡µé¢å‚æ•°è¾ƒçŸ­ï¼Œç”Ÿæˆä¸ªæ•°ä¸å—é™ã€‚<br>æ¥å£ Cï¼šé€‚ç”¨äºéœ€è¦çš„ç æ•°é‡è¾ƒå°‘çš„ä¸šåŠ¡åœºæ™¯<br> ç”ŸæˆäºŒç»´ç ï¼Œå¯æ¥å— path å‚æ•°è¾ƒé•¿ï¼Œç”Ÿæˆä¸ªæ•°å—é™ï¼Œæ•°é‡é™åˆ¶è§ æ³¨æ„äº‹é¡¹ã€‚</p>
</blockquote>
<p>å…¶ä¸­ï¼Œç¬¬äºŒä¸ªæ¥å£çš„ä¸­çš„å…¶ä¸­å‚æ•°æœ€å¤šæ¥å—32ä¸ªå­—ç¬¦ã€‚ç¬¬ä¸€å’Œç¬¬ä¸‰çš„ç”Ÿæˆä¸ªæ•°æœ€å¤šæ˜¯åä¸‡å¼ </p>
<h4 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h4><ol>
<li>é€šè¿‡å°ç¨‹åºçš„appidå’Œå¯†é’¥å»è·å¾—access_token(æœ‰æ•ˆæœŸä¸¤ä¸ªå°æ—¶)</li>
<li>é€šè¿‡access_tokenå’Œç›¸åº”çš„å‚æ•°å»è·å¾—å›¾ç‰‡çš„äºŒè¿›åˆ¶æµ</li>
<li>å°†å›¾ç‰‡çš„äºŒè¿›åˆ¶æµè½¬æ¢æˆbase64å°±å¯ä»¥æ˜¾ç¤ºäº†</li>
</ol>
<p>å› ä¸ºéœ€è¦canvaså°†å°ç¨‹åºç ç”»å‡ºæ¥ï¼Œè°ƒè¯•å·¥å…·ä¸Šå¯ä»¥ç”»å‡ºæ¥base64çš„å›¾ç‰‡ï¼Œä½†æ˜¯åœ¨androidå’ŒiPhoneéƒ½æ˜¾ç¤ºä¸å‡ºæ¥â€¦æ‰€ä»¥å‰ç«¯å»è·å¾—å°ç¨‹åºæ˜¯ä¸èƒ½å®Œæˆæƒ³è¦çš„åŠŸèƒ½çš„ã€‚å’Œåç«¯æ²Ÿé€šçš„ç»“æœæ˜¯ï¼šåç«¯å»è·å¾—å›¾ç‰‡è¿”å›ç»™å‰ç«¯å›¾ç‰‡çš„ä¸´æ—¶åœ°å€â€¦</p>
<p>é™„ä¸Šä»£ç ï¼š</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token function">request</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://api.weixin.qq.com/cgi-bin/token?grant_type=client_credential&amp;appid=appid&amp;secret=secret`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token function">request</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`https://api.weixin.qq.com/wxa/getwxacodeunlimit?access_token=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>res<span class="token punctuation">.</span>data<span class="token punctuation">.</span>access_token<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      page<span class="token punctuation">:</span> <span class="token string">'ä½ çš„page'</span><span class="token punctuation">,</span>
      scene<span class="token punctuation">:</span> <span class="token string">'id=2'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">'POST'</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// arrayBufferToBase64</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[canvas-in-weapp]]></title>
      <url>/2018/10/29/canvas-in-weapp/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©çš„ä¸»è¦ä»»åŠ¡æ˜¯ç”»ä¸€ä¸ªåˆ†äº«çš„æµ·æŠ¥ï¼ŒåŸºäºä¹‹å‰çš„ä¸€æ¬¡ç»éªŒï¼Œè¿™æ¬¡é‡åˆ°çš„å‘æ¯”è¾ƒå°‘ï¼Œä¹Ÿæ›´æœ‰è€å¿ƒäº†ğŸ™‚ï¸</p>
<ol>
<li><p>canvasä¸­ç»˜åˆ¶ç½‘ç»œå›¾ç‰‡<br>canvasä¸­çš„drawImageä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å›¾ç‰‡çš„åœ°å€ï¼Œä½†æ˜¯ä¸èƒ½æ˜¯ç½‘ç»œå›¾ç‰‡ï¼Œè§£å†³çš„åŠæ³•æ˜¯ï¼šå…ˆä¸‹è½½ä¸‹æ¥ï¼Œå†å»ç»˜åˆ¶</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">wx<span class="token punctuation">.</span><span class="token function">downloadFile</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
url<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span>article<span class="token punctuation">.</span>cover_image_url<span class="token punctuation">,</span>
success<span class="token punctuation">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true">// cover</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>tempFilePath<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ç»™å›¾ç‰‡æ¥å†æ¥ä¸ªé®ç½©</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">setFillStyle</span><span class="token punctuation">(</span><span class="token string">'rgba(40, 40, 40, 0.3)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">fillRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>åŸºäºcanvasåœ¨å°ç¨‹åºä¸­çš„æ˜¯åŸç”Ÿç»„ä»¶å®ç°çš„ï¼Œå±‚çº§é«˜äºæ™®é€šå…ƒç´ ï¼Œæ€ä¹ˆå°†å®ƒéšè—ï¼Ÿ</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">opcity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token property">visibility</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>æµ‹è¯•äº†ä¸€ä¸‹æ˜¯ä¸å¯ä»¥çš„â€¦.</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">10000</span>rpx<span class="token punctuation">;</span> // ç»™å®ƒä¸€ä¸ªå·¨å¤§çš„åç§»
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ä¹‹å‰æ˜¯åšäº†ä¸€ä¸ªåˆ‡æ¢ï¼Œéœ€è¦ç»˜åˆ¶canvasçš„æ—¶å€™å°±æ˜¾ç¤ºå‡ºæ¥ï¼Œä½†æ˜¯è¿™æ ·ä¼šæœ‰ä¸€ä¸ªé—ªçƒçš„æ•ˆæœï¼Œæ‰€ä»¥æƒ³ç€æœ‰æ²¡æœ‰ä¸€ä¸ªèƒ½è®©canvasçœ‹ä¸è§åˆèƒ½å¯¼å‡ºå›¾ç‰‡çš„æ–¹æ³•ï¼Œæ–¹æ³•ä¸€åœ¨è™šæ‹Ÿæœºä¸Šæ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯åœ¨çœŸæœºä¸Šcanvasæ˜¯èƒ½æ˜¾ç¤ºå‡ºæ¥çš„â€¦plan A passï¼Œå¹¸è¿çš„æ˜¯plan Bå¯è¡Œâ€¦.èµ</p>
</li>
<li><p>canvasä¸­çš„æœ€é‡è¦æ˜¯è·å¾—canvasçš„å®é™…é«˜åº¦<br>ä¹‹å‰è¯•è¿‡ç›´æ¥æ‹¿ç€domçš„é«˜åº¦å»è®¾ç½®canvasçš„é«˜åº¦ï¼Œä½†æ˜¯æ¯ä¸ªæ‰‹æœºä¸Šçš„è¡¨ç°æ˜¯ä¸ä¸€æ ·çš„ï¼Œæœ‰çš„å¯èƒ½è¿‡é•¿ï¼Œæœ‰çš„å¯èƒ½è¿‡çŸ­ï¼Œæ€»ä¹‹å¾ˆéš¾é¢„æµ‹â€¦canvaä¸­æ’ç‰ˆå­—ä½“çš„æ—¶å€™ï¼Œç”±äºä¸èƒ½è‡ªåŠ¨æ¢è¡Œï¼Œåªèƒ½å»æ‰‹åŠ¨çš„è®¡ç®—ï¼Œå¯èƒ½å¯¼è‡´çš„åæœæ˜¯ç¬¦å·æ˜¾ç¤ºåœ¨è¡Œé¦–ï¼Œæ­£å¸¸ä½¿ç”¨domçš„è¯ï¼Œé€šè¿‡è®¾ç½®å¯ä»¥é¿å…ç¬¦å·åœ¨è¡Œé¦–ï¼Œè¿™æ ·ä»¥æ¥ï¼Œä¸¤è€…å¯¹äºæ–‡å­—çš„æ’ç‰ˆæ˜¯ä¸ä¸€æ ·çš„ï¼Œä»è€Œé«˜åº¦ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„</p>
</li>
<li><p>è¡¥å……ï¼šåœ¨setFillStyleåä½¿ç”¨drawImageç»˜åˆ¶å›¾ç‰‡<br>æˆ‘çš„å›¾ç‰‡æœ¬æ¥æ˜¯ç™½çš„ï¼Œä½†æ˜¯çœ‹èµ·æ¥å´æ˜¯ç°çš„ï¼ŒåŸå› ç«Ÿæ˜¯æˆ‘åœ¨å‰é¢çš„setFillStyleçš„æ“ä½œï¼ï¼ï¼</p>
</li>
</ol>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[css-rem]]></title>
      <url>/2018/10/25/css-rem/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨ä½¿ç”¨remä¸­å‘ç°äº†ä¸€ä¸ªä¹‹å‰æ²¡æ³¨æ„çš„ç‚¹</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token selector">html </span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.title</span> </span><span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">1.6</span>rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.container</span> </span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">2.4</span>rem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å…¶ä¸­titleçš„å­—ä½“å¤§å°ä¸º16pxï¼Œä½†æ˜¯containerçš„å®½åº¦å´æ˜¯28.8pxï¼Œæˆ‘ç®—äº†ä¸€ä¸‹28.8/2.4=1.2ï¼Œæƒ³åˆ°æµè§ˆå™¨çš„æœ€å°å­—ä½“æ˜¯12pxï¼Œæ‰€ä»¥æˆ‘æƒ³ç€å¯èƒ½å’Œæœ€å°å­—ä½“çš„å¤§å°æœ‰å…³ç³»ã€‚</p>
<p>äºæ˜¯æˆ‘å°è¯•å°†chromeçš„æœ€å°å­—ä½“è®¾ç½®ä¸ºæœ€å°ï¼ˆæ¯”12pxè¿˜å°ï¼‰ï¼Œå‘ç°containerçš„å®½åº¦æ˜¯24pxã€‚</p>
<p>å»æŸ¥èµ„æ–™æ²¡æœ‰æ‰¾åˆ°ç›¸åº”çš„èµ„æ–™ï¼Œå¯ä»¥äº†è§£çš„æ˜¯remæœ€å¥½ä½¿ç”¨åœ¨font-sizeä¸Šï¼Œä½¿ç”¨åœ¨marginå’Œpaddingä¸Šä¹Ÿä¼šå‡ºç°å’ŒæœŸæœ›ä¸ç”¨çš„å€¼ã€‚</p>
]]></content>
      
        <categories>
            
            <category> css </category>
            
        </categories>
        
        
        <tags>
            
            <tag> css </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[two-select-change-one]]></title>
      <url>/2018/10/22/two-select-change-one/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©å†™äº†ä¸€ä¸ªæ–¹æ³•ï¼Œè¢«é—®åˆ°è¿™ä¸¤ä¸ªæŸ¥è¯¢èƒ½æ”¹æˆä¸€ä¸ªæŸ¥è¯¢å—ï¼Ÿ</p>
<pre class="line-numbers language-ruby"><code class="language-ruby"><span class="token keyword">def</span> get_producer_name
  str <span class="token operator">=</span> producers<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span>map<span class="token punctuation">{</span> <span class="token operator">|</span>producer<span class="token operator">|</span> producer<span class="token punctuation">.</span>name <span class="token punctuation">}</span>
  str <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'ç­‰'</span> <span class="token keyword">if</span> producers<span class="token punctuation">.</span>count <span class="token operator">></span> <span class="token number">3</span>
<span class="token keyword">end</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ<code>producers.limit(3)</code>å’Œ<code>producer.count</code>ä¼šè¿›è¡Œä¸¤æ¬¡æŸ¥è¯¢ï¼Œè¦å˜æˆä¸€ä¸ªæŸ¥è¯¢ï¼Œè‚¿ä¹ˆåŠï¼Ÿ</p>
<pre class="line-numbers language-ruby"><code class="language-ruby"><span class="token keyword">def</span> get_producer_name
  pros <span class="token operator">=</span> producers<span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
  str <span class="token operator">=</span> pros<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>map<span class="token punctuation">{</span> <span class="token operator">|</span>producer<span class="token operator">|</span> producer<span class="token punctuation">.</span>name <span class="token punctuation">}</span>
  str <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'ç­‰'</span> <span class="token keyword">if</span> pros<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">3</span>
<span class="token keyword">end</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸€æ¬¡æ€§æŸ¥å‡ºæ¥å‰å››æ¡ï¼è¿™ä¸ªæ–¹å¼çœŸçš„å¾ˆèµğŸ‘ï¼æ˜¯å¦ç»™äº†ä½ æ–°çš„ideağŸ¤”ï¸</p>
]]></content>
      
        <categories>
            
            <category> æ•°æ®åº“ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> pg </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[stimulus-begin]]></title>
      <url>/2018/10/22/stimulus-begin/</url>
      <content type="html"><![CDATA[<h4 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h4><p><a href="https://github.com/stimulusjs/stimulus" target="_blank" rel="noopener">stimulus</a><br>tsä½œä¸ºjsçš„è¶…é›†ï¼Œåº”ç”¨ç‡ä¹Ÿæ˜¯éå¸¸å¹¿æ³›ï¼Œåœ¨githubä¸Šçœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„æ¡†æ¶ï¼Œäºæ˜¯æƒ³ç€ä»hello wordèµ°èµ·ï¼Œçœ‹å®Œæ —å­æœ‰ï¼Œæˆ‘å°è¯•å†™ä¸€ä¸ªåˆ—è¡¨â€¦</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-controller</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content-loader<span class="token punctuation">"</span></span> <span class="token attr-name">data-content-loader-url</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/message.html<span class="token punctuation">"</span></span> <span class="token attr-name">data-content-loader-refresh-interval</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>5000<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>list controller<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-controller</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list<span class="token punctuation">"</span></span> <span class="token attr-name">data-list-initial</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>[<span class="token punctuation">"</span>name<span class="token punctuation">"</span>]<span class="token punctuation">'</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list.text<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hello1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>click-<span class="token punctuation">></span>list#add<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">data-target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>list.items<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Controller <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'stimulus'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">extends</span> Controller <span class="token punctuation">{</span>
  <span class="token keyword">static</span> targets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token string">'items'</span><span class="token punctuation">,</span> <span class="token string">'item'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getInitialItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">items</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">items</span><span class="token punctuation">(</span>newItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> newItems<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>newItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">get</span> <span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>textTarget<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getInitialItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'initial'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span>items<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>itemsTarget<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> items<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>acc<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> acc <span class="token operator">+</span> <span class="token template-string"><span class="token string">`&lt;p data-target="list.item">&lt;span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span>&lt;button data-id="</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" data-action="click->list#deleteItem">delete&lt;/button>&lt;/p>`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">deleteItem</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> targetIndex <span class="token operator">=</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
    <span class="token keyword">const</span> newItems <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> targetIndex<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>targetIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> newItems<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>çœ‹èµ·æ¥éå¸¸goodï¼Œäºæ˜¯å¼€å§‹è¿è¡Œï¼Œå‘ç°æ­»å¾ªç¯äº†ï¼Œæ£€æŸ¥äº†ä»£ç æ²¡å‘ç°é”™è¯¯ï¼Œå°è¯•debuggerå‘ç°ç¨‹åºä¸€ç›´åœ¨æ‰§è¡Œsetæ“ä½œï¼Œå¾ˆçº³é—·ï¼Œæ²¡æ‰§è¡Œsetå‘€ã€‚æ‰¾æœºä¼šé—®äº†å“Ÿå“Ÿï¼Œä»–å‘Šè¯‰æˆ‘ï¼Œåœ¨setä¸­å°è¯•ç»™this.itemæ„å‘³ç€ä½ åœ¨setè°ƒç”¨setæœ¬èº«ï¼Œäºæ˜¯ä¹ï¼Œæ­»å¾ªç¯äº†â€¦</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">get</span> <span class="token function">items</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_items<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">set</span> <span class="token function">items</span><span class="token punctuation">(</span>newItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>_items <span class="token operator">=</span> newItems<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>newItems<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¿®æ”¹æˆä»¥ä¸Šä»£ç å¯ä»¥æ­£å¸¸å·¥ä½œã€‚</p>
<h4 id="æ€è€ƒï¼š"><a href="#æ€è€ƒï¼š" class="headerlink" title="æ€è€ƒï¼š"></a>æ€è€ƒï¼š</h4><p>1ã€å¦‚æœä»¥ä¸Šé¢çš„æ–¹å¼è¿›è¡Œï¼Œæˆ‘è§‰å¾—è¿˜ä¸å¦‚åšæˆé¢å‘å¯¹è±¡ä¸­çš„set/getâ€¦.è¿™åªæ˜¯æˆ‘ä¸ªäººçš„æƒ³æ³•</p>
<ol>
<li>å°†htmlå†™åœ¨jsä¸­ä¸€ç‚¹éƒ½ä¸ä¼˜é›…ï¼Œæˆ‘æ‰¾åˆ°äº†ä¸€ä¸ª<a href="https://github.com/stimulusjs/stimulus/issues/41" target="_blank" rel="noopener">demo</a>ï¼Œå®ƒæä¾›ä¸€ä¸ªæ›´å¥½çš„æ–¹å¼ã€‚</li>
<li>ä½¿ç”¨stimulusï¼Œæ€ç»´æ–¹å¼å’Œä¼ ç»Ÿçš„jsç›¸ä¼¼</li>
<li>åœ¨stimulusä¸­ï¼Œæ•°æ®å’Œå…ƒç´ ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ‰€ä»¥åœ¨deleteItemä¸­ç›´æ¥åˆ é™¤å…ƒç´ å¹¶ä¸”æ”¹å˜itemsçš„æ–¹å¼ä¼šä¸ä¼šæ¯”é€šè¿‡æ•°æ®å»æ”¹å˜domæ›´å¥½ä¸€ç‚¹ï¼Ÿè™½ç„¶äºŒéšä¸€å˜ä¼šå®¹æ˜“å‡ºbugï¼Œä½†æ˜¯è€ƒè™‘åˆ°åˆ—è¡¨å¯èƒ½ä¼šå¾ˆå¤šï¼Œåˆ é™¤ä¸€ä¸ªå…ƒç´ æ¯”é‡æ–°æ¸²æŸ“æ•´ä¸ªåˆ—è¡¨ä»£ä»·å°å¾ˆå¤šå§â€¦..</li>
</ol>
]]></content>
      
        <categories>
            
            <category> typescript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> typescript </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[whether-to-use-react]]></title>
      <url>/2018/10/14/whether-to-use-react/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨é‡æ„é¡¹ç›®ä¸­ï¼Œå‘ç°äº†å¾ˆå¤šè¿‡åº¦ä½¿ç”¨reactçš„åœ°æ–¹ï¼Œç°åœ¨æƒ³æƒ³åŸå› æ˜¯ï¼š1. æ—¶é—´ç´§è¿« 2.è¢«reactçš„çŠ¶æ€ç®¡ç†è¿·èŠ±äº†çœ¼ç›ï¼Œæ€»ä¹‹æ˜¯æ²¡ç£¨å¥½åˆ€å°±ç æŸ´äº†â€¦</p>
<p>åˆä¸€ä¸ªå·¦å³å¸ƒå±€ä¸‰ä¸ƒåˆ†çš„é¡µé¢ï¼Œå·¦è¾¹æ˜¯ä¸€å †å¯ä»¥switch checkçš„æ¡ä»¶ï¼Œå³è¾¹çš„ä¸Šéƒ¨æ˜¯checkedçš„æ¡ä»¶ï¼Œä¸­é—´æ˜¯ç­›é€‰ç»“æœåˆ—è¡¨ï¼Œä¸‹éƒ¨æ˜¯åˆ†é¡µã€‚</p>
<p>ä½¿ç”¨reactå®ç°ï¼Œæ€»ä¹‹è¦æ³¨æ„çš„æ˜¯å¯¹çŠ¶æ€çš„ç®¡ç†ã€‚ä½†å¦‚æœæ˜¯ä½¿ç”¨jqå®ç°ï¼Œæˆ‘ä»”ç»†çš„æƒ³äº†ä¸€ä¸‹ï¼Œå•Šï¼Œå·¦è¾¹å’Œå³è¾¹ä¸Šéƒ¨çš„æ•°æ®çš„ä¸€è‡´æ€§å¯ä»¥é€šè¿‡å…ƒç´ é€‰æ‹©å™¨æ¥ä¿è¯ï¼Œæ€»ä¹‹ï¼Œä½¿ç”¨jqï¼Œæ²¡æœ‰äº†ä¸€ä¸ªå…¨å±€çŠ¶æ€ï¼Œå³è¾¹éœ€è¦è·å¾—checkedçš„æ¡ä»¶ï¼Œåªèƒ½é€šè¿‡å…ƒç´ çš„ä¸åŒæ¥å¾—åˆ°ï¼Œå‡å¦‚é€‰æ‹©çš„æ¡ä»¶æ”¹å˜äº†ï¼Œæˆ‘éœ€è¦å…ˆå»è·å¾—é€‰æ‹©çš„æ¡ä»¶ï¼Œç„¶åå†å»æ”¹å˜å³è¾¹çš„domï¼Œæˆ‘è¯¥å¦‚ä½•å»æ¸²æŸ“domï¼Œå†™ä¸€ä¸ªå‡½æ•°ï¼Œè¾“å…¥å˜é‡ï¼Œè¾“å‡ºä¸ºhtml stringï¼Œå’¦ï¼Œè¿™ä¸ç›¸å½“äºreact componentå˜›ã€‚</p>
<p>æ€»ä¹‹ï¼Œä½¿ç”¨reactå»å®ç°æ˜¯ç»´æŠ¤çš„ä¸€ä¸ªå…¨å±€çŠ¶æ€å˜é‡ï¼Œä½¿ç”¨jqï¼Œæ˜¯é€šè¿‡domå»å¾—åˆ°çŠ¶æ€å˜é‡â€¦è¿™æ˜¯æˆ‘å¯¹ä¸¤ç§å®ç°æ–¹å¼çš„è®¤çŸ¥â€¦.è‡³äºä½¿ç”¨å“ªä¸€ä¸ªï¼Œè¿˜éœ€è¦äº†è§£ä¸€ä¸‹éœ€æ±‚â€¦</p>
<p>PSï¼šæ€»ä¹‹ï¼Œç¦»å¼€äº†reactï¼Œä½¿ç”¨jsä¸æ˜¯ä¸€ä¸ªå›°éš¾çš„äº‹æƒ…ï¼Œç£¨åˆ€å‘€â€¦</p>
]]></content>
      
        <categories>
            
            <category> react </category>
            
            <category> æ‚è°ˆ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
            <tag> æ‚è°ˆ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[reference-equality-and-value-equality]]></title>
      <url>/2018/09/26/reference-equality-and-value-equality/</url>
      <content type="html"><![CDATA[<p>åœ¨ç¼–ç¨‹è¯­è¨€ä¸–ç•Œä¸­é€šå¸¸æœ‰ä¸¤ç§ç±»å‹çš„ç›¸ç­‰ï¼š</p>
<ul>
<li>reference equality</li>
<li>value equality</li>
</ul>
<h4 id="å¼•å…¥"><a href="#å¼•å…¥" class="headerlink" title="å¼•å…¥"></a>å¼•å…¥</h4><p>æ€è€ƒä¸‹é¢çš„ä»£ç ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span>
    y <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> object2 <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ­£å¦‚ä½ çœ‹åˆ°çš„ï¼Œ<code>object</code>å’Œ<code>object2</code>æœ‰ç›¸åŒçš„å€¼ã€‚å¦‚æœä½ çœ‹ä¸€ä¸‹<code>object</code>å’Œ<code>object2</code>ä¸­çš„æ¯ä¸ªé”®ä»¥åŠå®ƒä»¬å¯¹åº”çš„å€¼ï¼Œå®ƒä»¬æ˜¯ç›¸åŒçš„ã€‚åœ¨objectå’Œobject2ä¸­ï¼Œ<code>x</code>çš„å€¼æ˜¯1ï¼Œ<code>y</code>çš„å€¼æ˜¯2ã€‚</p>
<p>ä½†æ˜¯å½“ä½ æƒ³è¦åœ¨ä½ çš„ç¨‹åºä¸­æ£€æŸ¥objectå’Œobject2æ˜¯å¦ç›¸ç­‰ï¼Œä½ ä¼šå‘ç°ï¼šè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸ä¸€æ ·çš„ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">object <span class="token operator">==</span> object2 <span class="token comment" spellcheck="true">// false</span>
object <span class="token operator">===</span> object2 <span class="token comment" spellcheck="true">// false</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<h4 id="reference-equality"><a href="#reference-equality" class="headerlink" title="reference equality"></a>reference equality</h4><p>Objectsæ˜¯ç°å¸¸å¤æ‚çš„æ•°æ®ç»“æ„ã€‚å®ƒä»¬å¯ä»¥æœ‰å¾ˆå¤škeyï¼Œè¿™äº›keyå¯ä»¥æ‰§è¡Œä¸åŒçš„å€¼ã€‚è¿™äº›å€¼ä¹Ÿå¯ä»¥æ˜¯objectsï¼Œæ‰€ä»¥<strong>objectsæ˜¯å¯ä»¥åµŒå¥—çš„</strong>ã€‚</p>
<p>å¦‚æœä½ è€ƒè™‘äº‹ç‰©çš„ç›¸ç­‰è¡Œï¼Œäº‹å®ä¸Šä½ éœ€è¦è€ƒè™‘ä¸¤ä»¶äº‹æƒ…ï¼š</p>
<ul>
<li>ä¸€ä¸ªäº‹ç‰©æ˜¯å¦æ„å‘³ç€ä¸å¦ä¸€ä¸ªäº‹ç‰©ç›¸åŒï¼Ÿ</li>
<li>ä¸€ä¸ªäº‹ç‰©ä¸å…¶å®ƒä¸œè¥¿å®Œå…¨ä¸€æ ·ï¼Ÿ</li>
</ul>
<p>å¦‚æœæˆ‘ä»ç°å®ä¸–ç•Œä¸­ä¸¾ä¸€ä¸ªä¾‹å­ï¼šæƒ³è±¡ä¸€ä¸‹ä½ æœ‰ä¸€ä¸ªçº¢è‰²çš„è·‘è½¦ï¼Œä½ çš„é‚»å±…ä¹Ÿæœ‰å’Œä½ çš„è½¦ä¸€æ ·çš„è½¦ï¼Œç›¸åŒçš„é¢œè‰²ï¼Œç›¸åŒçš„å‘åŠ¨æœºï¼Œç›¸åŒçš„ç‰Œå­ã€‚å¦‚æœé™Œç”Ÿäººç»è¿‡ä½ çš„å®¶ï¼Œä»–ä»¬ä¼šè¯´ï¼šå˜¿ï¼Œè¿™äº›äººæœ‰ç›¸åŒçš„è½¦ã€‚</p>
<p>ä½†æ˜¯ï¼Œä½ é‚»å±…çš„è½¦ä¸æ˜¯ä½ çš„ã€‚ä½ ä¸ä¼šåä¸Šé‚»å±…è½¦ï¼Œè®¤ä¸ºè¿™æ˜¯ä½ çš„ï¼Œå¯¹å§ï¼Œæˆ–è€…è‡³å°‘ä½ ä¸åº”è¯¥ã€‚å¦‚æœä½ æ’åäº†é‚»å±…çš„è½¦ï¼Œä½ å¯èƒ½ä¼šæœ‰ä¸€ä¸ªä¸å¿«ä¹çš„é‚»å±…ï¼Œå½“ç„¶è¿˜æœ‰ä¸€äº›æ³•å¾‹é—®é¢˜:)</p>
<p>åŒºåˆ†ä½ çš„è½¦å’Œé‚»å±…çš„è½¦çš„æœ€æ˜æ˜¾çš„åœ°æ–¹æ˜¯è½¦ç‰Œã€‚</p>
<p>äº‹å®ä¸Šï¼Œ JavaScript objectsçš„å†…ç½®äº†è¿™ç§â€œç‰Œç…§â€ï¼Œæ¯ä¸ªobjectçš„ç‹¬ç‰¹ç‰¹æ€§ç§°ä¸º<code>reference</code>ï¼ˆå¼•ç”¨ï¼‰ã€‚<br>å½“ä½ åœ¨jsä¸­æ¯”è¾ƒobjectæ—¶ï¼Œå®ƒä»¬é€šè¿‡referenceæ¯”è¾ƒ</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">object <span class="token operator">==</span> object2<span class="token punctuation">;</span>
object <span class="token operator">===</span> object2<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>é—®é¢˜ï¼šobjectå’Œobject2æ˜¯ç›¸ç­‰å—ï¼Ÿå®é™…ä¸Šä½ åˆ†é…å˜é‡çš„æ—¶å€™ï¼Œä¹Ÿåˆ†é…äº†referenceã€‚<br>ä½ å¯ä»¥å¾ˆå®¹æ˜“çš„æ£€æŸ¥è¿™ä¸ªï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">object <span class="token operator">=</span> object2<span class="token punctuation">;</span>
object <span class="token operator">==</span> object2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
object <span class="token operator">===</span> object2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä¹Ÿä¼šæœ‰ä¸€äº›æœ‰è¶£çš„ç»“æœï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">object <span class="token operator">=</span> object2<span class="token punctuation">;</span>
object<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>

object<span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 12</span>
object2<span class="token punctuation">.</span>x<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 12</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½ åšäº†ä¸€æ¬¡å°†<code>x</code>è¿™ä¸ªkeyåˆ†é…ç»™objectè¿™ä¸ªå¯¹è±¡ã€‚objectå’Œobject2æŒ‡å‘<strong>ç›¸åŒçš„å¼•ç”¨</strong>ï¼Œæ‰€ä»¥åªè¦ä¸€ä¸ªå˜é‡æ›´æ”¹ï¼Œå¦ä¸€ä¸ªå˜é‡ä¹Ÿä¼šæ›´æ”¹ã€‚</p>
<p>JavaScriptä¸­çš„å¤æ‚çš„æ•°æ®ç»“æ„éƒ½éµå¾ª<code>reference equality</code>çš„åŸåˆ™ï¼Œè¿™åŒ…æ‹¬<strong>arrays</strong>å’Œobjetcsï¼Œå®é™…ä¸Šé€šè¿‡typeofæŸ¥çœ‹arrayçš„ç±»å‹ï¼Œå¾—åˆ°çš„ç»“æœä¹Ÿæ˜¯objectã€‚</p>
<p><strong>è¿˜æœ‰ä¸€äº›å€¼åƒï¼šnumbers, strings, booleans or null / undefinedï¼Œå®ƒä»¬éƒ½éµå¾ªä¸€ç§ç›¸ç­‰ï¼švalue equalityã€‚</strong></p>
<h4 id="value-equality"><a href="#value-equality" class="headerlink" title="value equality"></a>value equality</h4><p>åƒå‰é¢è¯´çš„ï¼Œreference equalityå›ç­”çš„æ˜¯object1å’Œobject2æ˜¯å¦ä¸€æ ·ï¼Ÿè¿™ç§æ£€æŸ¥å¾ˆç®€å•ï¼Œå®ƒä»¬éå¸¸æœ‰æ•ˆã€‚</p>
<p>è¯´åˆ°Javascriptä¸­çš„<strong>primitives</strong>ï¼ˆè¿™ä¸ªæˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆç¿»è¯‘ï¼ŒæŒ‡çš„æ˜¯ä¸Šé¢çš„numbersç­‰ï¼Œå®ƒä»¬æ˜¯ä¸å¯ä»¥åµŒå¥—çš„ã€‚è¿™ç§ä¸èƒ½åµŒå¥—å…¶å®ƒç»“æ„çš„ç»“æ„ç§°ä¸º<strong>shallow data structures</strong>ï¼ˆæµ…æ•°æ®ç»“æ„ï¼‰ã€‚åœ¨è¿™æ ·çš„ç»“æ„ä¸­ï¼Œä½ å¯ä»¥ä»¥æœ‰æ•ˆçš„æ–¹å¼æ‰§è¡Œvalue equalityã€‚</p>
<p>ä½†æ˜¯ä»€ä¹ˆæ˜¯value equalityï¼Ÿæ€è€ƒä¸‹é¢çš„ä»£ç ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span>
    y <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>åœ¨ç›¸ç­‰æ–¹é¢ï¼Œæ•°å­—æ˜¯æœ€ç®€å•çš„ã€‚ä½ å¯ä»¥æ¸…æ¥šçš„è¯´xå˜é‡çš„å€¼ç­‰äºyå˜é‡çš„å€¼ï¼ˆ12åœ¨æ•°å­¦ä¸­ç­‰äº12ï¼‰ä½†æ˜¯å¦‚æœè¿™äº›å˜é‡éµå¾ªreference equalityï¼Œå®ƒä»¬æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ä¸åŒçš„åœ°æ–¹åˆ›å»ºçš„ã€‚æ‰€ä»¥å®ƒä»¬çš„å¼•ç”¨æ˜¯ä¸åŒçš„ã€‚xçš„12å¯èƒ½æ˜¯å’Œyçš„12æ˜¯ä¸ä¸€æ ·çš„ã€‚è¿™çœŸæ˜¯å¤ªä¹±äº†ã€‚</p>
<p>å¹¸è¿çš„æ˜¯ï¼Œmembersåœ¨JavaScriptä¸­æ˜¯primitivesï¼Œprimitivesåœ¨javascriä¸­ä½¿ç”¨çš„æ˜¯value equalityè¿›è¡Œæ¯”è¾ƒã€‚<br>æ‰€ä»¥çœ‹åˆ°è¿™æ˜¯ä¸å¥‡æ€ªçš„ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">x <span class="token operator">==</span> y<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
x <span class="token operator">===</span> y<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>value equalityå›ç­”çš„æ˜¯è¿™ä¸ªç–‘é—®ï¼šä¸€ä¸ªäº‹ç‰©æ˜¯å¦æ„å‘³ç€ä¸å¦ä¸€ä¸ªäº‹ç‰©ç›¸åŒï¼Ÿ</p>
<p>åµŒå¥—çš„æ•°æ®ç»“æ„æ˜¯çš„ç›¸ç­‰æ›´åŠ éš¾ä»¥æ¯”è¾ƒã€‚Objectsæœ‰ä»»æ„çš„keyå’Œvalueï¼Œå®ƒå¯ä»¥åŒ…å«å…¶ä»–çš„objectsã€‚ä¸ºäº†æ¯”è¾ƒä¸¤ä¸ªobjectsçš„ç›¸ç­‰ï¼Œä½ å¯èƒ½éœ€è¦ä¸‹é¢çš„ç®—æ³•ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">/</span> Input<span class="token punctuation">:</span> an object1 and object2
<span class="token comment" spellcheck="true">// Output: true if an object1 is equal in terms of values to object2</span>

<span class="token function">valueEqual</span><span class="token punctuation">(</span>object1<span class="token punctuation">,</span> object2<span class="token punctuation">)</span><span class="token punctuation">:</span>
  object1keys <span class="token operator">=</span> <span class="token operator">&lt;</span>list <span class="token keyword">of</span> keys <span class="token keyword">of</span> object1<span class="token operator">></span>
  object2keys <span class="token operator">=</span> <span class="token operator">&lt;</span>list <span class="token keyword">of</span> keys <span class="token keyword">of</span> object2<span class="token operator">></span>

  <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token keyword">if</span> <span class="token function">length</span><span class="token punctuation">(</span>object1keys<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token function">length</span><span class="token punctuation">(</span>object2keys<span class="token punctuation">)</span>

  <span class="token keyword">for</span> each key <span class="token keyword">in</span> object1keys<span class="token punctuation">:</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token keyword">if</span> key not <span class="token keyword">in</span> object2keys
    <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token keyword">if</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>object1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span>object2<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> object1<span class="token punctuation">[</span>key<span class="token punctuation">]</span> is an object<span class="token punctuation">:</span>
      keyEqual <span class="token operator">=</span> <span class="token function">valueEqual</span><span class="token punctuation">(</span>object1<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> object2<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token keyword">if</span> keyEqual <span class="token operator">!=</span> <span class="token boolean">false</span>

    <span class="token keyword">if</span> object1<span class="token punctuation">[</span>key<span class="token punctuation">]</span> is a primitive<span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token keyword">if</span> object1<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">!=</span> object2<span class="token punctuation">[</span>key<span class="token punctuation">]</span>

  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‘¼ï¼Œè¿™é‡Œé¢æœ‰å¥½å¤šç›¸ç­‰æ£€æŸ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªé€’å½’ç®—æ³•ã€‚å®ƒåœ¨æ¯”è¾ƒä¸¤ä¸ªobjectæ˜¯ä¼šæ‰§è¡Œä¸Šåƒæ¬¡ç›¸ç­‰æ£€æŸ¥ï¼Œè¿™æ ·çš„ç›¸ç­‰æ£€æŸ¥é€šå¸¸è¢«ç§°ä½œ <strong>deep equality checks</strong>ï¼ˆæ·±æ¯”è¾ƒï¼‰ã€‚<br>æ›´ç³Ÿç³•çš„æ˜¯ï¼Œè¿™ä¸ªç®—æ³•æ˜¯ä¸ä¼šå®Œæˆçš„ã€‚è¿™æ˜¯å› ä¸ºä½ å¯èƒ½åˆ›å»ºäº†<strong>å¾ªç¯çš„å¼•ç”¨å¯¹è±¡</strong>ã€‚</p>
<p>PSï¼š<a href="http://reactkungfu.com/2015/08/pros-and-cons-of-using-immutability-with-react-js/" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a></p>
]]></content>
      
        <categories>
            
            <category> javascript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[immutable-data]]></title>
      <url>/2018/09/25/immutable-data/</url>
      <content type="html"><![CDATA[<p>é¡¹ç›®ä¸­çš„apolloä¸»è¦æ˜¯ç”¨çš„åˆ†é¡µè¿™ä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯æˆ‘åœ¨checkä»£ç çš„æ—¶å€™ï¼Œå‘ç°äº†æ¯æ¬¡æˆ‘å‘åˆ—è¡¨ä¸­pushäº†ä¸€ä¸ªæ•°æ®ï¼Œæ•´ä¸ªåˆ—è¡¨æ˜¯å…¨éƒ¨re-render!!!å‡å¦‚æ¯ä¸ªæ˜¯åæ¡æ•°æ®ï¼Œç­‰æˆ‘æ»‘åˆ°ç¬¬åé¡µçš„æ—¶å€™ï¼Œ100ä¸ªitemæ˜¯å…¨éƒ¨re-renderçš„â€¦æˆ‘å»æŸ¥apollo fetch updata æ²¡æœ‰æ‰¾åˆ°ç»“æœï¼Œæˆ‘å‘react-apolloæäº†issueï¼Œæ„Ÿè°¢Gå‹captDaylightç»™æˆ‘çš„å›å¤ã€‚</p>
<blockquote>
<p>When you update an item in a list with immutablility helper its returning a brand new array, so itâ€™ll have a new reference. So that list in Reactâ€™s eyes is completely new, even if structurally most of the items in the array are the same. Thus each item will be re-rendered.</p>
</blockquote>
<p>å¼€å§‹ï¼Œæˆ‘çš„é‡ç‚¹æ˜¯æ”¾åœ¨immutablility-helperï¼Œä½†æ˜¯æŸ¥äº†å¥½ä¹…ä¹Ÿæ²¡æ‰¾åˆ°why</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘æŸ¥äº†é¡¹ç›®ä¸­ä½¿ç”¨stateçš„åˆ—è¡¨ï¼Œå‘ç°å®ƒåªä¼šre-renderæ–°å¢çš„æ•°æ®ï¼Œäºæ˜¯æˆ‘ä½¿ç”¨reduxæ¥æ¸²æŸ“listï¼Œå‘ç°å®ƒä¹Ÿæ˜¯å…¨éƒ¨re-renderæ‰€æœ‰itemã€‚stateå’Œreduxçš„å·®å¼‚åœ¨å“ªï¼Ÿreduxä¸­ä½¿ç”¨çš„æ˜¯immutable dataï¼Œäºæ˜¯æˆ‘å»æŸ¥æ–‡æ¡£ã€‚</p>
<h5 id="1-What-are-the-benefits-of-immutability"><a href="#1-What-are-the-benefits-of-immutability" class="headerlink" title="1. What are the benefits of immutability"></a>1. What are the benefits of immutability</h5><p>immutabilityå¯ä»¥ä¸ºä½ çš„åº”ç”¨ç¨‹åºå¸¦æ¥æ›´é«˜çš„æ€§èƒ½ï¼Œå¹¶ä¸”å¯ä»¥ç®€åŒ–å˜æˆå’Œè°ƒè¯•ã€‚åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­ï¼Œä»ä¸ä¼šæ›´æ”¹çš„æ•°æ®æ¯”å¯ä»¥éšæ„æ›´æ”¹çš„æ•°æ®æ›´å®¹æ˜“ç†è§£ã€‚</p>
<p>ç‰¹åˆ«çš„ï¼ŒWebåº”ç”¨ç¨‹åºç¯å¢ƒä¸­çš„ä¸å˜æ€§å¯ä»¥ä½¿å¤æ‚çš„å˜æ›´æ£€æµ‹å˜å¾—æ›´ç®€å•å’Œå»‰ä»·ï¼Œç¡®ä¿è®¡ç®—æˆæœ¬é«˜æ˜‚çš„DOMæ›´æ–°è¿‡ç¨‹åªå‘ç”Ÿåœ¨ç»å¯¹å¿…è¦çš„æ—¶å€™ï¼ˆè¿™æ˜¯Reactç›¸å¯¹äºå…¶ä»–åº“æ€§èƒ½æ”¹è¿›çš„åŸºçŸ³ï¼‰ã€‚</p>
<h5 id="2-Why-is-immutability-required-by-Redux"><a href="#2-Why-is-immutability-required-by-Redux" class="headerlink" title="2. Why is immutability required by Redux?"></a>2. Why is immutability required by Redux?</h5><ul>
<li>Reduxå’ŒReact-Reduxéƒ½ä½¿ç”¨æµ…ç­‰å¼æ£€æŸ¥ã€‚å°¤å…¶æ˜¯ï¼š<ul>
<li>Reduxçš„combineReducerså®ç”¨ç¨‹åºæµ…å±‚æ£€æŸ¥ç”±å®ƒè°ƒç”¨çš„reducerå¼•èµ·çš„å¼•ç”¨å˜åŒ–ã€‚</li>
<li>React-Reduxçš„connectæ–¹æ³•ç”Ÿæˆçš„ç»„ä»¶æµ…å±‚åœ°æ£€æŸ¥å¯¹æ ¹çŠ¶æ€çš„å¼•ç”¨æ›´æ”¹ï¼Œä»¥åŠæ¥è‡ªmapStateToPropså‡½æ•°çš„è¿”å›å€¼ï¼Œä»¥æŸ¥çœ‹åŒ…è£…çš„ç»„ä»¶æ˜¯å¦å®é™…éœ€è¦re-render</li>
</ul>
</li>
<li>immutable dataçš„ç®¡ç†æœ€ç»ˆä½¿æ•°æ®æ›´å®‰å…¨</li>
<li>Time-travel debuggingè¦æ±‚reducersæ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„çº¯å‡½æ•°ï¼Œå› æ­¤ä½ å¯ä»¥åœ¨ä¸åŒçš„çŠ¶æ€ä¹‹é—´æ­£ç¡®è·³è½¬ã€‚</li>
</ul>
<h5 id="3-Why-does-Reduxâ€™s-use-of-shallow-equality-checking-require-immutability"><a href="#3-Why-does-Reduxâ€™s-use-of-shallow-equality-checking-require-immutability" class="headerlink" title="3. Why does Reduxâ€™s use of shallow equality checking require immutability?"></a>3. Why does Reduxâ€™s use of shallow equality checking require immutability?</h5><p>å¦‚æœè¦æ­£ç¡®çš„æ›´æ–°ä»»ä½•connectedç»„ä»¶ï¼ŒReduxä½¿ç”¨ shallow equality checkingï¼ˆæµ…æ£€æŸ¥ï¼‰ï¼Œè¦äº†è§£åŸå› ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£ shallow equality checkingå’Œdeep equality checkingï¼ˆæ·±æ£€æŸ¥ï¼‰ä¹‹å‰çš„åŒºåˆ«ã€‚<br>ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼šshallow equality checkingåªæ˜¯ç®€å•çš„æ£€æŸ¥ä¸¤ä¸ªä¸åŒçš„å˜é‡æ˜¯å¦æ˜¯ç›¸åŒçš„å¼•ç”¨ï¼›ç›¸åï¼Œdeep equality checkingå¿…é¡»æ£€æŸ¥ä¸¤ä¸ªå¯¹è±¡å±æ€§çš„æ¯ä¸ªå€¼ã€‚</p>
<h5 id="4-How-does-Redux-use-shallow-equality-checkingï¼Ÿ"><a href="#4-How-does-Redux-use-shallow-equality-checkingï¼Ÿ" class="headerlink" title="4. How does Redux use shallow equality checkingï¼Ÿ"></a>4. How does Redux use shallow equality checkingï¼Ÿ</h5><p>Reduxåœ¨combineReducerså‡½æ•°ä¸­ä½¿ç”¨æµ…ç­‰å¼æ£€æŸ¥æ¥è¿”å›æ ¹çŠ¶æ€å¯¹è±¡çš„æ–°å˜å¼‚å‰¯æœ¬ï¼Œæˆ–è€…ï¼Œå¦‚æœæ²¡æœ‰è¿›è¡Œä»»ä½•çªå˜ï¼Œåˆ™è¿”å›å½“å‰æ ¹çŠ¶æ€å¯¹è±¡ã€‚</p>
<h5 id="5-How-does-React-Redux-use-shallow-equality-checking"><a href="#5-How-does-React-Redux-use-shallow-equality-checking" class="headerlink" title="5.How does React-Redux use shallow equality checking?"></a>5.How does React-Redux use shallow equality checking?</h5><p>å½“æ ¹çŠ¶æ€å¯¹è±¡çš„å¼•ç”¨æ”¹å˜æ—¶ï¼Œå¯¹äºæœ‰mapStateToPropsçš„ç»„ä»¶ï¼Œæ£€æŸ¥mapStateToPropsçš„è¿”å›å€¼ï¼Œå¦‚æœè¿”å›å€¼ä¸å˜ï¼Œåˆ™ç»„ä»¶ä¸ä¼šre-renderã€‚</p>
<p>å¯¹äºä¸‹é¢è¿™ä¸ªç»„ä»¶ï¼Œå¦‚æœstate.todoså’ŒgetVisibleTodosè¿”å›çš„å€¼ä¸å˜æ—¶ï¼Œè¿™ä¸ªç»„ä»¶ä¸ä¼šre-render</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    todos<span class="token punctuation">:</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// prop value</span>
    visibleTodos<span class="token punctuation">:</span> <span class="token function">getVisibleTodos</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// selector</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
â€‹
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>TodoApp<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¯¹äºä¸‹é¢è¿™ä¸ªç»„ä»¶ï¼Œå§‹ç»ˆä¼šre-renderï¼Œå› ä¸ºtodosçš„å€¼å§‹ç»ˆæ˜¯æ–°å¯¹è±¡ï¼Œæ— è®ºå®ƒçš„å€¼æ˜¯å¦æ›´æ”¹</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// AVOID - will always cause a re-render</span>
<span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// todos always references a newly-created object</span>
    todos<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      all<span class="token punctuation">:</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">,</span>
      visibleTodos<span class="token punctuation">:</span> <span class="token function">getVisibleTodos</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
â€‹
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">)</span><span class="token punctuation">(</span>TodoApp<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="6-å¦‚ä½•é¿å…ä¸å¿…è¦çš„renderï¼Ÿ"><a href="#6-å¦‚ä½•é¿å…ä¸å¿…è¦çš„renderï¼Ÿ" class="headerlink" title="6. å¦‚ä½•é¿å…ä¸å¿…è¦çš„renderï¼Ÿ"></a>6. å¦‚ä½•é¿å…ä¸å¿…è¦çš„renderï¼Ÿ</h5><p>å’ŒshouldComponentUpdateæ­é…ä½¿ç”¨ï¼ŒPS:shouldComponentUpdateè¿”å›çš„å€¼æ˜¯å»ºè®®æ€§çš„ï¼Œæ‰€ä»¥åœ¨ç»„ä»¶ä¸­ä½ è¿”å›falseï¼Œç»„ä»¶æœ‰å¯èƒ½re-renderã€‚</p>
]]></content>
      
        <categories>
            
            <category> react </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[high-oreder-component-tip]]></title>
      <url>/2018/09/20/high-oreder-component-tip/</url>
      <content type="html"><![CDATA[<h4 id="question"><a href="#question" class="headerlink" title="question"></a>question</h4><p>ä»Šå¤©é‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼šå†™äº†ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼Œä½¿ç”¨çš„æ—¶å€™ç«Ÿç„¶å‘Šè¯‰æˆ‘props is required, but it is undefined???</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// FormWrapper.jsx</span>
<span class="token keyword">const</span> FormWrapper <span class="token operator">=</span> initialState <span class="token operator">=</span><span class="token operator">></span> Component <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">class</span> <span class="token class-name">FormInnerWrapper</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
    state <span class="token operator">=</span> initialState

    checkFeildValid <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> type<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// ...</span>
    <span class="token punctuation">}</span>

    changeValue <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">,</span> type<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// ...</span>
    <span class="token punctuation">}</span>

    isFormValidate <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// ...</span>
    <span class="token punctuation">}</span>

    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token operator">&lt;</span>Component data<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">}</span> changeValue<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeValue<span class="token punctuation">}</span> isFormValidate<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>isFormValidate<span class="token punctuation">}</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> FormInnerWrapper<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

FormWrapper<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  initialState<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> FormWrapper<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// MyForm.jsx</span>
@<span class="token function">FormWrapper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  xxx<span class="token punctuation">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span>
  xxxx<span class="token punctuation">:</span> <span class="token string">'xxx'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyForm</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span>

MyForm<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  isFormValidate<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>object<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  changeValue<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> MyForm<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>reactç»™æˆ‘ä¸‰ä¸ªwarningï¼š</p>
<pre class="line-numbers language-js"><code class="language-js">The prop <span class="token template-string"><span class="token string">`data`</span></span> is marked <span class="token keyword">as</span> required <span class="token keyword">in</span> FormInnerWrapper<span class="token punctuation">,</span> but it is undefined<span class="token punctuation">.</span>
The prop <span class="token template-string"><span class="token string">`isFormValidate`</span></span> is marked <span class="token keyword">as</span> required <span class="token keyword">in</span> FormInnerWrapper<span class="token punctuation">,</span> but it is undefined<span class="token punctuation">.</span>
The prop <span class="token template-string"><span class="token string">`changeValue`</span></span> is marked <span class="token keyword">as</span> required <span class="token keyword">in</span> FormInnerWrapper<span class="token punctuation">,</span> but it is undefined<span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h4 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h4><p>æˆ‘æ£€æŸ¥äº†ä»£ç ï¼Œå‘ç°æˆ‘æ²¡æœ‰å¯¹FormInnerWrapperå®šä¹‰propTypesï¼Œ æˆ‘åªå¯¹MyFormè¿›è¡Œäº†propTypeså®šä¹‰ã€‚æˆ‘å°è¯•ç»™MyFormåŠ ä¸ŠdefaultProps,å…¶ä¸­dataçš„defaultå€¼ä¸ºnullï¼Œåœ¨è°ƒè¯•çš„æ—¶å€™å‘ç°dataçš„å€¼æ°¸è¿œä¸ºnull, ä¸ä¼šå»æ”¹å˜ğŸ¤”ï¸ã€‚å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<h4 id="plan-B"><a href="#plan-B" class="headerlink" title="plan B"></a>plan B</h4><p>äºæ˜¯æˆ‘å°è¯•äº†ä¸‹é¢çš„æ ¼å¼ï¼š</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// MyForm.jsx</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">FormWrapper</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  xxx<span class="token punctuation">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span>
  xxxx<span class="token punctuation">:</span> <span class="token string">'xxx'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>MyForm<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‘ç°æ²¡æœ‰warningã€‚</p>
<h4 id="why"><a href="#why" class="headerlink" title="why"></a>why</h4><p>è£…é¥°å™¨çš„å†™æ³•æ˜¯ä»å·¦åˆ°å³æ‰§è¡Œï¼Ÿï¼Ÿï¼Ÿ<br>ç¬¬äºŒç§å†™æ³•æ¯”è¾ƒç¬¦åˆæ­£å¸¸çš„è°ƒç”¨é¡ºåºï¼Ÿï¼Ÿ<br>æˆ‘éœ€è¦å†å»æŸ¥decoratorä¸HOCçš„å…·ä½“åŒºåˆ«â€¦<br>PS: ä¸Šæ¬¡çš„immutable dataç–‘é—®ï¼Œåœ¨ä»Šå¤©ç»ˆäºå¾—åˆ°äº†è§£å†³ï¼Œä¸‹ä¸€ç¯‡è§ï½</p>
]]></content>
      
        <categories>
            
            <category> react </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[stateless-component-vs-pure-component]]></title>
      <url>/2018/09/13/stateless-component-vs-pure-component/</url>
      <content type="html"><![CDATA[<h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><h4 id="1-stateless-component"><a href="#1-stateless-component" class="headerlink" title="1. stateless component"></a>1. stateless component</h4><p><strong>stateless component</strong>å£°æ˜ä¸ºä¸€ä¸ªæ²¡æœ‰<code>state</code>çš„function</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> Article <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token comment" spellcheck="true">// ...</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>reactçš„æ–‡æ¡£ä¸­è¿™æ ·è¯´åˆ°ï¼š</p>
<blockquote>
<p>These components must not retain internal state, do not have backing instances, and do not have the component lifecycle methods. They are pure functional transforms of their input, with zero boilerplate. However, you may still specify .propTypes and .defaultProps by setting them as properties on the function, just as you would set them on an ES6 class.</p>
</blockquote>
<h4 id="2-pure-component"><a href="#2-pure-component" class="headerlink" title="2. pure component"></a>2. pure component</h4><p><strong>pure component</strong>æ˜¯æœ€å¤§çš„æ„ä¹‰æ˜¯ä¼˜åŒ–Reactåº”ç”¨çš„æ€§èƒ½ã€‚ä½¿ç”¨PureComponentå¯ä»¥å¤§å¤§çš„æé«˜æ€§èƒ½ï¼Œå› ä¸ºå®ƒå‡å°‘<code>render</code>çš„æ¬¡æ•°ã€‚</p>
<h4 id="3-å¯¹æ¯”ä¸¤è€…çš„æ€§èƒ½"><a href="#3-å¯¹æ¯”ä¸¤è€…çš„æ€§èƒ½" class="headerlink" title="3. å¯¹æ¯”ä¸¤è€…çš„æ€§èƒ½"></a>3. å¯¹æ¯”ä¸¤è€…çš„æ€§èƒ½</h4><pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>PureComponent</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Welcome<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Hello <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>h1<span class="token operator">></span>Hello<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»¥ä¸Šä¾‹å­æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„<code>Welcome</code>(Pure Component)å’Œ<code>Hello</code>(Stateless Component)ã€‚<strong>å½“ä½ åœ¨çˆ¶ç»„ä»¶ä¸­ä½¿ç”¨å®ƒä»¬ï¼Œä½ ä¼šå‘ç°å½“çˆ¶ç»„ä»¶<code>re-render</code>æ—¶ï¼Œ<code>Hello</code>å°±ä¼š<code>re-render</code>ï¼Œä½†æ˜¯<code>Welcome</code>å°±ä¸ä¼š</strong>ã€‚</p>
<p>è¿™æ˜¯å› ä¸º<strong>PureComponent</strong>æ”¹å˜äº†ç”Ÿå‘½å‘¨æœŸä¸­çš„<strong>shouldComponentUpdate</strong>æ–¹æ³•ï¼Œå¹¶ä¸”æ·»åŠ äº†ä¸€äº›é€»è¾‘ç”¨æ¥è‡ªåŠ¨æ£€æŸ¥ç»„ä»¶æ˜¯å¦éœ€è¦<code>re-render</code>ã€‚è¿™å…è®¸<code>PureComponent</code>ä»…ä»…åœ¨æ£€æµ‹åˆ°<code>state</code>æˆ–è€…<code>props</code>æ”¹å˜æ—¶ï¼Œæ‰ä¼šè°ƒç”¨renderæ–¹æ³•ã€‚</p>
<h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h3><h4 id="1-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Pure-Component"><a href="#1-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Pure-Component" class="headerlink" title="1. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Pure Component"></a>1. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Pure Component</h4><p>å‡å¦‚ä½ åˆ›å»ºä¸€ä¸ªå­—å…¸çš„é¡µé¢ï¼Œåœ¨è¯¥é¡µé¢ä¸­æ˜¾ç¤ºæ‰€æœ‰ä»¥Aå¼€å¤´çš„å•è¯çš„å«ä¹‰ã€‚è¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥å†™ä¸€ä¸ªæ¥æ”¶propsä¸ºheadingå’Œmeaningå¹¶è¿”å›è§†å›¾çš„ç»„ä»¶ã€‚å‡å¦‚ä½ ä½¿ç”¨åˆ†é¡µæ¯æ¬¡åªæ˜¾ç¤º10ä¸ªå•è¯ï¼Œå½“æ»šåŠ¨æ—¶ï¼Œå†å»è¯·æ±‚å¦å¤–10ä¸ªå•è¯å¹¶ä¸”åœ¨çˆ¶ç»„ä»¶ä¸­æ›´æ–°<code>state</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”è¯¥ä½¿ç”¨Pure Componentï¼Œå®ƒå°†ä¼šé¿å…renderä¹‹å‰è¯·æ±‚åˆ°çš„æ‰€æœ‰å•è¯ã€‚</p>
<p>æ­¤å¤–ï¼Œåœ¨ä½ è¦ä½¿ç”¨Componentçš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ—¶ï¼Œä½ å¿…é¡»ä½¿ç”¨<code>Pure Components</code>ï¼Œå› ä¸º<code>stateless components</code>æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€‚</p>
<h4 id="2-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Stateless-Component"><a href="#2-ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Stateless-Component" class="headerlink" title="2. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Stateless Component"></a>2. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨Stateless Component</h4><p>å‡å¦‚ä½ æƒ³è¦åˆ›å»ºä¸€ä¸ªæ¼‚äº®UIçš„lableç”¨æ¥è¯„ä¼°ä¸ªäººèµ„æ–™çš„å¯ä¿¡åº¦ï¼Œä¾‹å¦‚åˆå­¦è€…ï¼Œä¸­çº§ï¼Œé«˜çº§ã€‚ç”±äºå®ƒæ˜¯ä¸€ä¸ªå¾ˆå°çš„ç»„ä»¶ï¼Œå…¶é‡æ–°æ¸²æŸ“å‡ ä¹æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œå¹¶ä¸ºè¿™ç§small caseåˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ä»¶å°†æ˜¯è€—æ—¶çš„ã€‚å¦‚æœä½ ç»§ç»­ä¸ºå¾ˆå°å¾ˆå°çš„viewåˆ›å»ºç»„ä»¶ï¼Œå¾ˆå¿«ï¼Œä½ å°†ä¼šé‡åˆ°æ›´å¤šçš„ç»„ä»¶ï¼Œåœ¨ä¸€ä¸ªå¤§å‹é¡¹ç›®ä¸­ï¼Œå®ƒä»¬ä¼šå˜å¾—å¾ˆéš¾ç®¡ç†ã€‚åŒæ—¶åº”è¯¥ç‰¢è®°Pure Componentå…·æœ‰<strong>shallowEqual</strong>ï¼ˆæµ…æ¯”è¾ƒï¼‰çš„ç‰¹æ€§ã€‚</p>
<h4 id="3-ç»“è®º"><a href="#3-ç»“è®º" class="headerlink" title="3. ç»“è®º"></a>3. ç»“è®º</h4><p>Pure Componentsä¼šä½¿æ€§èƒ½å¤§å¹…æå‡ï¼Œå› ä¸ºå®ƒå‡å°‘äº†åº”ç”¨ä¸­renderçš„æ¬¡æ•°ã€‚è¿™å¯¹äºä¸€ä»½å¤æ‚çš„UIæ˜¯ä¸ªå·¨å¤§çš„èƒœåˆ©ï¼Œå› æ­¤å»ºè®®å°½å¯èƒ½çš„ä½¿ç”¨ã€‚æ­¤å¤–è¿˜æœ‰ä¸€äº›æƒ…å†µéœ€è¦ä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨stateless componentsã€‚</p>
<p>Stateless Componentså¯ä»¥ç®€å•è€Œå¿«é€Ÿçš„å®ç°ã€‚è¿™å¯¹äºä¸€ä¸ªre-renderä»£ä»·å°çš„éå¸¸å°çš„UIè§†å›¾æ˜¯å¾ˆå¥½çš„ã€‚å®ƒä»¬æä¾›æ›´æ¸…æ™°çš„ä»£ç å’Œæ›´å°‘çš„æ–‡ä»¶æ¥å¤„ç†ã€‚å®ƒæœ€å¥½çš„ä½¿ç”¨åœºæ™¯åº”è¯¥æ˜¯åœ¨çˆ¶ç»„ä»¶ä¸ºPure Componentæˆ–è€…HOCä¸­ä½¿ç”¨ã€‚</p>
<h3 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h3><p>é¡¹ç›®ä¸­ä½¿ç”¨çš„<code>Apollo</code>ï¼Œæˆ‘å°è¯•å°†stateless componentæ”¹ä¸ºpure componentï¼Œä½†æ˜¯ç»„ä»¶è¿˜æ˜¯ä¼šre-renderã€‚Apolloä¸­æ•°æ®æ˜¯<code>immutiable</code>ï¼Œå¹¶ä¸”æ¯ä¸ªitemåœ¨listä¸­éƒ½æœ‰keyï¼Œä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿˜æ˜¯ä¼šé‡æ–°æ¸²æŸ“ï¼Œååˆ†çº³é—·å•Šã€‚æˆ‘å·²ç»æäº†issueï¼ŒæœŸå¾…æœ‰ç­”å¤ï½å¦‚æœæ‰¾ä¸åˆ°å¥½çš„æ–¹æ³•æ¥è§£å†³ï¼Œæˆ‘åªèƒ½ä¸ºæ¯ä¸ªpure comoponentå¢åŠ shouldComponentUpdateäº†â€¦</p>
<p><a href="https://medium.com/groww-engineering/stateless-component-vs-pure-component-d2af88a1200b" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a></p>
]]></content>
      
        <categories>
            
            <category> react </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[react-blog]]></title>
      <url>/2018/09/08/react-blog/</url>
      <content type="html"><![CDATA[<h4 id="reactçš„ç”Ÿå‘½å‘¨æœŸ"><a href="#reactçš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="reactçš„ç”Ÿå‘½å‘¨æœŸ"></a>reactçš„ç”Ÿå‘½å‘¨æœŸ</h4><p><img src="http://res.cloudinary.com/dwudaridr/image/upload/v1536418494/react%E7%BB%84%E4%BB%B6%E5%91%A8%E6%9C%9F_jwteiz.png" alt="image"></p>
<h4 id="é—®ç­”"><a href="#é—®ç­”" class="headerlink" title="é—®ç­”"></a>é—®ç­”</h4><ol>
<li><p>ajaxä¸ºä»€ä¹ˆä¸åœ¨componentWillMountè¿›è¡Œï¼Œè€Œåœ¨componentDidMountä¸­è¿›è¡Œï¼Ÿ<br>ajaxæ˜¯ä¸€ä¸ªå¼‚æ­¥æ“ä½œï¼Œåœ¨renderè°ƒç”¨ä¹‹å‰ï¼Œä¸ä¼šåœ¨ä¸€æ­¥æ“ä½œä¸­è¿”å›æ•°æ®ï¼Œè¿™æ„å‘³ç€ç»„ä»¶å°†ä½¿ç”¨defaultæ•°æ®å‘ˆç°è‡³å°‘ä¸€æ¬¡ï¼›åŒæ—¶ï¼Œåœ¨å¼‚æ­¥æ“ä½œçš„callbackä¸­æ›´æ–°stateä¸ä¼šè§¦å‘re-renderã€‚å¦å¤–ï¼Œæ²¡æœ‰åŠæ³•åœ¨ç­‰åˆ°è¿”å›æ•°æ®åå†å»æ‰ç”¨renderã€‚<br>reactæ–‡æ¡£å»ºè®®åˆ°ï¼šcomponentDidMountä¼šåœ¨ç»„ä»¶æŒ‚è½½åç«‹å³è°ƒç”¨ï¼Œéœ€è¦domèŠ‚ç‚¹çš„åˆå§‹åŒ–åº”æ”¾åœ¨è¿™é‡Œã€‚å¦‚æœä½ æƒ³è¿œç¨‹è·å¾—æ•°æ®ï¼Œè¿™æ˜¯å®ä¾‹åŒ–ç½‘ç»œè¯·æ±‚çš„å¥½åœ°æ–¹ã€‚åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œè°ƒç”¨setStateè¿™ä¸ªæ–¹æ³•ä¼šè§¦å‘é¢å¤–çš„renderï¼Œå®ƒä¿è¯ä¼šåœ¨åŒä¸€æ—¶é—´åˆ·æ–°ï¼Œæ„ä¸ºï¼šå³ä½¿ä½ åœ¨è¿™ä¸ªæƒ…å†µä¸‹ä¸­è°ƒç”¨renderä¸¤æ¬¡ï¼Œç”¨æˆ·ä¸ä¼šçœ‹åˆ°ä¸­é—´çš„çŠ¶æ€ã€‚</p>
</li>
<li><p>componentWillReceivePropsä¼šæ‰§è¡Œä¸€æ¬¡è¿˜æ˜¯å¤šæ¬¡ï¼Ÿ<br>å¤šæ¬¡ï¼Œæ‰€ä»¥ä½ åœ¨è¿™ä¸ªä½¿ç”¨è¿™ä¸ªæ–¹æ³•æ—¶ï¼Œéœ€è¦æ¯”è¾ƒcurrent propså’Œ next propsã€‚</p>
</li>
<li><p>setStateæ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„ï¼Ÿ<br>å¼‚æ­¥ã€‚setStateä¼šè§¦å‘re-renderï¼Œå¦‚æœæ˜¯åŒæ­¥çš„è¯ï¼Œå¯èƒ½ä¼šå¯¼è‡´æµè§ˆå™¨æ— ååº”ã€‚å¼‚æ­¥æ˜¯ä¸ºäº†è·å¾—æ›´å¥½çš„UIä½“éªŒå’Œæ€§èƒ½ã€‚</p>
</li>
<li><p>Componentå’ŒPureComponentçš„åŒºåˆ«ï¼Ÿ<br>PureComponentåœ¨shouldComponentUpdateä¸­å¯¹propsè¿›è¡Œæµ…æ¯”è¾ƒï¼Œè€ŒComponentåˆ™è¿›è¡Œæ·±æ¯”è¾ƒã€‚</p>
</li>
<li><p>reactçš„äº‹ä»¶æœºåˆ¶<br>reactä¸­çš„äº‹ä»¶åœ¨çœŸå®DOMä¸­æ˜¯å…¨éƒ¨æŒ‚åœ¨ä»¥äº‹ä»¶ä»£ç†çš„æ–¹å¼æŒ‚åœ¨documentä¸Šé¢ï¼Œäº‹ä»¶ä»£ç†çš„æœºåˆ¶æ˜¯äº‹ä»¶å†’æ³¡ã€‚è¿™æ˜¯åœ¨reactçš„äº‹ä»¶ä¸­ä½¿ç”¨åŸç”Ÿçš„é˜»æ­¢äº‹ä»¶å†’æ³¡ä¸èµ·ä½œç”¨çš„åŸå› ã€‚</p>
</li>
</ol>
]]></content>
      
        <categories>
            
            <category> react </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[weapp-tip]]></title>
      <url>/2018/09/01/weapp-tip/</url>
      <content type="html"><![CDATA[<ol>
<li><p>å¦‚æœä½ ä½¿ç”¨äº†<code>canvas</code> ã€<code>map</code>ç±»çš„ç»„ä»¶ï¼Œå› ä¸ºå°ç¨‹åºæ˜¯ä½¿ç”¨åŸç”Ÿæ§ä»¶ï¼Œæ— è®ºä½ æ˜¯æ€æ ·è°ƒæ•´<code>z-index</code>ï¼Œéƒ½ä¸å¯èƒ½è¦†ç›–åˆ°è¿™ç±»ç»„ä»¶ä¸Šã€‚ç½‘ä¼ çš„<code>z-index</code>è®¾ç½®ä¸º<code>1000</code>ä»¥ä¸Šï¼Œç»è¿‡å®è·µæ˜¯ä¸èµ·ä½œç”¨çš„ã€‚è¯·ä½¿ç”¨<code>cover-view</code>ã€‚ä½†æ˜¯<code>cover-view</code>æ— æ³•å¢åŠ shadowå’Œborderã€‚borderå¯ä»¥é€šè¿‡ä½¿ç”¨<code>cover-view</code>çš„èƒŒæ™¯è‰²æ¥ä»£æ›¿ã€‚shadowå¯ä»¥ä½¿ç”¨<code>cover-image</code>æ¥ä»£æ›¿ã€‚</p>
</li>
<li><p>æ­£ç¡®çš„é€‰æ‹©<code>scroll-view</code>å’Œ<code>page</code>ã€‚ä¸¤è€…éƒ½èƒ½å®ç°ä¸‹æ‹‰åˆ·æ–°ï¼Œä¸Šæ‹‰åŠ è½½ã€‚é€šè¿‡ä¸šåŠ¡ï¼Œé€‰æ‹©æœ€é€‚åˆçš„æ–¹æ¡ˆã€‚</p>
</li>
<li><p>è‡ªå®šä¹‰å¯¼èˆªæ æ—¶ï¼Œé€šè¿‡<code>getSystemInfo</code>å¾—åˆ°<code>statusBarHeight</code>åœ¨é¡µé¢ä¸Šä½¿ç”¨pxå®šä¹‰ï¼Œè€Œä¸æ˜¯rpxæ¥å®šä¹‰ã€‚</p>
</li>
<li><p>è‡ªå®šä¹‰å¯¼èˆªæ æ—¶ï¼Œå¦‚æœæœ‰ç›‘æ§pageçš„æ»šåŠ¨çš„éœ€æ±‚ï¼Œè¯·é€‰æ‹©<code>scroll-view</code>æ¥å®ç°ã€‚åœ¨ä½¿ç”¨<code>onPageScroll</code>æ—¶ï¼Œåœ¨iphonexä¸Šä¼šå¯¼è‡´ä¸Šæ–¹è‡ªå®šä¹‰çš„å¯¼èˆªæ æŠ–åŠ¨ã€‚æµ‹è¯•çš„æ—¶å€™ï¼Œä¼šçœ‹åˆ°é¡µé¢æ»šåŠ¨æ—¶ï¼Œiphonexä¸Šæ–¹æœ‰1pxçš„ç©ºéš™â€¦.</p>
</li>
<li><p>å°ç¨‹åºåœ¨<code>iphonex</code>çš„ä¸‹æ–¹çš„å®‰å…¨è¾¹è·ä¸º<code>68rpx</code></p>
</li>
<li><p>iosä¸Šä¼šæœ‰è‡ªå¸¦çš„æ©¡çš®ç­‹æ•ˆæœï¼Œè®°å¾—ä¿è¯é¡µé¢ä¸‹éƒ¨çš„é¢œè‰²ä¸pageçš„èƒŒæ™¯è‰²ç›¸åŒ</p>
</li>
<li><p>å¦‚æœæƒ³å®ç°ä¿å­˜å›¾ç‰‡çš„åŠŸèƒ½ï¼Œéœ€è¦é€šè¿‡canvaså»ç”»å‡ºå›¾ç‰‡ï¼Œcanvasçš„é«˜åº¦éœ€è¦æŒ‰ç…§å®é™…çš„å†…å®¹è®¡ç®—å‡ºæ¥ã€‚</p>
</li>
<li><p>å¾…ç»­â€¦</p>
</li>
</ol>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[joker-weapp]]></title>
      <url>/2018/08/28/joker-weapp-4/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šåœ¨é¡µé¢æ»šåŠ¨è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šå¯¼è‡´fixedçš„å…ƒç´ è¢«é®ç›–ä½ï¼ˆå¶å°”ï¼‰ï¼Œè¿™ä¸ªbugæ—©åœ¨17å¹´å°±è¢«æåŠï¼Œä½†æ˜¯åˆ°ç°åœ¨è¿˜æ²¡æœ‰ä¿®å¤â€¦</p>
<p>é”®ç›˜å¼¹èµ·å¯¹äºé¡µé¢æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œæ˜¯å¦æ¨èµ·é¡µé¢ï¼Œå°´å°¬çš„æ˜¯æ¨èµ·é¡µé¢ï¼Œé¡µé¢ä¼šæ»‘åŠ¨ï¼›ä¸æ¨èµ·é¡µé¢ï¼ŒåŠ¨æ€æ”¹å˜fixedçš„å…ƒç´ çš„bottomï¼Œä¹Ÿå¾ˆå°´å°¬ï¼›ä¸çŸ¥é“æœ‰æ²¡æœ‰å¥½çš„åŠæ³•ï¼›</p>
<p>å»ºè®®å°ç¨‹åºå‡ºä¸€ä¸ªè®¾è®¡è¶‹åŠ¿ï¼Œå¾ˆå¤šå‘çš„å‡ºç°æ˜¯å› ä¸ºåœ¨å°ç¨‹åºä¸­ä½¿ç”¨å’Œappç­‰åŒçš„æ•ˆæœï¼Œç”Ÿæ€å±€é™æ€§å¯¹å¼€å‘è€…æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æŒ‘æˆ˜ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå·¨æµªè´¹æ—¶é—´çš„å¼€å‘è¿‡ç¨‹â€¦</p>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[mixed-talk-1]]></title>
      <url>/2018/08/26/mixed-talk-1/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©è¯»åˆ°ä¸€æœ¬ä¹¦ï¼Œå…¶ä¸­æœ‰ä¸€å¥è¯å¾ˆæœ‰æ„Ÿè§¦ï¼š</p>
<blockquote>
<p>æˆ‘ä»¬å¾ˆå®¹æ˜“æ²‰æµ¸åœ¨æŠ€æœ¯é‡Œï¼Œè€Œå¿½ç•¥äº†ç”Ÿå‘½çš„çœŸè°›ã€‚</p>
</blockquote>
<p>å½“ç„¶è¿™ä¸æ˜¯ä¸€æœ¬è®²æŠ€æœ¯çš„ä¹¦ï¼Œä½†å®ƒæˆåŠŸçš„å¼•èµ·äº†æˆ‘çš„æ³¨æ„ã€‚</p>
<p>äººç”Ÿå¤„å¤„æ˜¯çŸ›ç›¾ï¼Œäººä»¥ä¸»è§‚æ„è¯†æ¥è®¤è¯†åˆ«äººï¼Œä½†ä¸»è§‚æ„è¯†åˆä¼šå½±å“ä½ å¯¹å¯¹æ–¹ç°åœ¨çš„æ„Ÿè§‰ã€‚å£«åˆ«ä¸‰æ—¥åˆ®ç›®ç›¸çœ‹ï¼Œå³æ˜¯å¤„ç†çŸ›ç›¾çš„ä¸€ç§æ–¹å¼ï¼Œä»¥ä¸»è§‚å¹¶ä¸”å‘å±•çš„çœ¼å…‰çœ‹å¾…åˆ«äººã€‚</p>
<p>å¤§ä¸€å¤§äºŒçš„è¯¾ç¨‹æœ€ä¸»è¦çš„æ˜¯å­¦ä¹ è¯­è¨€ä¸ç®—æ³•ã€‚å¤§ä¸‰çš„è¯¾ç¨‹æ˜¯æ¥å­¦ä¹ å…³äºäº§å“å’Œæµ‹è¯•çš„ã€‚ç”±äºå¤§ä¸‰çš„å¯èƒ½æ¯”è¾ƒåé‡äºç†è®ºï¼Œæ‰€ä»¥å¯¹å¾…èµ·æ¥ä¸æ˜¯å¤ªçœ‹é‡ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œç­‰åˆ°æ¯•ä¸šç­”è¾©çš„æ—¶å€™ï¼ŒçŸ›ç›¾å°±å‡¸æ˜¾å‡ºæ¥äº†ã€‚</p>
<p>å¯¹å¾…æ¯•ä¸šé¡¹ç›®æ¥è¯´ï¼Œæˆ‘æ˜¯æŠ±ç€ä¸€å®šè¦ç”¨åˆ°æœ€æ–°çš„æŠ€æœ¯æ¥çš„ã€‚æˆ‘ä½¿ç”¨expressæ­äº†ä¸€ä¸ªæ¡†æ¶ï¼Œä½¿ç”¨mongodbä½œä¸ºæ•°æ®åº“ã€‚ç»§è€Œï¼Œæ‰‹æœºç«¯é€‚åº”inoicåšäº†ä¸€ä¸ªwebappï¼Œå½“æ—¶è§‰å¾—è‡ªå·±çš„ç›®çš„å·²ç»è¾¾åˆ°äº†ï¼Œæˆ‘å°è¯•ä½¿ç”¨äº†æ¯”è¾ƒæµè¡Œçš„æŠ€æœ¯åšå‡ºæ¥äº†ä¸€ä¸ªè¿˜èƒ½çœ‹çš„demoï¼ˆé‚£æ—¶å€™çš„æ•´ä½“é€»è¾‘å¾ˆæ˜¯ç®€å•ï¼Œç°åœ¨ä¸€çœ‹åˆ°å¤„æ˜¯bugï¼Œçœ‹ä¸Šå»æ¯”è¾ƒæ— ç»„ç»‡æ— çºªå¾‹ï¼‰ã€‚åœ¨å°ç»„ç­”è¾©ï¼Œè€å¸ˆä¼šæ³¨é‡çœ‹ä½ çš„demoï¼Œè¿›å…¥å¤§ç»„åï¼Œè¯„å§”å°±æ³¨é‡è®ºæ–‡äº†ã€‚åœ¨æˆ‘ç­”è¾©å®Œï¼Œè¯„å§”é—®æˆ‘ï¼šæœ‰äººåœ¨ç”¨å—ï¼Ÿæˆ‘è¯´æ²¡æœ‰ã€‚ä¹‹æ‰€ä»¥æˆ‘æŠŠå®ƒå«åšdemoï¼Œæˆ‘å°±æ²¡æŠŠå®ƒå½“ä½œä¸€ä¸ªäº§å“æ¥å¯¹å¾…ã€‚ä½†æ˜¯è¯„å§”ä»¬è¦çš„æ˜¯ä¸€ä¸ªäº§å“ï¼Œä»–ä»¬ä¸ä¼šcareä½ ç”¨äº†ä»€ä¹ˆæŠ€æœ¯ï¼Œä»–ä»¬åªæ˜¯è¦ä¸€ä¸ªç»“æœï¼šæˆç†Ÿçš„äº§å“ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆçŸ›ç›¾çš„äº‹æƒ…ï¼Œç©¶å…¶åŸå› ï¼Œå°±æ˜¯äºŒè€…çš„å…³æ³¨ç‚¹ä¸åŒï¼Œæˆ‘å…³æ³¨çš„æ˜¯æŠ€æœ¯ï¼Œå¯¹æ–¹å…³æ³¨çš„æ˜¯ä¸€ä¸ªæˆç†Ÿçš„äº§å“ï¼Œå…³æ³¨ç‚¹ä¸åŒï¼Œæœ€åå‡ºç°çŸ›ç›¾æ˜¯ä¸€ä¸ªå†æ­£å¸¸ä¸è¿‡çš„æ˜¯äº‹æƒ…ã€‚æ€»ä¹‹ï¼Œè¿™æ˜¯æˆ‘é‡åˆ°çš„ç¬¬ä¸€ä»¶å……æ»¡çŸ›ç›¾çš„äº‹æƒ…ã€‚</p>
<p>æœ€è¿‘é‡åˆ°çš„ä¸€ä»¶äº‹æ˜¯ï¼Œé»‘å‘ï¼ˆæš‚ä¸”è¿™ä¹ˆå«å§ï¼Œå› ä¸ºä»–çš„å¤´å‘çœŸçš„å¥½å¤šå•Šï¼‰é—®äº†æˆ‘ä¸€åˆ‡åŸºç¡€çš„é—®é¢˜ã€‚è™½ç„¶è‡ªèº«æ²¡æœ‰ä¸ºè¿™äº›é—®é¢˜åšä»»ä½•å‡†å¤‡ï¼Œä½†æ˜¯æƒ³ç€åº”è¯¥ä¹Ÿèƒ½ç­”ä¸Šæ¥å§ã€‚å°è±¡æœ€æ·±åˆ»çš„é—®é¢˜æ˜¯æ—¶é—´å§”æ‰˜çš„æœºåˆ¶ï¼Œemmmï¼Œå½“æ—¶å¯¹è¿™ä¸ªé—®é¢˜æ‰‹è¶³æ— æªï¼Œæˆ‘æœ€å…ˆæƒ³åˆ°çš„æ˜¯è®¾è®¡æ¨¡å¼ã€‚æˆ‘è¯´çš„æ˜¯ä¸€å¡Œç³Šæ¶‚ï¼Œç°åœ¨æƒ³æƒ³æ˜¯åœ¨çæ‰¯ã€‚æ¥ç€åˆé—®æˆ‘å§”æ‰˜çš„åŸç†ï¼Œä¾ç„¶ä¸€è„¸æ‡µé€¼ï¼Œæˆ‘é—®äº†ç­”æ¡ˆï¼šäº‹ä»¶å†’æ³¡ã€‚å•Šï¼Œæˆ‘æ€ä¹ˆæŠŠè¿™ä¹ˆåŸºç¡€çš„ç»™å¿˜äº†å‘¢ã€‚ã€‚ã€‚æ€»ä¹‹ç»™æˆ‘å¸¦æ¥çš„å†²å‡»å¾ˆå¤§ã€‚ç»“æœåˆé—®æˆ‘jsonpçš„æœºåˆ¶ï¼Œæˆ‘åˆæ˜¯ä¸€è„¸æ‡µé€¼ï¼Œé»‘å‘å¾ˆéœ‡æƒŠï¼šä½ æ˜¯çœŸä¸çŸ¥é“è¿˜æ˜¯å‡ä¸çŸ¥é“â€¦æˆ‘æ’æ–¥è·¨åŸŸï¼Œæ‰€ä»¥å°±æ²¡æœ‰äº†è§£è¿‡â€¦é»‘å‘å‘Šè¯‰æˆ‘è·¨åŸŸè¿™ç§åœºæ™¯è¿˜æ˜¯å¾ˆå¸¸è§çš„ï¼Œå³ä½¿ä½ æ’æ–¥ï¼Œä½†ä¹Ÿéœ€è¦äº†è§£å®ƒâ€¦</p>
<p>ç»è¿‡è¿™æ¬¡äº¤è°ˆï¼Œæˆ‘ä¸ä»…æƒ³ï¼Œæˆ‘åˆ°åº•åšäº†äº›ä»€ä¹ˆâ€¦</p>
<p>æƒ³äº†æƒ³å¤§éƒ¨åˆ†çš„å·¥ä½œæ—¶é—´éƒ½åœ¨å†™ä¸šåŠ¡ï¼Œä¸šä½™çš„æ—¶é—´ï¼Œè‡ªå·±å°±æ£é¼“ä¸€äº›å°ä¸œè¥¿æˆ–è€…çœ‹ä¸€äº›ä¹¦ï¼Œæ‹“å±•æ€ç»´ã€‚å¤§éƒ¨åˆ†çš„æ—¶é—´ï¼Œéƒ½åœ¨æƒ³ç€è§£å†³é—®é¢˜ã€‚ä¾‹å¦‚äº‹ä»¶å§”æ‰˜ï¼Œæˆ‘æ˜¯æŠŠå®ƒå½“ä½œä¸€ä¸ªè§£å†³æ–¹æ³•æ¥çœ‹ï¼Œå½“æˆ‘é‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œæˆ‘ä¼šæƒ³åˆ°ç”¨è¿™ä¸ªæ–¹æ³•æ¥è§£å†³â€¦æˆ‘ä»…ä»…æŠŠå®ƒå½“ä½œä¸€ä¸ªç­”æ¡ˆæ¥çœ‹â€¦æ¸æ¸çš„ï¼Œæˆ‘å¿˜äº†æœ¬è´¨ã€‚è¿™ä¸ªæ—¶å€™å¿½ç„¶æƒ³åˆ°åœ¨å¤§å­¦çš„æ—¶å€™ï¼Œæœ‰ä½é™¢é•¿ç»™æˆ‘ä»¬ä¸Šè¯¾ï¼Œè®²çš„å†…å®¹ä¹Ÿå¾ˆæ˜¯é«˜æ·±ï¼Œæ ¹æœ¬å°±å¬ä¸æ‡‚å•Šã€‚æˆ‘æŠŠè¿™ç§ç°è±¡ç§°ä¹‹ä¸ºï¼štitleè¶Šé«˜ï¼Œå°±æ¸æ¸çš„å¿½ç•¥äº†æœ€åŸºç¡€çš„ä¸œè¥¿ã€‚è¿™ä¸æˆ‘ç°åœ¨çš„çŠ¶å†µï¼Œä¸è°‹è€Œåˆã€‚</p>
<p>åœ¨æŠ€æœ¯çš„é•¿æ²³ä¸­ï¼Œä¸ä»…éœ€è¦ç§¯æçš„å¯»æ‰¾è§£å†³é—®é¢˜çš„æ–¹æ³•ï¼Œè¿˜éœ€è¦äº†è§£æŠ€æœ¯çš„æœ¬è´¨ã€‚</p>
<p>è¿™æ˜¯ä»Šå¤©çš„æ‚è°ˆï¼Œæ˜å¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©å“¦ï¼Œä¸å¯¹ï¼Œå·²ç»æ˜å¤©äº†ï¼Œä»Šå¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©å“¦ğŸ˜„</p>
]]></content>
      
        <categories>
            
            <category> æ‚è°ˆ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ‚è°ˆ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[joker-xiaochengxu-3]]></title>
      <url>/2018/08/24/joker-weapp-3/</url>
      <content type="html"><![CDATA[<p>å¦‚ä½•è‡ªå®šä¹‰å¯¼èˆªæ ï¼Ÿ</p>
<p>è¿™ä¸ªéœ€æ±‚çš„æ¥æºæ˜¯ï¼šæˆ‘å‘æœ‹å‹è½¬å‘äº†å°ç¨‹åºä¸­çš„é¡µé¢ï¼Œå¯¹æ–¹æ‰“å¼€åï¼Œå·¦ä¸Šè§’æ˜¯æ²¡æœ‰è¿”å›æŒ‰é’®çš„ï¼Œè¿™æ—¶å€™ï¼Œå³ä¸Šè§’æœ‰ä¸€ä¸ªå»ä¸»é¡µçš„æ ‡å¿—æ˜¯å¾ˆåˆé€‚çš„â€¦</p>
<ol>
<li><p>app.jsonä¸­è®¾ç½®å±æ€§: navigationStyle<br>è¿™æ„å‘³ç€ä½ çš„å°ç¨‹åºæ˜¯å…¨å±æ˜¾ç¤ºçš„ï¼Œtitleï¼Œè¿˜æœ‰å·¦ä¸Šè§’çš„è·¯ç”±çŠ¶æ€éœ€è¦è‡ªå·±å»å¤„ç†</p>
</li>
<li><p>æ¯ä¸ªè®¾å¤‡çš„ä¸Šé¢çš„statusbarçš„é«˜åº¦æ˜¯ä¸ä¸€æ ·çš„ï¼Œè‡ªåˆ¶çš„å¯¼èˆªæ çš„é«˜åº¦å°±æ˜¯æœªçŸ¥çš„ï¼Œè¿™ä¸ªåªèƒ½é€šè¿‡getSystemInfoå»è·å¾—</p>
</li>
<li><p>éœ€è¦å¯¹ä¹‹å‰çš„fixedåšä¸€ä¸‹å¤„ç†ï¼Œè¿˜æ˜¯éœ€è¦statusbarçš„å€¼ï¼Œè®¾ç½®margin-top</p>
</li>
</ol>
<p>ç›®å‰æ˜¯è¿™æ ·çš„ä¸€ä¸ªæ€è·¯ï¼Œæš‚æ—¶æ²¡å‘ç°å…¶å®ƒçš„é—®é¢˜â€¦<br>é¡ºä¾¿åæ§½ä¸€å¥ï¼Œå°ç¨‹åºçš„å¼€å‘è€…æ˜¯ç»å†è¿‡ä»C++è½¬åˆ°pythonå˜›â€¦.</p>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[joker-xiaochengxu-2]]></title>
      <url>/2018/08/24/joker-weapp-2/</url>
      <content type="html"><![CDATA[<p>å¦‚ä½•åœ¨å°ç¨‹åºé‡Œé¢ä¿å­˜å›¾ç‰‡ï¼Ÿ</p>
<h4 id="plan"><a href="#plan" class="headerlink" title="plan"></a>plan</h4><p>å°ç¨‹åºå¯ä»¥å°†canvasä¿å­˜æˆä¸€å¼ å›¾ç‰‡ã€‚ç°åœ¨ä¸»è¦çš„ä»»åŠ¡æ˜¯å°†canvasä¸­çš„å†…å®¹ç”»å‡ºæ¥<br>webç«¯æœ‰ä¸€ä¸ªå«åšhtml2canvasï¼Œå¯¹äºå°ç¨‹åºï¼Œæš‚æ—¶æ²¡æœ‰æ‰¾åˆ°ç›¸ä¼¼çš„å·¥å…·åº“â€¦åªèƒ½è‡ªå·±æ¥ç”»äº†<br>ç›®å‰ï¼Œéœ€è¦ç”»å‡ºæ¥çš„æ˜¯ï¼š</p>
<ol>
<li>èƒŒæ™¯çº¹ç†</li>
<li>title</li>
<li>å›¾ç‰‡</li>
</ol>
<h4 id="progress"><a href="#progress" class="headerlink" title="progress"></a>progress</h4><h5 id="è®¾ç½®ç”»å¸ƒçš„å¤§å°"><a href="#è®¾ç½®ç”»å¸ƒçš„å¤§å°" class="headerlink" title="è®¾ç½®ç”»å¸ƒçš„å¤§å°"></a>è®¾ç½®ç”»å¸ƒçš„å¤§å°</h5><pre class="line-numbers language-javascript"><code class="language-javascript">ctx<span class="token punctuation">.</span><span class="token function">rect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> width<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>è¿™é‡Œçš„é‡åˆ°çš„é—®é¢˜ï¼Œå¦‚ä½•å¾—åˆ°ç”»å¸ƒçš„é«˜åº¦â€¦<del>æˆ‘å…ˆç”¨htmlå†™å‡ºæ¥ç»“æ„ï¼Œå¾—åˆ°å†…å®¹çš„é«˜åº¦</del>ï¼Œå¦ä¸€ç§æ–¹æ³•æ˜¯å…ˆå»è®¡ç®—ï¼Œemmmâ€¦è¿™ç§æ–¹æ³•è¿˜æ²¡æƒ³å¥½æ€è·¯</p>
<p><strong>8-27æ›´æ–°</strong>ï¼šä½¿ç”¨htmlçš„é«˜åº¦ï¼Œå’Œcanvasç”»å‡ºæ¥çš„æ’ç‰ˆä¸ä¸€æ ·ï¼Œä¸åŒçš„æ‰‹æœºä¸Šçš„æ’ç‰ˆè¿˜ä¸ä¸€æ ·ï¼Œæœ€åå¯¼è‡´çš„é—®é¢˜æ˜¯åœ¨ä¸åŒçš„æ‰‹æœºä¸Šå¯¼å‡ºçš„å›¾ç‰‡è¦ä¸æ˜¯è¿‡çŸ­è¦ä¸å°±æ˜¯ä¸‹é¢é•¿å‡ºä¸€æˆªï¼Œæœ€å¥½è¿˜æ˜¯ä¸€ä¸ªä¸€ä¸ªå…ƒç´ çš„è®¡ç®—å§ï¼Œç¡®å®šæ¯ä¸ªå…ƒç´ çš„èµ·ç‚¹çš„yåæ ‡</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">heightInfo<span class="token punctuation">.</span>hrTop <span class="token operator">=</span> heightInfo<span class="token punctuation">.</span>xxxxxTop <span class="token operator">+</span> titleInfo<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span>
heightInfo<span class="token punctuation">.</span>xxxxTop <span class="token operator">=</span> heightInfo<span class="token punctuation">.</span>hrTop <span class="token operator">+</span> <span class="token number">24</span><span class="token punctuation">;</span>
heightInfo<span class="token punctuation">.</span>xxxTop <span class="token operator">=</span> heightInfo<span class="token punctuation">.</span>xxxxTop <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">;</span>
heightInfo<span class="token punctuation">.</span>xxxxTop <span class="token operator">=</span> heightInfo<span class="token punctuation">.</span>xxxTop <span class="token operator">+</span> xxxInfo<span class="token punctuation">.</span>height <span class="token operator">+</span> <span class="token number">36</span><span class="token punctuation">;</span>
heightInfo<span class="token punctuation">.</span>xxxxTop <span class="token operator">=</span> heightInfo<span class="token punctuation">.</span>xxxxTop <span class="token operator">+</span> <span class="token number">90</span> <span class="token operator">+</span> <span class="token number">7</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> heightInfo<span class="token punctuation">.</span>xxxxTop <span class="token operator">+</span> <span class="token number">14</span> <span class="token operator">+</span> <span class="token number">30</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­å¯ä»¥ç›´æ¥å°†å¤šè¡Œå­—ç¬¦ä¸²åˆ†å‰²â€¦.è¿˜æœ‰ä¸€ä¸ªå°†æ•°å­—å®šä¹‰æˆå¸¸é‡</p>
<hr>
<h5 id="ç”»èƒŒæ™¯çº¹ç†ï¼Œæ¯éš”10ç”»ä¸€æ¡æ¨ªçº¿ï¼Œç«–çº¿"><a href="#ç”»èƒŒæ™¯çº¹ç†ï¼Œæ¯éš”10ç”»ä¸€æ¡æ¨ªçº¿ï¼Œç«–çº¿" class="headerlink" title="ç”»èƒŒæ™¯çº¹ç†ï¼Œæ¯éš”10ç”»ä¸€æ¡æ¨ªçº¿ï¼Œç«–çº¿"></a>ç”»èƒŒæ™¯çº¹ç†ï¼Œæ¯éš”10ç”»ä¸€æ¡æ¨ªçº¿ï¼Œç«–çº¿</h5><p>è¿™ä¸ªæ˜¯é‡å¤ç”»çº¿çš„ä¸€ä¸ªè¿‡ç¨‹</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">drawLine<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>fromX<span class="token punctuation">,</span> fromY<span class="token punctuation">,</span> toX<span class="token punctuation">,</span> toY<span class="token punctuation">,</span> lineWidth <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">setLineWidth</span><span class="token punctuation">(</span>lineWidth<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>fromX<span class="token punctuation">,</span> fromY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>toX<span class="token punctuation">,</span> toY<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token comment" spellcheck="true">// ....</span>
<span class="token keyword">const</span> step <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> countX <span class="token operator">=</span> width <span class="token operator">/</span> step<span class="token punctuation">;</span>
<span class="token keyword">const</span> countY <span class="token operator">=</span> height <span class="token operator">/</span> step<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> countX<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">drawLine</span><span class="token punctuation">(</span>i <span class="token operator">*</span> step<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">*</span> step<span class="token punctuation">,</span> height<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> countY<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">drawLine</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">*</span> step<span class="token punctuation">,</span> width<span class="token punctuation">,</span> i <span class="token operator">*</span> step<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="title"><a href="#title" class="headerlink" title="title"></a>title</h5><p>æ¶‰åŠåˆ°æ–‡å­—æ¢è¡Œï¼Œcanvasä¸èƒ½ä¸»åŠ¨å¯¹è¶…å‡ºçš„æ–‡å­—åšæ¢è¡Œå¤„ç†ï¼Œå¤„ç†çš„æ–¹æ³•æ˜¯æ‹¿åˆ°å­—ç¬¦ç‰‡æ®µé•¿åº¦ä¸æœ€å¤§å®½åº¦ä¾æ¬¡æ¯”è¾ƒ</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">const</span> arrText <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> line <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> arrText<span class="token punctuation">.</span>length<span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> testLine <span class="token operator">=</span> line <span class="token operator">+</span> arrText<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> metrics <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ctx<span class="token punctuation">.</span><span class="token function">measureText</span><span class="token punctuation">(</span>testLine<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> testWidth <span class="token operator">=</span> metrics<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testWidth <span class="token operator">></span> maxWidth <span class="token operator">&amp;&amp;</span> n <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// è¶…å‡ºä¸€è¡Œï¼Œæ‰“å°</span>
    ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    line <span class="token operator">=</span> arrText<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>
    y <span class="token operator">+</span><span class="token operator">=</span> lineHeight<span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    line <span class="token operator">=</span> testLine<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
ctx<span class="token punctuation">.</span><span class="token function">fillText</span><span class="token punctuation">(</span>line<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="å›¾ç‰‡"><a href="#å›¾ç‰‡" class="headerlink" title="å›¾ç‰‡"></a>å›¾ç‰‡</h5><p>è¿™ä¸ªæ¶‰åŠåˆ°å±…ä¸­æ˜¾ç¤º</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// è®¡ç®—å‡ºå›¾ç‰‡çš„èµ·å§‹ç‚¹å³å¯</span>
<span class="token comment" spellcheck="true">// use drawImage</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"><a href="#è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜" class="headerlink" title="è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"></a>è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</h4><p>canvasçš„å±‚çº§è¿‡é«˜ï¼Œä¼šé®ç›–viewå…ƒç´ ï¼Œè§£å†³åŠæ³•æ˜¯ä½¿ç”¨ï¼šcroll-view<br>å¦ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šcroll-viewè®¾ç½®borderæˆ–è€…box-shadowä¸èµ·ä½œç”¨ï¼Œæ¬¡è€Œæ±‚ä¹‹ï¼Œå†ç”¨ä¸€ä¸ªcroll-viewå‡è£…è¾¹æ¡†å§â€¦.</p>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[joker-xiaochengxu]]></title>
      <url>/2018/08/17/joker-xiaochengxu/</url>
      <content type="html"><![CDATA[<p>åœ¨è¿™ä¸ªå¯çˆ±çš„èŠ‚æ—¥é‡Œï¼Œè®©æˆ‘æ¥è¯´è¯´ï¼Œå†™å°ç¨‹åºçš„å‘ï½</p>
<p>å¯¹å°ç¨‹åºçš„æœŸå¾…å°±åƒå¯¹vueçš„æœŸå¾…ä¸€æ ·ï¼Œçœ‹ç€æ–‡æ¡£å°±èƒ½å†™â€¦å¯æ˜¯ï¼Œæˆ‘è¸©äº†ä¸€ä¸ªåˆä¸€ä¸ªçš„å‘â€¦</p>
<h4 id="textareaçš„paddingé—®é¢˜"><a href="#textareaçš„paddingé—®é¢˜" class="headerlink" title="textareaçš„paddingé—®é¢˜"></a>textareaçš„paddingé—®é¢˜</h4><p>ä¸º<code>textarea</code>è®¾å®šäº†ä¸Šä¸‹12rpxçš„å†…è¾¹è·ï¼Œåœ¨å®‰å“æœºä¸Šååˆ†å®Œç¾ï¼Œä½†æ˜¯ä»æµ‹è¯•é‚£è¾¹åé¦ˆçš„ç»“æœæ˜¯ï¼šæ¡†å¤ªé«˜äº†â€¦äºæ˜¯å°±å»çœ‹çœ‹ç½‘ä¸Šçš„è®¨è®ºï¼Œåœ¨è¿™åæ§½ä¸€ä¸‹ï¼Œåº¦å¨˜çœŸçš„æ˜¯ç”¨ä¸­æ–‡éƒ½æ£€ç´¢ä¸å‡ºæ¥ç»“æœâ€¦æŸ¥äº†ç»“æœä¹‹åï¼Œå‘ç°textareaçš„å†…è¾¹è·åœ¨å®‰å“å’ŒiOSä¸Šçš„å·®åˆ«å¾ˆå¤§â€¦æˆ‘æœ‰ä»¥ä¸‹æ–¹æ¡ˆï¼š</p>
<ol>
<li>ä¸ä½¿ç”¨<code>textarea</code>çš„å†…è¾¹è·ï¼Œå¤–é¢å¥—ä¸€å±‚viewï¼Œä¸ºviewæ·»åŠ å†…è¾¹è·ã€‚å®è·µçš„ç»“æœæ˜¯ï¼šä¸è¡Œã€‚çœ‹åˆ°æœ‰ç­”æ¡ˆè¯´ï¼š<code>textarea</code>ä½¿ç”¨çš„åŸç”Ÿç»„ä»¶ï¼Œä»»ä½•<code>padding</code>ã€<code>line-height</code>éƒ½å¯¹æ­¤ä¸èµ·ä½œç”¨</li>
<li>ä¸º<code>view</code>è®¾ç½®<code>box-sizing: border-box</code>ï¼Œè¿™ä¹ˆä¸€è®¾ç½®ï¼Œ<code>textarea</code>çš„<code>auto-height</code>éƒ½ä¸èµ·ä½œç”¨äº†ï¼Œæ‰å¿ƒâ€¦</li>
<li>æ²¡åŠæ³•äº†ï¼Œæˆ‘åªèƒ½å»åŒºåˆ«æ‰‹æœºç³»ç»Ÿäº†ï¼š<pre class="line-numbers language-js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">getSystemInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
success<span class="token punctuation">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">'iPhone X'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isIphoneX <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>platform <span class="token operator">===</span> <span class="token string">'ios'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isAndroid <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
viewå±‚é€šè¿‡åˆ¤æ–­<code>getApp().globalData.isAndroid</code>çš„å€¼ï¼Œå¦‚æœä¸º<code>true</code>ï¼Œåˆ™åŠ paddingï¼Œå¦åˆ™ï¼Œä¸åŠ  paddingã€‚</li>
</ol>
<h4 id="iphoneçš„æ©¡çš®ç­‹æ•ˆæœ"><a href="#iphoneçš„æ©¡çš®ç­‹æ•ˆæœ" class="headerlink" title="iphoneçš„æ©¡çš®ç­‹æ•ˆæœ"></a>iphoneçš„æ©¡çš®ç­‹æ•ˆæœ</h4><p>å¦‚æœä½ çš„é¡µé¢æœ‰headerã€bodyã€footerï¼Œheaderæ˜¯ç™½è‰²ï¼Œbodyæ˜¯ç°è‰²ï¼Œfooteræ˜¯ç™½è‰²ï¼Œpageæœ¬èº«æ˜¯ç°è‰²ï¼Œé‚£ä¹ˆä½ åœ¨iphoneä¸Šä¸Šæ‹‰é¡µé¢ï¼Œä¼šçœ‹åˆ°ç°ä¸­ä¸€å—ç™½ï¼Œå¦‚ä½•å»è°ƒæ•´ï¼Œå½“ç„¶æ˜¯é®ç›–å†é®ç›–â€¦è¿™ä¸ªæ•ˆæœï¼Œä½“éªŒç‰¹åˆ«å·®â€¦</p>
<h4 id="iphone-Xçš„å®‰å…¨è¾¹è·"><a href="#iphone-Xçš„å®‰å…¨è¾¹è·" class="headerlink" title="iphone Xçš„å®‰å…¨è¾¹è·"></a>iphone Xçš„å®‰å…¨è¾¹è·</h4><p>æ‰¾åˆ°çš„èµ„æ–™æ˜¯å®‰å…¨è¾¹è·æ˜¯<code>68rpx</code>ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå›ºå®šåˆ°ä¸‹æ–¹çš„<code>footer</code>ï¼Œå’Œå‡ºç°ä¸Šé¢çš„é—®é¢˜ï¼Œé‚£ä¹ˆä¸€å®šå¾—å¥½å¥½æƒ³æƒ³å¦‚ä½•å»é®é®é®â€¦</p>
<h4 id="inputå’Œtextareaçš„é€‰æ‹©"><a href="#inputå’Œtextareaçš„é€‰æ‹©" class="headerlink" title="inputå’Œtextareaçš„é€‰æ‹©"></a>inputå’Œtextareaçš„é€‰æ‹©</h4><p><code>textarea</code>æœ‰ä¸€ä¸ª<code>auto-height</code>çš„å±æ€§ï¼Œå¯ä»¥è‡ªåŠ¨æ ¹æ®å†…å®¹å»æ”¹å˜é«˜åº¦ï¼›ä½†æ˜¯<code>input</code>æœ‰æ‰‹æœºé”®ç›˜ä¼šæœ‰å®Œæˆè€Œä¸æ˜¯å›è½¦çš„é”®ï¼ŒåŒæ—¶ä¹Ÿä¼šæœ‰ä¸€ä¸ªç‚¹å‡»å®Œæˆé”®ç›˜ä¸æ”¶èµ·çš„é€‰é¡¹ï¼›æ€»ä¹‹ä½ å¯ä»¥æ ¹æ®è¿™ä¸¤ä¸ªç‰¹æ€§å»é€‰æ‹©ä½ éœ€è¦çš„ç»„ä»¶ï¼ŒåŠ å…¥éœ€è¦<code>input</code>çš„å±æ€§ï¼Œåˆéœ€è¦<code>textarea</code>çš„å±æ€§ï¼Œ<code>input</code>æ˜¯æœ€å¥½çš„é€‰æ‹©â€¦ä»¥æˆ‘çš„ç»éªŒæ¥è¯´</p>
<h4 id="é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°"><a href="#é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°"></a>é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°</h4><p>ä¸€å®šè¦é€‰ç”¨<code>Page</code>çš„ç‰¹æ€§ï¼Œè€Œä¸æ˜¯<code>scroll-view</code></p>
<h4 id="æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢"><a href="#æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢" class="headerlink" title="æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢"></a>æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢</h4><p>å…ˆè€ƒè™‘ä¸æ¨èµ·é¡µé¢ï¼Œå†è€ƒè™‘æ¨èµ·é¡µé¢â€¦å› ä¸ºæ¨èµ·é¡µé¢æ˜¾å¾—ç‰¹åˆ«ä¸è‡ªç„¶â€¦.</p>
<h4 id="å¾—åˆ°globalDataä¸­çš„å€¼"><a href="#å¾—åˆ°globalDataä¸­çš„å€¼" class="headerlink" title="å¾—åˆ°globalDataä¸­çš„å€¼"></a>å¾—åˆ°globalDataä¸­çš„å€¼</h4><p>å¦‚æœä½ æƒ³ä»¥ä¸‹é¢çš„æ ¼å¼æ¥å¾—åˆ°<code>globalData</code>çš„å€¼ï¼Œå¯èƒ½ä¼šå‡ºä¹ä½ çš„æ„æ–™</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    isIphoneX<span class="token punctuation">:</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isIphoneX<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// åŒæ­¥å¾—åˆ°ï¼Œå¯ä»¥å¾—åˆ°æ­£ç¡®çš„å€¼</span>
    isLogin<span class="token punctuation">:</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isLogin<span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// å¼‚æ­¥å¾—åˆ°ï¼Œå¾—ä¸åˆ°æ­£ç¡®çš„å€¼</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ²¡åŠæ³•ï¼Œæˆ‘åªèƒ½åœ¨<code>page</code>çš„<code>onload</code>ä¸­å†é‡æ–°èµ‹å€¼ä¸€æ¬¡â€¦.</p>
<p>8-17ï¼Œå…ˆå†™åˆ°è¿™â€¦</p>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[joker-xiaochengxu]]></title>
      <url>/2018/08/17/joker-weapp/</url>
      <content type="html"><![CDATA[<p>åœ¨è¿™ä¸ªå¯çˆ±çš„èŠ‚æ—¥é‡Œï¼Œè®©æˆ‘æ¥è¯´è¯´ï¼Œå†™å°ç¨‹åºçš„å‘ï½</p>
<p>å¯¹å°ç¨‹åºçš„æœŸå¾…å°±åƒå¯¹vueçš„æœŸå¾…ä¸€æ ·ï¼Œçœ‹ç€æ–‡æ¡£å°±èƒ½å†™â€¦å¯æ˜¯ï¼Œæˆ‘è¸©äº†ä¸€ä¸ªåˆä¸€ä¸ªçš„å‘â€¦</p>
<h4 id="textareaçš„paddingé—®é¢˜"><a href="#textareaçš„paddingé—®é¢˜" class="headerlink" title="textareaçš„paddingé—®é¢˜"></a>textareaçš„paddingé—®é¢˜</h4><p>ä¸º<code>textarea</code>è®¾å®šäº†ä¸Šä¸‹12rpxçš„å†…è¾¹è·ï¼Œåœ¨å®‰å“æœºä¸Šååˆ†å®Œç¾ï¼Œä½†æ˜¯ä»æµ‹è¯•é‚£è¾¹åé¦ˆçš„ç»“æœæ˜¯ï¼šæ¡†å¤ªé«˜äº†â€¦äºæ˜¯å°±å»çœ‹çœ‹ç½‘ä¸Šçš„è®¨è®ºï¼Œåœ¨è¿™åæ§½ä¸€ä¸‹ï¼Œåº¦å¨˜çœŸçš„æ˜¯ç”¨ä¸­æ–‡éƒ½æ£€ç´¢ä¸å‡ºæ¥ç»“æœâ€¦æŸ¥äº†ç»“æœä¹‹åï¼Œå‘ç°textareaçš„å†…è¾¹è·åœ¨å®‰å“å’ŒiOSä¸Šçš„å·®åˆ«å¾ˆå¤§â€¦æˆ‘æœ‰ä»¥ä¸‹æ–¹æ¡ˆï¼š</p>
<ol>
<li>ä¸ä½¿ç”¨<code>textarea</code>çš„å†…è¾¹è·ï¼Œå¤–é¢å¥—ä¸€å±‚viewï¼Œä¸ºviewæ·»åŠ å†…è¾¹è·ã€‚å®è·µçš„ç»“æœæ˜¯ï¼šä¸è¡Œã€‚çœ‹åˆ°æœ‰ç­”æ¡ˆè¯´ï¼š<code>textarea</code>ä½¿ç”¨çš„åŸç”Ÿç»„ä»¶ï¼Œä»»ä½•<code>padding</code>ã€<code>line-height</code>éƒ½å¯¹æ­¤ä¸èµ·ä½œç”¨</li>
<li>ä¸º<code>view</code>è®¾ç½®<code>box-sizing: border-box</code>ï¼Œè¿™ä¹ˆä¸€è®¾ç½®ï¼Œ<code>textarea</code>çš„<code>auto-height</code>éƒ½ä¸èµ·ä½œç”¨äº†ï¼Œæ‰å¿ƒâ€¦</li>
<li>æ²¡åŠæ³•äº†ï¼Œæˆ‘åªèƒ½å»åŒºåˆ«æ‰‹æœºç³»ç»Ÿäº†ï¼š<pre class="line-numbers language-js"><code class="language-js">wx<span class="token punctuation">.</span><span class="token function">getSystemInfo</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
success<span class="token punctuation">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>model<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token string">'iPhone X'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isIphoneX <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>platform <span class="token operator">===</span> <span class="token string">'ios'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isAndroid <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
viewå±‚é€šè¿‡åˆ¤æ–­<code>getApp().globalData.isAndroid</code>çš„å€¼ï¼Œå¦‚æœä¸º<code>true</code>ï¼Œåˆ™åŠ paddingï¼Œå¦åˆ™ï¼Œä¸åŠ  paddingã€‚</li>
</ol>
<h4 id="iphoneçš„æ©¡çš®ç­‹æ•ˆæœ"><a href="#iphoneçš„æ©¡çš®ç­‹æ•ˆæœ" class="headerlink" title="iphoneçš„æ©¡çš®ç­‹æ•ˆæœ"></a>iphoneçš„æ©¡çš®ç­‹æ•ˆæœ</h4><p>å¦‚æœä½ çš„é¡µé¢æœ‰headerã€bodyã€footerï¼Œheaderæ˜¯ç™½è‰²ï¼Œbodyæ˜¯ç°è‰²ï¼Œfooteræ˜¯ç™½è‰²ï¼Œpageæœ¬èº«æ˜¯ç°è‰²ï¼Œé‚£ä¹ˆä½ åœ¨iphoneä¸Šä¸Šæ‹‰é¡µé¢ï¼Œä¼šçœ‹åˆ°ç°ä¸­ä¸€å—ç™½ï¼Œå¦‚ä½•å»è°ƒæ•´ï¼Œå½“ç„¶æ˜¯é®ç›–å†é®ç›–â€¦è¿™ä¸ªæ•ˆæœï¼Œä½“éªŒç‰¹åˆ«å·®â€¦</p>
<h4 id="iphone-Xçš„å®‰å…¨è¾¹è·"><a href="#iphone-Xçš„å®‰å…¨è¾¹è·" class="headerlink" title="iphone Xçš„å®‰å…¨è¾¹è·"></a>iphone Xçš„å®‰å…¨è¾¹è·</h4><p>æ‰¾åˆ°çš„èµ„æ–™æ˜¯å®‰å…¨è¾¹è·æ˜¯<code>68rpx</code>ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªå›ºå®šåˆ°ä¸‹æ–¹çš„<code>footer</code>ï¼Œå’Œå‡ºç°ä¸Šé¢çš„é—®é¢˜ï¼Œé‚£ä¹ˆä¸€å®šå¾—å¥½å¥½æƒ³æƒ³å¦‚ä½•å»é®é®é®â€¦</p>
<h4 id="inputå’Œtextareaçš„é€‰æ‹©"><a href="#inputå’Œtextareaçš„é€‰æ‹©" class="headerlink" title="inputå’Œtextareaçš„é€‰æ‹©"></a>inputå’Œtextareaçš„é€‰æ‹©</h4><p><code>textarea</code>æœ‰ä¸€ä¸ª<code>auto-height</code>çš„å±æ€§ï¼Œå¯ä»¥è‡ªåŠ¨æ ¹æ®å†…å®¹å»æ”¹å˜é«˜åº¦ï¼›ä½†æ˜¯<code>input</code>æœ‰æ‰‹æœºé”®ç›˜ä¼šæœ‰å®Œæˆè€Œä¸æ˜¯å›è½¦çš„é”®ï¼ŒåŒæ—¶ä¹Ÿä¼šæœ‰ä¸€ä¸ªç‚¹å‡»å®Œæˆé”®ç›˜ä¸æ”¶èµ·çš„é€‰é¡¹ï¼›æ€»ä¹‹ä½ å¯ä»¥æ ¹æ®è¿™ä¸¤ä¸ªç‰¹æ€§å»é€‰æ‹©ä½ éœ€è¦çš„ç»„ä»¶ï¼ŒåŠ å…¥éœ€è¦<code>input</code>çš„å±æ€§ï¼Œåˆéœ€è¦<code>textarea</code>çš„å±æ€§ï¼Œ<code>input</code>æ˜¯æœ€å¥½çš„é€‰æ‹©â€¦ä»¥æˆ‘çš„ç»éªŒæ¥è¯´</p>
<h4 id="é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°"><a href="#é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°"></a>é¡µé¢å³æœ‰ä¸Šæ‹‰åŠ è½½åˆæœ‰ä¸‹æ‹‰åˆ·æ–°</h4><p>ä¸€å®šè¦é€‰ç”¨<code>Page</code>çš„ç‰¹æ€§ï¼Œè€Œä¸æ˜¯<code>scroll-view</code></p>
<h4 id="æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢"><a href="#æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢" class="headerlink" title="æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢"></a>æ‰“å¼€é”®ç›˜æ˜¯å¦æ¨èµ·é¡µé¢</h4><p>å…ˆè€ƒè™‘ä¸æ¨èµ·é¡µé¢ï¼Œå†è€ƒè™‘æ¨èµ·é¡µé¢â€¦å› ä¸ºæ¨èµ·é¡µé¢æ˜¾å¾—ç‰¹åˆ«ä¸è‡ªç„¶â€¦.</p>
<h4 id="å¾—åˆ°globalDataä¸­çš„å€¼"><a href="#å¾—åˆ°globalDataä¸­çš„å€¼" class="headerlink" title="å¾—åˆ°globalDataä¸­çš„å€¼"></a>å¾—åˆ°globalDataä¸­çš„å€¼</h4><p>å¦‚æœä½ æƒ³ä»¥ä¸‹é¢çš„æ ¼å¼æ¥å¾—åˆ°<code>globalData</code>çš„å€¼ï¼Œå¯èƒ½ä¼šå‡ºä¹ä½ çš„æ„æ–™</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    isIphoneX<span class="token punctuation">:</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isIphoneX<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// åŒæ­¥å¾—åˆ°ï¼Œå¯ä»¥å¾—åˆ°æ­£ç¡®çš„å€¼</span>
    isLogin<span class="token punctuation">:</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>isLogin<span class="token punctuation">,</span>     <span class="token comment" spellcheck="true">// å¼‚æ­¥å¾—åˆ°ï¼Œå¾—ä¸åˆ°æ­£ç¡®çš„å€¼</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ²¡åŠæ³•ï¼Œæˆ‘åªèƒ½åœ¨<code>page</code>çš„<code>onload</code>ä¸­å†é‡æ–°èµ‹å€¼ä¸€æ¬¡â€¦.</p>
<p>8-17ï¼Œå…ˆå†™åˆ°è¿™â€¦</p>
]]></content>
      
        <categories>
            
            <category> å°ç¨‹åº </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å°ç¨‹åº </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[websocket-push]]></title>
      <url>/2018/08/15/websocket-push/</url>
      <content type="html"><![CDATA[<p>åˆšå¬åˆ°è¿™ä¸ªéœ€æ±‚çš„æ—¶å€™ï¼Œå¥½æ…Œâ€¦ä¹‹å‰æ²¡åšè¿‡ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p>
<h3 id="plan-A"><a href="#plan-A" class="headerlink" title="plan A"></a>plan A</h3><p>æˆ‘çš„å¤§è„‘è¿…é€Ÿé—ªè¿‡ä¸€ä¸ªæ–¹æ¡ˆï¼šæ”¶åˆ°ä¿¡æ¯å°±åœ¨å³ä¸Šæ–¹å¼¹å‡ºæ¶ˆæ¯å—ï¼Œç„¶åè¿‡ä¸ªäº”ç§’ï¼Œå°±æŠŠè‡ªå·±åˆ é™¤ã€‚æ¥ç€æˆ‘å»æŸ¥ï¼šreactå¦‚ä½•æŠŠè‡ªå·±åˆ é™¤ï¼Œå¾—åˆ°çš„ç­”æ¡ˆæ˜¯ï¼šç§»é™¤ç»„ä»¶å¿…é¡»æ˜¯çˆ¶ç»„ä»¶å»ç§»é™¤ã€‚æ­¤è®¡åˆ’ä¸è¡Œï¼Œæ€ä¹ˆåŠï¼Ÿ</p>
<p>æ¥ç€æˆ‘ç»§ç»­æƒ³ï¼Œä¸è¡Œå•Šï¼Œæˆ‘å¾—è®°å½•ä¹‹å‰çš„æ¶ˆæ¯ï¼Œè¦æ˜¯ä¸¤ç§’å†…æ¥ä¸ªä¸‰æ¡æ¶ˆæ¯ï¼Œæ–°çš„å°±æŠŠæ—§çš„é®ä½äº†â€¦</p>
<h3 id="plan-A-overäº†ï¼Œplan-B"><a href="#plan-A-overäº†ï¼Œplan-B" class="headerlink" title="plan A overäº†ï¼Œplan B"></a>plan A overäº†ï¼Œplan B</h3><p>æ­¤æ—¶ï¼Œæˆ‘æƒ³åˆ°äº†ä¸€ä¸ªpackageï¼š<a href="https://github.com/juliancwirko/react-s-alert" target="_blank" rel="noopener"><code>react-s-alert</code></a>ï¼Œè¿™ä¸ªç»„ä»¶å¯ä»¥æ»¡è¶³æˆ‘çš„éœ€æ±‚å‘¢ï¼Œä½†æ˜¯ï¼Œæˆ‘å¦‚ä½•è‡ªå®šä¹‰æˆ‘çš„æ¶ˆæ¯å—ï¼Œåªæœ‰ä¸€ä¸ªmessageçš„é€‰é¡¹ï¼Œå¯æ˜¯æˆ‘çš„æ¶ˆæ¯å—ç±»å‹æœ‰å¥½å‡ ç§å‘¢ï¼Œæˆ‘éš¾é“è¦å»æ‹¼æ¥å­—ç¬¦ä¸²ï¼Ÿä»”ç»†æƒ³æƒ³ï¼Œä¸å¯ä»¥å‘€ï¼Œéƒ½ç”¨reactäº†ï¼Œå¾—ç”¨ç»„ä»¶å•Šï¼Œä½†æ˜¯çœ‹äº†å‚æ•°ï¼Œå¥½åƒæ²¡æ‰¾åˆ°è§£å†³åŠæ³•ã€‚ä»”ç»†æƒ³äº†æƒ³ï¼Œå—¯ï¼Œæˆ‘è¦çš„æ ¸å¿ƒæ˜¯å’Œå®ƒä¸€æ ·çš„ï¼Œè¿™æ ·æˆ‘æ”¹æ”¹viewå±‚ï¼Œå°±å¯ä»¥ç”¨äº†ï¼Œæ­¤æ–¹æ³•å¯è¡Œã€‚äºæ˜¯æˆ‘<code>fork</code>ã€<code>clone</code>ï¼Œå¼€å§‹ä»”ç»†çœ‹æºç â€¦.</p>
<p>å“‡ï¼Œè¿™ä¸ªç»„ä»¶å†…éƒ¨å®ç°äº†ä¸€ä¸ªè¿·ä½ çš„<code>redux</code>ï¼Œå¥½é…·ï¼Œçœ‹ä¸æ‡‚å‘¢ï¼Œæˆ‘æŸ¥çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†ä¸€ä¸ªå«<code>Reactå°ä¹¦</code>ï¼Œé‡Œé¢æœ‰ä¸€éƒ¨åˆ†æ˜¯ä¸»è¦è®²è¿™ä¸ªçš„ï¼Œçœ‹äº†è®²è§£ï¼Œèƒ½ç¨å¾®çœ‹æ‡‚äº†ã€‚äºæ˜¯æˆ‘çŸ¥é“è¿™ä¸ªç»„ä»¶çš„å†…éƒ¨çš„å¤§æ¦‚é€»è¾‘ã€‚ä»”ç»†æƒ³äº†æƒ³ï¼Œæˆ‘æ˜¯å†™ä¸€ä¸ªæ’ä»¶å—å‘¢è¿˜æ˜¯æ‹¼æ¥å­—ç¬¦ä¸²å¿«å‘¢ï¼Ÿç›®å‰çš„é˜¶æ®µå…ˆç”¨æ‹¼æ¥å­—ç¬¦ä¸²å§ã€‚</p>
<p>é¡¹ç›®å†…éƒ¨å·²ç»ä½¿ç”¨<code>salert</code>æ¥ä½œä¸ºå…¨å±€çš„å¼¹æ¡†äº†ï¼Œæˆ‘è¦æ˜¯è¿˜ç”¨å®ƒæ¥æ˜¾ç¤ºæ¶ˆæ¯å—ï¼Œè¿™ä¸ªç»„ä»¶æ˜¯ä½¿ç”¨ä¸€ä¸ª<code>store</code>ï¼Œè¿™ä¼šå½±å“æˆ‘çš„æ¶ˆæ¯å—çš„æ˜¾ç¤ºï¼ï¼è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘è¿˜åœ¨è®¤çœŸçš„æƒ³ç€æ€ä¹ˆå»è§£å†³è¿™ä¸ªé—®é¢˜â€¦.</p>
<h3 id="ç»ˆæè§£å†³æ–¹æ¡ˆ"><a href="#ç»ˆæè§£å†³æ–¹æ¡ˆ" class="headerlink" title="ç»ˆæè§£å†³æ–¹æ¡ˆ"></a>ç»ˆæè§£å†³æ–¹æ¡ˆ</h3><p>å¿½ç„¶çµæœºä¸€åŠ¨ï¼Œè¿™ä¸å°±æ˜¯æŠŠä¸œè¥¿å­˜åˆ°<code>store</code>é‡Œé¢ï¼Œå±•ç¤ºæˆä¸€ä¸ªåˆ—è¡¨å˜›ï¼ï¼ï¼å”¯ä¸€å¤šå‡ºçš„ä¸œè¥¿å°±æ˜¯åœ¨æ¯ä¸ªitemå†…éƒ¨åŠ ä¸€ä¸ª<code>timeout</code>ï¼Œæ˜¾ç¤ºå‡ ç§’åï¼Œç§»é™¤ã€‚è¿™ä¸ªæ—¶å€™å¿½ç„¶æƒ³åˆ°è¿™ä¸ªç»ˆæçš„è§£å†³åŠæ³•çš„æˆ‘ï¼ŒçœŸçš„æ˜¯ï¼ï¼ï¼</p>
<h3 id="ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ä¸€ä¸ªå¿ƒç†æ´»åŠ¨"><a href="#ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ä¸€ä¸ªå¿ƒç†æ´»åŠ¨" class="headerlink" title="ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ä¸€ä¸ªå¿ƒç†æ´»åŠ¨"></a>ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·çš„ä¸€ä¸ªå¿ƒç†æ´»åŠ¨</h3><p>ä»”ç»†åˆ†æäº†æˆ‘çš„å…¨éƒ¨å¿ƒç†æ´»åŠ¨ï¼Œä¸ºä»€ä¹ˆè¿™ä¸ªè§£å†³æ–¹æ¡ˆå¦‚æ­¤å¸¸è§ï¼Œæˆ‘æ²¡æœ‰æƒ³åˆ°å‘¢ï¼ï¼åˆšå¼€å§‹ä¸€å¬åˆ°å®æ—¶æ¨é€ï¼Œæ²¡å¬è¿‡ï¼Œå¬èµ·æ¥å¾ˆé«˜çº§å‘¢ï¼Œå¾ˆéš¾å§â€¦äºæ˜¯è‡ªå·±æŠŠè‡ªå·±å“ä½äº†ï¼Œäººåœ¨ä¸æ¸…é†’çš„çŠ¶å†µä¸‹ï¼Œæ— æ³•æ­£å¸¸çš„æ€è€ƒé—®é¢˜â€¦<br>äºæ˜¯æˆ‘å¼€å§‹äº†ä¸€ç³»åˆ—çš„planï¼Œç»•äº†ä¸€åœˆæ‰æƒ³åˆ°æ­£å¸¸çš„æ–¹æ³•ã€‚åªæ˜¯å½“æˆ‘æƒ³åˆ°æœ€åçš„æ–¹æ¡ˆæ—¶ï¼Œä½†æ˜¯å¸¦ç»™æˆ‘çš„å†²å‡»å¤ªå¤§äº†ï¼Œå°±æ˜¯ ä¹±èŠ±æ¸æ¬²è¿·äººçœ¼ï¼Œ æˆ‘çš„çœ¼ç›è¢«è¿·ä½äº†ï¼Œå½“æ¸…é†’çš„é‚£ä¸€åˆ»â€¦.</p>
<p>è¿‡ç¨‹è¿˜æ˜¯ä¸é”™çš„ï¼Œæˆ‘å­¦åˆ°äº†å¦‚ä½•æ„å»ºä¸€ä¸ªminiçš„<code>redux</code>ï¼Œç°åœ¨éœ€è¦åŠªåŠ›çš„æ˜¯ï¼šå¦‚ä½•åœ¨å¤§è„‘ä¸æ¸…é†’çš„çŠ¶æ€ä¸‹è¿›è¡Œæ€è€ƒâ€¦å¤šç©ç©ææ€–çš„å¯†å®¤é€ƒè„±</p>
<p>PS: ç‚’é¸¡æ¨èä¸€æ¬¾æ¸¸æˆ <code>human resource machine</code>ï¼Œå¸Œæœ›æˆ‘æ²¡å†™é”™å§ï¼Œè¿™æ¬¾çš„æ¸¸æˆå¯¹äºæˆ‘æ¥è¯´æ˜¯é”»ç‚¼ç®—æ³•å’Œé€»è¾‘èƒ½åŠ›çš„ï¼Œä»”ç»†ç”»æµç¨‹å›¾è¿˜æ˜¯èƒ½æ‰¾åˆ°è§£å†³åŠæ³•â€¦è§£å¯èƒ½ä¸æ˜¯æœ€ä¼˜è§£ï¼Œå»æœæœæœ€ä¼˜è§£ï¼Œ æœ‰å¯¹æ¯”æ‰æœ‰çˆ±â¤ï¸</p>
]]></content>
      
        <categories>
            
            <category> react </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[angular_1_source_code]]></title>
      <url>/2018/08/13/angular-1-source-code/</url>
      <content type="html"></content>
      
        
    </entry>
    
    <entry>
      <title><![CDATA[translate-mindset-lessons-from-a-year-with-react]]></title>
      <url>/2018/08/10/translate-mindset-lessons-from-a-year-with-react/</url>
      <content type="html"><![CDATA[<h3 id="å‰"><a href="#å‰" class="headerlink" title="å‰"></a>å‰</h3><p><a href="https://medium.freecodecamp.org/mindset-lessons-from-a-year-with-react-1de862421981" target="_blank" rel="noopener">åŸæ–‡é“¾æ¥</a><br>åœ¨Mç«™ç»å¸¸èƒ½çœ‹åˆ°ä¼˜ç§€çš„æ–‡ç« ï¼Œæ˜¨å¤©çœ‹åˆ°çš„ä¸€ç¯‡æ–‡ç« ä»Šå¤©åœ¨çœ‹å…¬ä¼—å·æ¨èçš„æ–‡ç« ä¸­ï¼Œå°±çœ‹åˆ°äº†è¿™ç¯‡æ–‡ç« çš„è¯‘æ–‡ã€‚æˆ‘çœ‹è‹±æ–‡æ–‡ç« ä¹Ÿæ˜¯è¾¹çœ‹è¾¹ç¿»è¯‘ï¼Œé˜…è¯»åçš„è®°å¿†ä¸æ·±ï¼Œæœ‰æ—¶å€™è¿˜éœ€è¦å†çœ‹ä¸€éï¼ŒèŒå‘äº†ç¿»è¯‘çš„å¿µå¤´ï¼Œå…ˆå°è¯•ä¸€ä¸‹ï¼</p>
<h3 id="ä½¿ç”¨reactå·¥ä½œä¸€å¹´åï¼Œæˆ‘å­¦åˆ°äº†æœ€é‡è¦çš„ä¸€è¯¾"><a href="#ä½¿ç”¨reactå·¥ä½œä¸€å¹´åï¼Œæˆ‘å­¦åˆ°äº†æœ€é‡è¦çš„ä¸€è¯¾" class="headerlink" title="ä½¿ç”¨reactå·¥ä½œä¸€å¹´åï¼Œæˆ‘å­¦åˆ°äº†æœ€é‡è¦çš„ä¸€è¯¾"></a>ä½¿ç”¨reactå·¥ä½œä¸€å¹´åï¼Œæˆ‘å­¦åˆ°äº†æœ€é‡è¦çš„ä¸€è¯¾</h3><p><img src="http://res.cloudinary.com/dwudaridr/image/upload/v1533801204/blog/translate-1.png" alt="image"><br>æˆ‘ä¸æƒ³åŠ è¿™å¼ å›¾ç‰‡ï¼Œä½†æ˜¯æˆ‘çŸ¥é“å®ƒä¼šå¼•èµ·ä½ çš„æ³¨æ„(hhh ç¡®å®å¾ˆå¼•äººæ³¨æ„)ğŸ”ª</p>
<p>ä»ä¸€é—¨æ–°æŠ€æœ¯å¼€å§‹å¯èƒ½ä¼šå¾—å¸¸éº»çƒ¦ï¼Œä½ ç»å¸¸å‘ç°ä½ è‡ªå·±å¤„äºæ•™ç¨‹å’Œæ–‡ç« çš„æµ·æ´‹ä¸­ï¼Œåé¢æ˜¯æ•°ä»¥ç™¾ä¸‡è®¡çš„ä¸ªäººè§‚ç‚¹ï¼Œæ¯ä¸€ä¸ªäººéƒ½è¯´ä»–ä»¬æ‰¾åˆ°äº†æ­£ç¡®è€Œå®Œç¾çš„è§£å†³åŠæ³•ã€‚</p>
<p>è¿™äº›ä¼šè®©æˆ‘ä»¬çº ç»“æˆ‘ä»¬é€‰æ‹©çš„æ•™ç¨‹æ˜¯å¦æ˜¯æµªè´¹æ—¶é—´ã€‚</p>
<p>åœ¨å»çŸ¥è¯†çš„æµ·æ´‹ä¸­ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»ç†è§£æŠ€æœ¯çš„åŸºæœ¬æ¦‚å¿µã€‚æ¥ç€æˆ‘ä»¬éœ€è¦å¼€å‘ä¸€ç§åŸºäºæŠ€æœ¯çš„æ€ç»´æ¨¡å¼ã€‚å¦‚æœæˆ‘ä»¬å¼€å§‹å­¦ä¹ reactï¼Œæˆ‘ä»¬é¦–å…ˆå¯¹reactè¿›è¡Œæ€è€ƒã€‚åªæœ‰åœ¨ä»¥åæˆ‘ä»¬æ‰å¼€å§‹å°†å„ç§å¿ƒæ€èåˆæˆä¸€ä½“ã€‚</p>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä»æˆ‘ä¸ªäººä½¿ç”¨reactçš„ç»å†ä¸­ä»‹ç»æˆ‘ä»è¿™æ–¹é¢å­¦åˆ°ä¸€äº›ç»éªŒæ•™è®­ã€‚æˆ‘ä»¬åœ¨ç™½å¤©å·¥ä½œï¼Œæ™šä¸Šå†™ä¸ªäººçš„é¡¹ç›®ï¼Œç”šè‡³ä¼šè°ˆä¸€äº›æˆ‘åœ¨æœ¬åœ°JavaScriptæ´»åŠ¨ã€‚</p>
<p>é‚£ä¹ˆï¼Œå°±è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p>
<h4 id="reactæ­£åœ¨å‘å±•ï¼Œä½ å¿…é¡»æ˜¯æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬"><a href="#reactæ­£åœ¨å‘å±•ï¼Œä½ å¿…é¡»æ˜¯æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬" class="headerlink" title="reactæ­£åœ¨å‘å±•ï¼Œä½ å¿…é¡»æ˜¯æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬"></a>reactæ­£åœ¨å‘å±•ï¼Œä½ å¿…é¡»æ˜¯æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬</h4><p>å¦‚æœä½ è¿˜è®°å¾—ç‰ˆæœ¬16.3.0çš„åˆå§‹å…¬å‘Šï¼Œä½ ä¼šè®°å¾—æ¯ä¸ªäººå¯¹æ­¤éƒ½å¾ˆå…´å¥‹ã€‚</p>
<p>è¿™æ˜¯æ–°ç‰ˆçš„çš„ä¸€äº›å˜åŒ–å’Œæ”¹è¿›ï¼š</p>
<ul>
<li>Official Context API</li>
<li>createRef API</li>
<li>forwardRef API</li>
<li>StrictMode</li>
<li>Component Lifecycle Changes</li>
</ul>
<p>react coreå›¢é˜Ÿå’Œæ‰€æœ‰çš„è´¡çŒ®è€…éƒ½åœ¨ä½ é¼“åŠ±çš„æ”¹è¿›æˆ‘ä»¬å–œæ¬¢çš„æŠ€æœ¯ã€‚ åœ¨ç‰ˆæœ¬16.4.0ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†Pointer Eventsã€‚</p>
<p>è‚¯å®šè¿˜æœ‰æ›´è¿‘ä¸€æ­¥çš„æ”¹å˜ï¼Œè¿™åªæ˜¯æ—¶é—´çš„é—®é¢˜ï¼Œå¼‚æ­¥æ¸²æŸ“ã€ç¼“å­˜ ç‰ˆæœ¬17.0.0 ä»¥åŠå…¶ä»–å¾ˆå¤šä¸çŸ¥é“çš„æ”¹å˜ã€‚</p>
<p>å› æ­¤ï¼Œå¦‚æœä½ æƒ³æˆä¸ºæœ€æ£’çš„ä¸“å®¶ï¼Œä½ å¿…é¡»äº†è§£ç¤¾åŒºä¸­å‘ç”Ÿçš„äº‹æƒ…ã€‚</p>
<p>äº†è§£å®ƒä»¬æ˜¯æ€ä¹ˆå·¥ä½œçš„ä»¥åŠå®ƒä»¬ä¸ºä½•è¢«å¼€å‘å‡ºæ¥ã€‚å­¦ä¹ æ­£åœ¨è§£å†³çš„é—®é¢˜ä»¥åŠå¦‚ä½•ä½¿å¼€å‘æ›´å®¹æ˜“ã€‚è¿™äº›çœŸçš„å¯¹ä½ å¾ˆæœ‰å¸®åŠ©ã€‚</p>
<h4 id="ä¸è¦å®³æ€•å°†ä»£ç åˆ†æˆæ›´å°çš„å—"><a href="#ä¸è¦å®³æ€•å°†ä»£ç åˆ†æˆæ›´å°çš„å—" class="headerlink" title="ä¸è¦å®³æ€•å°†ä»£ç åˆ†æˆæ›´å°çš„å—"></a>ä¸è¦å®³æ€•å°†ä»£ç åˆ†æˆæ›´å°çš„å—</h4><p>reactæ˜¯åŸºäºç»„ä»¶çš„ã€‚æ‰€ä»¥ä½ åº”è¯¥åˆ©ç”¨è¿™ä¸ªæ¦‚å¿µï¼Œä¸å¿…å®³æ€•å°†æ›´å¤§çš„éƒ¨åˆ†åˆ†æˆæ›´å°çš„éƒ¨åˆ†ã€‚æœ‰æ—¶å€™ä¸€ä¸ªç®€å•çš„ç»„ä»¶å¯èƒ½åªæ˜¯4-5è¡Œä»£ç ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå®ƒå®Œå…¨æ²¡é—®é¢˜ã€‚è¿™æ ·åšï¼Œå¦‚æœæ¥ä¸€ä¸ªæ–°äººï¼Œä»–ä»¬å°†ä¸éœ€è¦å‡ å¤©å»äº†è§£ä¸€åˆ‡æ˜¯å¦‚æœè¿ä½œçš„ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// isn't this easy to understand?</span>
<span class="token keyword">return</span> <span class="token punctuation">(</span>
  <span class="token punctuation">[</span>
   <span class="token operator">&lt;</span>ChangeButton
    onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>changeUserApprovalStatus<span class="token punctuation">}</span>
    text<span class="token operator">=</span><span class="token string">"Letâ€™s switch it!"</span>
   <span class="token operator">/</span><span class="token operator">></span><span class="token punctuation">,</span>
   <span class="token operator">&lt;</span>UserInformation status<span class="token operator">=</span><span class="token punctuation">{</span>status<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½ ä¸å¿…åˆ¶ä½œå†…ç½®å¤æ‚çš„é€»è¾‘ç»„ä»¶ã€‚å®ƒä»¬ä»…ä»…èƒ½çœ‹å˜é‡åå°±èƒ½ç†è§£ç»„ä»¶ã€‚å¦‚æœè¿™æ ·å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œæµ‹è¯•æ€§ï¼Œå¹¶è¿›ä¸€æ­¥å‡å°‘æ›´æ·±ä¸€æ­¥çš„<a href="https://en.wikipedia.org/wiki/Code_smell" target="_blank" rel="noopener">ä»£ç å‘³é“</a>ï¼Œé‚£å®ƒå¯¹äºå›¢é˜Ÿé‡Œçš„æ¯ä¸ªäººéƒ½æ˜¯ä¸€ä¸ªèƒœåˆ©ã€‚</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">import</span> ErrorMessage <span class="token keyword">from</span> <span class="token string">'./ErrorMessage'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> NotFound <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>ErrorMessage
    title<span class="token operator">=</span><span class="token string">"Oops! Page not found."</span>
    message<span class="token operator">=</span><span class="token string">"The page you are looking for does not exist!"</span>
    className<span class="token operator">=</span><span class="token string">"test_404-page"</span>
  <span class="token operator">/</span><span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå±æ€§æ˜¯é™æ€çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æœ‰ä¸€ä¸ªè´Ÿè´£ç½‘ç«™é”™è¯¯ä¿¡æ¯çš„pure componentï¼šNOTFoundï¼Œä»…æ­¤è€Œå·²ã€‚</p>
<p>å¦å¤–ï¼Œå¦‚æœä½ ä¸å–œæ¬¢åœ¨ä»»ä½•åœ°æ–¹éƒ½ä½¿ç”¨cssç±»ä½œä¸ºç±»åï¼Œæˆ‘å»ºè®®ä½¿ç”¨æ ·å¼åŒ–ç»„ä»¶ã€‚è¿™å¯ä»¥æé«˜å¯è¯»æ€§ã€‚</p>
<p>å¦‚æœå®³æ€•åˆ›é€ ä¸€ä¸ªæ–°çš„ç»„ä»¶è€Œæ±¡æŸ“ä½ çš„æ–‡ä»¶å¤¹ï¼Œè¯·é‡æ–°æ€è€ƒå¦‚æœæ„å»ºä»£ç ã€‚æˆ‘ä¸€ç›´åœ¨ä½¿ç”¨<a href="https://hackernoon.com/fractal-a-react-app-structure-for-infinite-scale-4dab943092af" target="_blank" rel="noopener">fractal structure</a>ï¼Œå®ƒå¾ˆæ£’ã€‚</p>
<h4 id="ä¸è¦æ‹˜æ³¥äºåŸºç¡€-è¦å˜çš„å…ˆè¿›"><a href="#ä¸è¦æ‹˜æ³¥äºåŸºç¡€-è¦å˜çš„å…ˆè¿›" class="headerlink" title="ä¸è¦æ‹˜æ³¥äºåŸºç¡€-è¦å˜çš„å…ˆè¿›"></a>ä¸è¦æ‹˜æ³¥äºåŸºç¡€-è¦å˜çš„å…ˆè¿›</h4><p>æœ‰æ—¶ä½ å¯èƒ½è®¤ä¸ºä½ ä¸å¤Ÿäº†è§£ä¸€äº›ä¸œè¥¿è€Œè½¬å‘é«˜çº§çš„ä¸œè¥¿ã€‚ä½†é€šå¸¸ä½ ä¸å¿…è¿‡äºæ‹…å¿ƒï¼šæ¥å—æŒ‘æˆ˜å¹¶è¯æ˜è‡ªå·±é”™è¯¯ã€‚</p>
<p>é€šè¿‡æŒæ¡é«˜çº§çš„ä¸»é¢˜æ¥æé«˜è‡ªå·±ï¼Œä½ å¯ä»¥ç†è§£æ›´å¤šåŸºç¡€çš„ä¸œè¥¿å¹¶ä¸”å¦‚ä½•å°†å®ƒä»¬åº”ç”¨äºæ›´å¤§çš„äº‹æƒ…ä¸Šã€‚</p>
<p>ä½ å¯ä»¥å»æ¢ç´¢ä»¥ä¸‹å¾ˆå¤šæ¨¡å¼ï¼š</p>
<ul>
<li>Compound Components</li>
<li>High Order Components</li>
<li>Render Props</li>
<li>Smart/Dumb Components</li>
<li>many others (try out Profiling)</li>
</ul>
<p>æ¢ç´¢ä»–ä»¬ï¼Œä½ å°†ä¼šçŸ¥é“ä½¿ç”¨å®ƒä»¬çš„åŸå› å’Œåœ°æ–¹ã€‚ä½ ä¼šå¯¹Reactæ„Ÿåˆ°æ›´èˆ’é€‚ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// looks like magic?</span>
<span class="token comment" spellcheck="true">// it's not that hard when you just try</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> children <span class="token operator">=</span> React<span class="token punctuation">.</span>Children<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">,</span>
   <span class="token punctuation">(</span>child<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> React<span class="token punctuation">.</span><span class="token function">cloneElement</span><span class="token punctuation">(</span>child<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        onSelect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onTabSelect</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">return</span> children<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¹¶ä¸”ï¼Œä½ ä¸è¦å®³æ€•åœ¨ä½ çš„å·¥ä½œä¸­å°è¯•ä¸€äº›æ–°çš„äº‹ç‰©ï¼Œå½“ç„¶ï¼Œåœ¨æŸäº›èŒƒå›´å†…ã€‚ä¸è¦åªé™äºåœ¨ç§äººçš„é¡¹ç›®ä¸­è¯•éªŒã€‚åˆ«äººå¯èƒ½ä¼šæé—®é—®é¢˜ï¼Œè¿™äº›éƒ½æ˜¯æ­£å¸¸çš„ã€‚ä½ çš„ä»»åŠ¡æ˜¯ç”¨å¼ºæœ‰åŠ›çš„è®ºæ®æ¥æå«ä½ çš„å·¥ä½œå’Œå†³å®šã€‚</p>
<p>ä½ çš„ç›®æ ‡åº”è¯¥æ˜¯è§£å†³ç°æœ‰é—®é¢˜ï¼Œè¿›ä¸€æ­¥å¼€å‘ï¼Œæˆ–è€…åªæ˜¯æé«˜ä»£ç è´¨é‡ï¼ˆåŸæ–‡æ˜¯ï¼šor just clean some pasta in the code. æˆ‘æ‰¾äº†pasta codeçš„æ„æ€ï¼Œå®ƒä¸ä»¥ä¸‹çš„åè¯æœ‰å…³ï¼šSpaghettiCodeã€RavioliCodeã€LasagnaCodeï¼‰ï¼Œå³ä½¿ä½ çš„å»ºè®®è¢«æ‹’ç»äº†ï¼Œä½ åº”è¯¥å›å®¶å»äº†è§£ï¼Œè€Œä¸æ˜¯æ²‰é»˜ã€‚</p>
<h4 id="ä¸è¦è¿‡äºå¤æ‚"><a href="#ä¸è¦è¿‡äºå¤æ‚" class="headerlink" title="ä¸è¦è¿‡äºå¤æ‚"></a>ä¸è¦è¿‡äºå¤æ‚</h4><p>è¿™ä¸ªå¬èµ·æ¥åƒä¸€ä¸ªåé©³è®ºç‚¹ï¼Œä½†æ˜¯å®ƒæœ‰æ‰€ä¸åŒã€‚åœ¨ç”Ÿæ´»ä¸­ï¼Œæ— å¤„ä¸åœ¨ï¼Œæˆ‘ä»¬å¿…é¡»ä¿æŒå¹³è¡¡ã€‚æˆ‘ä»¬ä¸åº”è¯¥è¿‡äºç‚«è€€ï¼ˆover-engineer to show offï¼‰ã€‚æˆ‘ä»¬å¿…é¡»åŠ¡å®ã€‚ç¼–å†™å®¹æ˜“ç†è§£å¹¶å®ç°å…¶ç›®çš„çš„ä»£ç ã€‚</p>
<p>å¦‚æœä½ ä¸éœ€è¦reduxï¼Œä½†æ˜¯ä½ æƒ³è¦ä½¿ç”¨å®ƒå› ä¸ºæ¯ä¸ªäººéƒ½åœ¨ä¸çŸ¥é“å®ƒçš„çœŸæ­£ç›®çš„è€Œä½¿ç”¨å®ƒï¼Œä¸è¦è¿™æ ·ï¼Œæå‡ºæ„è§ï¼Œå¦‚æœåˆ«äººæ¨ä½ ï¼Œä¸è¦å®³æ€•ç«™èµ·æ¥ã€‚</p>
<p>æœ‰æ—¶å€™ä½ ä¹Ÿè®¸ä¼šæƒ³ä½¿ç”¨æœ€æ–°çš„æŠ€æœ¯ç¼–å†™å¤æ‚çš„ä»£ç ï¼Œä½ å°±å¯ä»¥å‘ä¸–ç•Œè¯´ï¼šæˆ‘ä¸æ˜¯ä¸€ä¸ªåˆå­¦è€…ï¼Œæˆ‘æ­£åœ¨æˆä¸ºä¸€ä¸ªä¸­çº§ï¼Œçœ‹çœ‹æˆ‘èƒ½åšäº›ä»€ä¹ˆã€‚</p>
<p>è¯´å®è¯ï¼Œè¿™æ˜¯æˆ‘åœ¨å¼€å‘ä¹‹æ—…å¼€å§‹çš„å¿ƒæ€ã€‚ä½†æ˜¯éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½ ä¼šç†è§£ä¸å¸¦æœ‰ç‚«è€€ç¼–å†™ä»£ç ï¼Œå› ä¸ºâ€˜å®ƒèƒ½å·¥ä½œâ€™æ˜¯æœ€å®¹æ˜“ä½¿ç”¨ã€‚</p>
<ol>
<li>åŒäº‹å¯ä»¥å¤„ç†ä½ çš„é¡¹ç›®ï¼Œä½ ä¸æ˜¯å”¯ä¸€è´Ÿè´£å¼€å‘ã€ä¿®å¤ã€æµ‹è¯•çš„äººã€‚</li>
<li>å›¢é˜Ÿå¯ä»¥åœ¨ä¸å‚åŠ é•¿æ—¶é—´çš„ä¼šè®®äº†è§£å…¶ä»–äººçš„æ‰€ä½œæ‰€ä¸ºã€‚å‡ åˆ†é’Ÿå°±è¶³å¤Ÿç”¨æ¥è®¨è®ºäº†ã€‚</li>
<li>å½“ä½ çš„åŒäº‹å‡ºå»åº¦å‡ä¸¤å‘¨æ—¶ï¼Œä½ å¯ä»¥æ¥ç®¡ä»–ä»¬çš„ä»»åŠ¡ï¼Œè€Œä¸”ä½ ä¸éœ€è¦å·¥ä½œ8å°æ—¶ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨ä¸€å°æ—¶å†…å®Œæˆã€‚<br>äººä»¬å°Šé‡è®©åˆ«äººç”Ÿæ´»æ›´è½»æ¾çš„äººã€‚</li>
</ol>
<p>å› æ­¤ï¼Œå¦‚æœæ‚¨çš„ç›®æ ‡æ˜¯è·å¾—å°Šé‡ï¼Œæå‡æ’åå¹¶è¿›è¡Œæ”¹è¿›ï¼Œåˆ™éœ€è¦ä¸ºå›¢é˜Ÿè€Œä¸æ˜¯è‡ªå·±ç¼–å†™ä»£ç ã€‚ä½ å°†æˆä¸ºæ¯ä¸ªäººæœ€å–œæ¬¢çš„å›¢é˜Ÿæˆå‘˜ã€‚</p>
<h4 id="é‡æ„ï¼Œé‡æ„å’Œé‡æ„-è¿™æ˜¯æ­£å¸¸çš„"><a href="#é‡æ„ï¼Œé‡æ„å’Œé‡æ„-è¿™æ˜¯æ­£å¸¸çš„" class="headerlink" title="é‡æ„ï¼Œé‡æ„å’Œé‡æ„ - è¿™æ˜¯æ­£å¸¸çš„"></a>é‡æ„ï¼Œé‡æ„å’Œé‡æ„ - è¿™æ˜¯æ­£å¸¸çš„</h4><p>å°½ç®¡é¡¹ç›®ç»ç†ä¼šç»å¸¸æ”¹å˜ä»–ä»¬çš„æƒ³æ³•ï¼Œä½ æ”¹å˜ä¸»æ„åå‡ æ¬¡ã€‚å…¶ä»–äººä¼šæ‰¹è¯„ä½ çš„å·¥ä½œï¼Œä½ ä¹Ÿä¼šæ‰¹è¯„å®ƒã€‚å› æ­¤ï¼Œä½ å¿…é¡»å¤šæ¬¡æ”¹å˜ä½ çš„ä»£ç ã€‚ä¸è¦æ‹…å¿ƒï¼Œè¿™æ˜¯ä¸€ä¸ªè‡ªç„¶çš„å­¦ä¹ è¿‡ç¨‹ã€‚æ²¡æœ‰å¤±è´¥å’Œé”™è¯¯ä½ ä¸èƒ½æé«˜ã€‚æˆ‘ä»¬å€’ä¸‹çš„æ¬¡æ•°è¶Šå¤šï¼Œæ¢å¤èµ·æ¥å°±è¶Šå®¹æ˜“ã€‚</p>
<p>ä½†è¿™é‡Œæœ‰ä¸€ä¸ªæç¤ºï¼šç¡®ä¿æµ‹è¯•å½“å‰çš„è½¯ä»¶ã€‚ Smokeã€unitã€integrationã€snapshotï¼Œä¸è¦å®³ç¾ä½¿ç”¨å®ƒä»¬ã€‚</p>
<p>æ¯ä¸ªäººéƒ½é¢ä¸´æˆ–å°†é¢ä¸´è¿™ä¸ªåœºæ™¯ï¼šæµ‹è¯•å¯ä»¥èŠ‚çœå®è´µçš„æ—¶é—´ã€‚å¦‚æœä½ åƒè®¸å¤šäººä¸€æ ·è®¤ä¸ºä»–ä»¬æµªè´¹æ—¶é—´ï¼Œé‚£å°±è¯•ç€æ€è€ƒä¸€ä¸‹ã€‚</p>
<ol>
<li>ä½ ä¸å¿…å’Œä½ çš„åŒäº‹ä¸€èµ·è§£é‡Šäº‹æƒ…æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚</li>
<li>ä½ ä¸å¿…å’Œä½ çš„åŒäº‹ä¸€èµ·è§£é‡Šä¸ºä»€ä¹ˆäº‹æƒ…ä¼šç ´è£‚ã€‚</li>
<li>æ‚¨ä¸å¿…ä¸ºæ‚¨çš„åŒäº‹ä¿®å¤é”™è¯¯ã€‚</li>
<li>æ‚¨ä¸å¿…ä¿®å¤3å‘¨åå‘ç°çš„é”™è¯¯ã€‚</li>
<li>ä½ å°†æœ‰æ—¶é—´åšä½ æƒ³è¦çš„ä¸œè¥¿ã€‚</li>
</ol>
<p>è¿™éƒ½æ˜¯éå¸¸æœ‰ç›Šå¤„çš„ã€‚</p>
<h4 id="å¦‚æœä½ å–œæ¬¢å®ƒï¼Œä½ ä¼šèŒå£®æˆé•¿ã€‚"><a href="#å¦‚æœä½ å–œæ¬¢å®ƒï¼Œä½ ä¼šèŒå£®æˆé•¿ã€‚" class="headerlink" title="å¦‚æœä½ å–œæ¬¢å®ƒï¼Œä½ ä¼šèŒå£®æˆé•¿ã€‚"></a>å¦‚æœä½ å–œæ¬¢å®ƒï¼Œä½ ä¼šèŒå£®æˆé•¿ã€‚</h4><p>åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼Œæˆ‘çš„ç›®æ ‡æ˜¯åœ¨Reactä¸Šåšå¾—æ›´å¥½ã€‚ æˆ‘æƒ³è°ˆè°ˆå®ƒã€‚ æˆ‘å¸Œæœ›åˆ«äººå’Œæˆ‘ä¸€èµ·äº«å—ã€‚æˆ‘å¯ä»¥ä¸åœåœ°åç€æ•´å¤œç¼–ç ï¼Œçœ‹ç€å„ç§å„æ ·çš„è°ˆè¯ï¼Œäº«å—å®ƒçš„æ¯ä¸€åˆ†é’Ÿã€‚</p>
<p>é—®é¢˜æ˜¯ï¼Œå¦‚æœä½ æƒ³è¦ä»€ä¹ˆï¼Œä¸çŸ¥æ€çš„ï¼Œæ¯ä¸ªäººéƒ½å¼€å§‹å¸®åŠ©ä½ ã€‚ä¸Šä¸ªæœˆï¼Œæˆ‘é¢å¯¹200äººå‘è¡¨äº†æˆ‘çš„ç¬¬ä¸€æ¬¡Reactæ¼”è®²ã€‚</p>
<p>åœ¨è¿™ä¸€å¹´æœŸé—´ï¼Œæˆ‘å˜å¾—æ›´å¼ºå¤§ï¼Œæ›´èˆ’é€‚åœ°é¢å¯¹reactçš„å¤šç§æ¨¡å¼ã€èŒƒå¼å’Œå†…éƒ¨è¿ä½œã€‚æˆ‘å¯ä»¥è¿›è¡Œé«˜çº§è®¨è®ºå¹¶å‘å…¶ä»–äººè®²æˆæˆ‘ä¸æ•¢è§¦åŠçš„è¯é¢˜ã€‚è€Œä»Šå¤©æˆ‘ä»ç„¶æ„Ÿå—åˆ°ä¸€å¹´å‰æˆ‘æ‰€æ„Ÿå—åˆ°çš„åŒæ ·çš„å…´å¥‹å’Œäº«å—ã€‚</p>
<p>æ‰€ä»¥æˆ‘å»ºè®®æ¯ä¸ªäººéƒ½é—®è‡ªå·±ï¼šâ€œä½ å–œæ¬¢ä½ åšä»€ä¹ˆå—ï¼Ÿâ€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œç»§ç»­å¯»æ‰¾ä½ å¯ä»¥è°ˆè®ºå‡ ä¸ªå°æ—¶çš„ç‰¹æ®Šçš„ä¸€å—ï¼Œæ¯æ™šå­¦ä¹ ï¼Œå˜å¾—å¼€å¿ƒã€‚å› ä¸ºæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°æœ€æ¥è¿‘æˆ‘ä»¬å¿ƒçµçš„ä¸œè¥¿ã€‚ ä¸èƒ½å¼ºè¿«æˆåŠŸï¼Œå®ƒå¿…é¡»å®ç°ã€‚</p>
<p>å¦‚æœæˆ‘å¯ä»¥å›åˆ°ä¸€å¹´çš„æ—¶é—´ï¼Œé‚£ä¹ˆåœ¨æˆ‘å‰é¢çš„æ—…ç¨‹ä¹‹å‰ï¼Œæˆ‘ä¼šä¸ºè‡ªå·±åšäº›å‡†å¤‡ã€‚</p>
<p>è°¢è°¢ä½ çš„é˜…è¯»ï¼</p>
<p>å¦‚æœä½ è§‰å¾—è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·é¼“æŒã€‚</p>
<h3 id="å"><a href="#å" class="headerlink" title="å"></a>å</h3><p>ä¸å°è¯•ä¸çŸ¥é“ï¼ç¿»è¯‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘åªèƒ½çœ‹æ‡‚ä¸€å¥è¯è¡¨è¾¾çš„æ„æ€ï¼Œä½†æ˜¯ç¿»è¯‘å‡ºæ¥éœ€è¦ç¨å¾®æ¶¦è‰²ä¸€ä¸‹ã€‚å¯¹äºæˆ‘çœ‹ä¸æ‡‚çš„å¥å­ï¼Œæˆ‘å°è¯•google translateï¼Œæ•ˆæœè¿˜æ˜¯å¾ˆå¥½çš„ğŸ˜‚ã€‚å¯¹äºé‡Œé¢çš„ä¸€äº›é€šç”¨åè¯æˆ‘è¿˜æ˜¯ä¸å¤ªäº†è§£ï¼šä¾‹å¦‚ <code>pasta code</code>ã€<code>code smell</code>ï¼Œéœ€è¦æˆ‘å†å»æŸ¥ä¸€éï¼Œæœ‰æ—¶å€™å¯èƒ½è‡ªå·±ä¹Ÿæ˜¯çœ‹çš„æ‡µé‡Œæ‡µæ‡‚çš„ã€‚<br>ç¬¬ä¸€æ¬¡ç¿»è¯‘ä¹‹æ—…çœŸçš„æ˜¯å¤ªç´¯äº†ï¼Œæˆ‘éœ€è¦å¤§é‡çš„æ—¶é—´å»æ‰¾ä¸€äº›ä¸“ä¸šåè¯ï¼Œè¿›è€Œæ‰ä¼šç†è§£ä½œè€…è¦è¡¨è¾¾çš„æ„æ€ï¼Œä½†æœ‰æ—¶å€™ç¿»è¯‘å‡ºæ¥è¿˜æ˜¯å¾ˆæ™¦æ¶©ã€‚è¿™æ¬¡çœŸçœŸæ­£æ­£çš„æ„Ÿå—åˆ°ç¿»è¯‘è€…çš„ä¸æ˜“ï¼Œæ„Ÿè°¢æˆ‘æ›¾ç»çœ‹è¿‡çš„ç¿»è¯‘æ–‡ç« çš„ä½œè€…ï¼Œä¹Ÿæ·±æ·±äº†è§£åˆ°æˆ‘å¸ç¼–è¾‘çš„å‹åŠ›ã€‚</p>
]]></content>
      
        <categories>
            
            <category> ç¿»è¯‘ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
            <tag> ç¿»è¯‘ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[bootstrap-modal]]></title>
      <url>/2018/08/08/bootstrap-modal/</url>
      <content type="html"><![CDATA[<p>ä¹‹å‰çœ‹<code>bootstrap</code>çš„modalçš„æ—¶å€™ï¼Œå½“modalæ‰“å¼€æ—¶ï¼ŒåŠ¨æ€ä¸º<code>body</code>å¢åŠ <code>padding-right: 15px</code>çš„styleï¼Œåˆšå¼€å§‹æ—¶æœ‰ç‚¹ç–‘æƒ‘ä¸ºä»€ä¹ˆä¸ç›´æ¥ç»™<code>open-modal</code>å¢åŠ <code>padding-right: 15px</code>ï¼Œè¿˜éè¦åŠ¨æ€å¢åŠ å‘¢ï¼Ÿ</p>
<p><img src="http://res.cloudinary.com/dwudaridr/image/upload/v1533706275/blog/2091533706051_.pic_hd.jpg" alt="image"></p>
<p>ç”±äºç°åœ¨çš„é¡¹ç›®ä¸­ä¹Ÿæœ‰modalï¼Œæˆ‘æ˜¯é‡‡å–çš„ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œé€šè¿‡classç»™bodyå¢åŠ æ ·å¼ã€‚ç”±äºæˆ‘çš„chromeçš„æ»šåŠ¨æ¡æ˜¯éœ€è¦å ç©ºé—´çš„ï¼Œemmmï¼Œæ‰“å¼€modalï¼Œæ ·å¼æ˜¯okçš„ï¼Œä½†æ˜¯æµ‹è¯•ç»™æˆ‘è¯´ï¼Œæ‰“å¼€modalçš„æ—¶å€™é¡µé¢æ•´ä½“ä¼šç§»åŠ¨ï¼Œå¾ˆç–‘æƒ‘ï¼Œçœ‹äº†ä»–çš„æµè§ˆå™¨ï¼Œå‘ç°æµè§ˆå™¨çš„æ»šåŠ¨æ¡æ˜¯ä¸å å®½åº¦çš„ï¼Œæ‰€ä»¥å½“æ‰“å¼€modalçš„æ—¶å€™ï¼Œç»™<code>body</code>å¢åŠ <code>padding-right</code>å¯¼è‡´é¡µé¢å³ç§»ã€‚</p>
<p>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘èµ¶ç´§å»çœ‹<code>bootstrap</code>çš„æºç ï¼š</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// modal.js</span>
Modal<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>show <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>_relatedTarget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// .....</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkScrollbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setScrollbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$body<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'modal-open'</span><span class="token punctuation">)</span>
  <span class="token comment" spellcheck="true">// .....</span>
<span class="token punctuation">}</span>

Modal<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>checkScrollbar <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> fullWindowWidth <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fullWindowWidth<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// workaround for missing window.innerWidth in IE8</span>
    <span class="token keyword">var</span> documentElementRect <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    fullWindowWidth <span class="token operator">=</span> documentElementRect<span class="token punctuation">.</span>right <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>documentElementRect<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>bodyIsOverflowing <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>clientWidth <span class="token operator">&lt;</span> fullWindowWidth
  <span class="token keyword">this</span><span class="token punctuation">.</span>scrollbarWidth <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">measureScrollbar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// å¾—åˆ°scoll barçš„å®½åº¦</span>
<span class="token punctuation">}</span>

Modal<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>measureScrollbar <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// thx walsh</span>
  <span class="token keyword">var</span> scrollDiv <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
  scrollDiv<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'modal-scrollbar-measure'</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>scrollDiv<span class="token punctuation">)</span>
  <span class="token keyword">var</span> scrollbarWidth <span class="token operator">=</span> scrollDiv<span class="token punctuation">.</span>offsetWidth <span class="token operator">-</span> scrollDiv<span class="token punctuation">.</span>clientWidth
  <span class="token keyword">this</span><span class="token punctuation">.</span>$body<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>scrollDiv<span class="token punctuation">)</span>
  <span class="token keyword">return</span> scrollbarWidth
<span class="token punctuation">}</span>

Modal<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>setScrollbar <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// ä¸ºbodyåŠ¨æ€å¢åŠ padding-right</span>
  <span class="token keyword">var</span> bodyPad <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>$body<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'padding-right'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>originalBodyPad <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>paddingRight <span class="token operator">||</span> <span class="token string">''</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bodyIsOverflowing<span class="token punctuation">)</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$body<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'padding-right'</span><span class="token punctuation">,</span> bodyPad <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>scrollbarWidth<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// æ³¨ï¼š å¦‚æœæ²¡æœ‰å¯¹bodyçš„å®½åº¦åšè®¾ç½®</span>
<span class="token comment" spellcheck="true">// fullWindowWidth - document.body.clientWidthä¹Ÿå¯ä»¥å¾—åˆ°scrollbarçš„å®½åº¦</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ¯æ¬¡æ‰“å¼€modalçš„æ—¶å€™ï¼ŒåŠ¨æ€çš„è®¡ç®—ä¸€ä¸‹scrollbarçš„å®½åº¦ï¼Œå®½åº¦å³ä¸º<code>padding-right</code>çš„å€¼ã€‚å…³é—­modalçš„æ—¶å€™æ¸…ç©ºstyleçš„å€¼å³å¯ã€‚</p>
<h4 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h4><ol>
<li><p>å…ˆå»å¢åŠ bodyçš„styleï¼Œå†å¢åŠ classï¼Œåœ¨å†™çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä¸€ç›´å¾—åˆ°scrollbarçš„widthä¸º0ï¼Œæˆ‘è¿˜æƒ³ç€æ˜¯ä¸æ˜¯å¼‚æ­¥çš„è®¡ç®—ï¼Œæ£€æŸ¥äº†ä»£ç ä»¥åï¼Œå‘ç°æ˜¯å…ˆåŠ classå†è®¡ç®—æ‰å¯¼è‡´æ¯æ¬¡è®¡ç®—ä¸º0ã€‚</p>
</li>
<li><p>æˆ‘æµ‹è¯•äº†Chromeã€firefoxã€safariä¸‰ä¸ªæµè§ˆå™¨ï¼Œscrollbarçš„widthéƒ½æ˜¯15ï¼Œçœ‹çš„èµ„æ–™è¯´scrollbarçš„widthä¸€èˆ¬åœ¨14-18ä¹‹é—´â€¦</p>
</li>
<li><p>æˆ‘æ£€ç´¢äº†ä¸€ä¸‹ï¼šå¦‚ä½•éšè—chromeçš„æ»šåŠ¨æ¡ï¼Œå¾—åˆ°çš„ç­”æ¡ˆæ˜¯ï¼š <code>chrome://flags/#overlay-scrollbars</code>ï¼Œæˆ‘å»æ‰¾è¿™ä¸ªè®¾ç½®çš„æ—¶å€™ï¼Œå‘ç°å·²ç»æ‰¾ä¸åˆ°è¿™ä¸ªè®¾ç½®äº†â€¦..</p>
</li>
</ol>
]]></content>
      
        <categories>
            
            <category> å‰ç«¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å‰ç«¯ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[data-flow]]></title>
      <url>/2018/08/05/data-flow/</url>
      <content type="html"><![CDATA[<p>å‰è¯ï¼Œæˆ‘æœ€å¼€å§‹æ¥è§¦çš„æ˜¯Angularï¼Œå†æ˜¯Vueï¼Œå·¥ä½œä¹‹åå°±å¼€å§‹ç”¨Reactï¼Œä¹‹å‰ä¹ æƒ¯äº†åŒå‘æ•°æ®ç»‘å®šï¼Œåˆšå¼€å§‹å†™å¤ªé¡ºæ‰‹ï¼Œä½†å¿ƒä¸­æƒ³ç€æ¡†æ¶æ˜¯ç›¸é€šçš„ï¼Œäºæ˜¯æŠ±ç€è¿™ä¸ªæƒ³æ³•ï¼Œç»§ç»­ä¸‹å»ï¼Œé—æ†¾çš„æ˜¯ï¼Œæˆ‘æŠŠä¸ç›¸é€šçš„åœ°æ–¹å½“æˆäº†ç›¸é€šâ€¦.æœ€æ˜æ˜¾çš„ä¾‹å­åº”è¯¥å°±æ˜¯çˆ¶å­ç»„ä»¶å› ä¸ºæ•°æ®è€Œäº§ç”Ÿçš„é€šä¿¡</p>
<h4 id="åŒå‘æ•°æ®æµ"><a href="#åŒå‘æ•°æ®æµ" class="headerlink" title="åŒå‘æ•°æ®æµ"></a>åŒå‘æ•°æ®æµ</h4><p>å¯¹äºangularæ¥è¯´ï¼Œå¯¹äºåŒä¸€ä»½æ•°æ®ï¼Œæˆ‘æ—¢åœ¨çˆ¶ç»„ä»¶ä¸­å¯ä»¥è¿›è¡Œæ›´æ”¹ï¼Œä¹Ÿå¯ä»¥åœ¨å­ç»„ä»¶ä¸­è¿›è¡Œæ›´æ”¹ï¼Œé€šä¿¡åŠŸèƒ½å…¶å®å¾ˆå¼±åŒ–ã€‚</p>
<h4 id="å•å‘æ•°æ®æµ"><a href="#å•å‘æ•°æ®æµ" class="headerlink" title="å•å‘æ•°æ®æµ"></a>å•å‘æ•°æ®æµ</h4><p>å¯¹äºçˆ¶ç»„ä»¶ä¸­çš„æ•°æ®ï¼Œå­ç»„ä»¶å¦‚æœæœ‰ä¿®æ”¹çš„éœ€æ±‚ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿåœ¨æŸ¥åˆ°çš„èµ„æ–™ä¸­ï¼Œå¾ˆå¤šè§£å†³æ–¹æ¡ˆéƒ½æåˆ°äº†è°ƒç”¨è¿™ä¸ªè¯ï¼Œçˆ¶ç»„ä»¶è°ƒç”¨å­ç»„ä»¶çš„æ–¹æ³•ï¼Œå­ç»„ä»¶è°ƒç”¨çˆ¶ç»„ä»¶çš„æ–¹æ³•ã€‚æŠ±ç€è¿™æ ·çš„æƒ³æ³•æˆ‘ä¼šå†™å‡ºä»¥ä¸‹ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">const</span> Parent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>MyChild <span class="token punctuation">{</span><span class="token operator">...</span>someFunc<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyChild</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token keyword">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// $.ajax</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">someFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token comment" spellcheck="true">//</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å†™äº†å¾ˆä¹…çš„ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆâ€¦.<br>å³æ˜¯å•å‘æ•°æ®æµï¼Œå­ç»„ä»¶è°ƒç”¨äº†çˆ¶ç»„ä»¶çš„æ–¹æ³•ï¼Œæˆ‘åœ¨è°ƒè¯•çš„æ—¶å€™ï¼Œå‡å¦‚çœ‹åˆ°æ•°æ®çš„å˜åŒ–ï¼Œæˆ‘è¿˜éœ€è¦å»å­ç»„ä»¶é‡Œé¢æŸ¥æ‰¾ï¼Œè€Œä¸”æœ€å…¸å‹çš„æ˜¯å¯¹äºä¸€ä¸ªæ•°æ®çš„å¤„ç†å‘ç”Ÿåœ¨äº†ä¸¤ä¸ªç»„ä»¶ä¹‹é—´ã€‚è¿™è¿èƒŒäº†å•å‘æ•°æ®æµçš„æ€æƒ³ã€‚<br>äºæ˜¯ï¼Œç¬¬äºŒä¸ªè§£å†³æ–¹æ¡ˆæ¥äº†ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// babbababa</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> MyChild <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å­ç»„ä»¶å˜æˆä¸€ä¸ªçº¯ç»„ä»¶ï¼Œå®ƒå¦‚æœæƒ³è¦å¯¹æ•°æ®åšä»€ä¹ˆï¼Œåªæ˜¯ç®€å•çš„å‘Šè¯‰çˆ¶ç»„ä»¶ï¼Œå®ƒæœ¬èº«æ²¡æœ‰ä»»ä½•çš„æ“ä½œé€»è¾‘ã€‚æ‰€æœ‰çš„æ•°æ®æ“ä½œéƒ½å‘ç”Ÿåœ¨æ‹¥æœ‰æ•°æ®çš„ç»„ä»¶ä¸­ã€‚</p>
<p>ç»“è¯­ï¼šç‰¹æ€§ä¸ç›¸é€šï¼Œå’Œç‰¹æ€§æœ‰å…³çš„æ“ä½œä¹Ÿä¸ä¼šç›¸é€šçš„ã€‚</p>
]]></content>
      
        <categories>
            
            <category> react </category>
            
            <category> angularjs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
            <tag> angularjs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[code-optimization]]></title>
      <url>/2018/08/03/code-optimization/</url>
      <content type="html"><![CDATA[<p>ä»£ç éœ€è¦åŠæ—¶ä¼˜åŒ–ï¼Œä½†æ˜¯ä»€ä¹ˆçš„ä¼˜åŒ–æ˜¯æ°å½“çš„å‘¢ï¼Ÿä»€ä¹ˆä¼˜åŒ–æ˜¯ä¸æ°å½“çš„å‘¢ï¼Ÿ</p>
<h4 id="è¿™ä¸ªæ—¶å€™éœ€è¦ä¼˜åŒ–äº†"><a href="#è¿™ä¸ªæ—¶å€™éœ€è¦ä¼˜åŒ–äº†" class="headerlink" title="è¿™ä¸ªæ—¶å€™éœ€è¦ä¼˜åŒ–äº†"></a>è¿™ä¸ªæ—¶å€™éœ€è¦ä¼˜åŒ–äº†</h4><p>æˆ‘æœ‰ä¸¤ä¸ªcontainerï¼š ä¸€ä¸ªå…·æœ‰ç­›é€‰åŠŸèƒ½ã€ä¸€ä¸ªä¸å…·æœ‰ç­›é€‰åŠŸèƒ½ï¼Œä½†æ˜¯ä»–ä»¬æœ‰å…±åŒçš„å±æ€§ï¼šlistä¸ºç©ºçš„æ—¶å€™ï¼Œéƒ½æ˜¾ç¤ºæ²¡æœ‰æ•°æ®ï¼›å¹¶ä¸”éƒ½å…·æœ‰ç€‘å¸ƒæµçš„åŠŸèƒ½ã€‚ä½†é’ˆå¯¹ç›®å‰åªæœ‰è¿™ä¸¤ä¸ªcontainerçš„æ—¶å€™ï¼Œæˆ‘å¯ä»¥ä¸è¿›è¡Œç›¸åŒåŠŸèƒ½çš„æå–ã€‚ä½†æ˜¯ï¼Œç¬¬ä¸‰ä¸ªcontainerå‡ºæ¥äº†ï¼Œå®ƒä¸ä¹‹å‰çš„ä¸¤ä¸ªcontaineréƒ½ä¸ç›¸åŒï¼ˆæ•°æ®è·å–çš„æ–¹å¼ä¸å‰ä¸¤è€…ä¸åŒï¼‰ï¼Œä½†æ˜¯å…·æœ‰ç›¸åŒçš„ç‰¹æ€§ã€‚<br>åœ¨æˆ‘å‡†å¤‡å†™çš„æ—¶å€™ï¼Œæˆ‘å‘ç°å†è®©æˆ‘å†™ä¸€éç€‘å¸ƒæµçš„åŠŸèƒ½å¾ˆåˆ«æ‰­ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±åº”è¯¥è€ƒè™‘ä¼˜åŒ–ä»£ç äº†ã€‚<br>äºæ˜¯ï¼Œæˆ‘æ¯”è¾ƒäº†è¿™ä¸‰ä¸ªcontainerçš„ç›¸åŒæ€§ä¹‹åï¼Œå¼€å§‹è¿›è¡Œåˆ†å±‚å¤„ç†ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// fetch æ•°æ®å±‚</span>
<span class="token comment" spellcheck="true">// è§£ææ•°æ®å±‚</span>
<span class="token comment" spellcheck="true">// åˆ¤æ–­æ˜¯å¦ä¸å†…å®¹ä»¥åŠå¢åŠ ç€‘å¸ƒæµåŠŸèƒ½å±‚</span>
<span class="token comment" spellcheck="true">// å†…å®¹æ˜¾ç¤ºå±‚</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åˆ†å±‚å¤„ç†åï¼Œä»£ç çš„é‡å¤æ€§å‡å°‘ï¼Œä»£ç å±‚çº§å˜å¾—æ›´æ¸…æ¥šï¼Œæ¶æ„ä¹Ÿå˜å¾—ç¨³å®šã€‚<br>å› ä¸ºä½¿ç”¨Reactå»è¿›è¡Œå¼€å‘çš„ï¼Œè¿™æ ·çš„åˆ’åˆ†å¸¦æ¥çš„æœ€æ˜¾è‘—çš„ç‰¹ç‚¹å°±æ˜¯ç»„ä»¶åŒ–ï¼Œå³ä½¿ä»¥åå‡ºç°æ–°çš„æ•°æ®æºï¼Œè¿™æ ·çš„åˆ†å±‚ä¹Ÿä¼šå¾ˆçµæ´»ã€‚<br>ä»¥ä¸Šæ˜¯æˆ‘åšçš„ä¸€ä¸ªæˆ‘è§‰å¾—å¾ˆæ£’çš„ä¼˜åŒ–ã€‚æˆ‘æ”¾ä¸‹æ‰‹å¤´çš„æ´»ï¼Œå†™å†™ç”»ç”»æ€è€ƒäº†ä¸€ä¼šï¼Œç»è¿‡åˆ†æå¾—å‡ºè¿™æ˜¯æœ€å¥½çš„ä¸€ä¸ªå¤„ç†æ–¹å¼ï¼Œç¡®å®šå¥½æ–¹æ¡ˆï¼Œæ’¸èµ·è¢–å­ï¼Œå¼€å§‹å¹²æ´»ï¼</p>
<h4 id="ä»¥ä¸‹ä¼˜åŒ–ä¸å¯å–"><a href="#ä»¥ä¸‹ä¼˜åŒ–ä¸å¯å–" class="headerlink" title="ä»¥ä¸‹ä¼˜åŒ–ä¸å¯å–"></a>ä»¥ä¸‹ä¼˜åŒ–ä¸å¯å–</h4><ol>
<li>å†™äº†å¥½å¤šç»„ä»¶ï¼Œéƒ½éœ€è¦ç”¨åˆ°reduxé‡Œé¢çš„æ•°æ®ï¼Œå†™çš„mapStateé‚£å«ä¸€ä¸ªé‡å¤å•Šï¼Œæˆ‘æƒ³ç€æŠŠè¿™ä¸€å—ç›¸åŒçš„ä»£ç ææˆä¸€ä¸ªå…¬ç”¨å‡½æ•°ã€‚æƒ³äº†å°±åšäº†ï¼Œç»“æœå½“ç„¶æ˜¯å¾—åˆ°äº†åå¯¹ï¼Œå¹¶ä¹–ä¹–çš„æ”¹äº†è¿‡å»ã€‚å¯¹æ–¹ç»™æˆ‘çš„ç†ç”±æ˜¯ï¼šmapStateæœ¬æ¥å°±æ˜¯æ ‡ç¤ºä»Reduxé‡Œé¢å»äº†å“ªäº›æ•°æ®ï¼Œå¦‚ä½•å‘½åã€‚å¦‚æœå†™åˆ°åˆ«çš„åœ°æ–¹ï¼Œé˜…è¯»è€…ä¸èƒ½ä¸€çœ¼çœ‹åˆ°ä½ æƒ³è¦çš„æ•°æ®ç±»å‹ï¼Œåè€Œè¿˜éœ€è¦å†å»æŸ¥åˆ«çš„æ–‡ä»¶ï¼Œè¿™ç§åšæ³•æ˜¯ä¸æ°å½“çš„ã€‚</li>
</ol>
<p>2.æŠ€æœ¯æ ˆç°åœ¨ç”¨çš„graphql + apolloï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†ç»„ä»¶éƒ½æ˜¯ä»¥è¿™æ ·çš„æ ¼å¼å¼€å¤´çš„ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">@<span class="token function">graphql</span><span class="token punctuation">(</span>QUERY<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    variables<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// params</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
@<span class="token function">WaterFallWrapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// é«˜é˜¶ç»„ä»¶</span>
<span class="token keyword">class</span> <span class="token class-name">HomeNewest</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// bababa</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æˆ‘çœ‹äº†å¾ˆå¤šç»„ä»¶éƒ½æ˜¯è¿™æ ·å¼€å¤´çš„ï¼Œå¿ƒç†çš„ä¼˜åŒ–åˆ†å­å¼€å§‹ä½œç¥Ÿï¼Œæˆ‘æƒ³å†æŠŠgraphqlå¼„æˆä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå‡†å¤‡è¿™æ ·åšçš„æ—¶å€™ï¼Œæˆ‘è®¤çœŸçš„æ€è€ƒä¸€ä¸‹ğŸ¤”ï¼Œè¿™ä¸ªåŒ…æš´éœ²çš„æ–¹æ³•ä¸ºä»€ä¹ˆä¸æ¥ä¸€ä¸ªæœ€ç²¾ç®€çš„æ–¹æ³•å‘¢ï¼Œè¿™ä¹ˆæƒ³äº†æƒ³ï¼Œå°±æ²¡æœ‰è¿›è¡Œè¿™ä¸ªä¼˜åŒ–å·¥ä½œâ€¦è¿™ä¸ªå°±å±äºè¿‡åº¦ä¼˜åŒ–äº†â€¦</p>
<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>ä¼˜åŒ–ä»£ç çš„è¯ï¼Œæœ€å¥½ä»æ¶æ„çš„æ–¹é¢å»å…¥æ‰‹å»è¿›è¡Œï¼Œè€Œä¸æ˜¯ä»…ä»…ä»ä»£ç è§’åº¦å»æ€è€ƒ</p>
<p>PS: å¼•ç”¨åˆ«äººçš„è¯ï¼šè¿‡åº¦ä¼˜åŒ–ç›¸å½“æƒ³ç€æ­»åå¦‚ä½•åˆ†é—äº§;-)</p>
]]></content>
      
        <categories>
            
            <category> ä¼˜åŒ– </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ä¼˜åŒ– </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[prime-number]]></title>
      <url>/2018/07/25/prime-number/</url>
      <content type="html"><![CDATA[<p>ç»™å®šä¸€ä¸ªæ•°å­—n, æ‰“å°å‡ºnä»¥å†…çš„æ‰€æœ‰ç´ æ•°ã€‚ç´ æ•°çš„å®šä¹‰éå¸¸ç®€å•ï¼Œå¯¹äºä¸€ä¸ªæ•´æ•°ï¼Œé™¤1å’Œå®ƒæœ¬èº«å¤–ï¼Œå†æ²¡æœ‰å…¶ä»–å› æ•°äº†ï¼Œè¿™ä¸ªæ•°å°±æ˜¯ç´ æ•°ã€‚å°±æ˜¯è¯´ï¼Œåªé™¤ä»¥1æˆ–è€…æœ¬èº«æ—¶ä½™æ•°ä¸º0ï¼Œé™¤ä»¥å…¶ä»–æ•°æ‰€å¾—çš„ä½™æ•°å‡ä¸ä¸º0ã€‚</p>
<h4 id="æœ€ç®€å•çš„æ–¹æ³•"><a href="#æœ€ç®€å•çš„æ–¹æ³•" class="headerlink" title="æœ€ç®€å•çš„æ–¹æ³•"></a>æœ€ç®€å•çš„æ–¹æ³•</h4><pre class="line-numbers language-haskell"><code class="language-haskell"><span class="token comment" spellcheck="true">-- è¿”å›ä¸€ä¸ªæ•´æ•°çš„æ‰€æœ‰å› æ•°</span>
<span class="token hvariable">factors</span> <span class="token operator">::</span> <span class="token constant">Integral</span> <span class="token hvariable">a</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>
<span class="token hvariable">factorsn</span><span class="token operator">=</span><span class="token punctuation">[</span> <span class="token hvariable">x</span> <span class="token operator">|</span> <span class="token hvariable">x</span> <span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">..</span><span class="token hvariable">n</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">mod</span> <span class="token hvariable">n</span> <span class="token hvariable">x</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">]</span>

<span class="token operator">></span> <span class="token hvariable">factors</span> <span class="token number">24</span> <span class="token comment" spellcheck="true">-- out: [1,2,3,4,6,8,12,24]</span>
<span class="token comment" spellcheck="true">-- æ£€éªŒä¸€ä¸ªæ•°æ˜¯å¦ä¸ºç´ æ•°çš„å‡½æ•°ï¼Œåªéœ€æ£€éªŒå®ƒçš„å› æ•°æ˜¯å¦åªæœ‰1å’Œä»–è‡ªå·±</span>
<span class="token hvariable">isPrime</span> <span class="token operator">::</span> <span class="token constant">Integral</span> <span class="token hvariable">a</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token constant">Bool</span>
<span class="token hvariable">isPrime</span> <span class="token hvariable">n</span> <span class="token operator">=</span> <span class="token hvariable">factors</span> <span class="token hvariable">n</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token hvariable">n</span><span class="token punctuation">]</span>

<span class="token comment" spellcheck="true">-- ç”Ÿæˆç´ æ•°åˆ—è¡¨</span>
<span class="token hvariable">primes</span> <span class="token operator">::</span> <span class="token constant">Integral</span> <span class="token hvariable">a</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token punctuation">[</span><span class="token hvariable">a</span><span class="token punctuation">]</span>
<span class="token hvariable">primes</span> <span class="token hvariable">n</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token hvariable">x</span> <span class="token operator">|</span> <span class="token hvariable">x</span><span class="token operator">&lt;-</span> <span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">..</span> <span class="token hvariable">n</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token hvariable">isPrime</span> <span class="token hvariable">x</span><span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢çš„æ–¹æ³•æ•ˆç‡å¾ˆä½ï¼Œæ¯æ¬¡æ±‚å› æ•°çš„æ—¶å€™ï¼Œè¦ä»1ï½nå…¨éƒ½éå†ä¸€é</p>
<p>æ€è€ƒä¸€ä¸‹ï¼Œå¯ä»¥ç®€åŒ–ä¸€äº›è¿‡ç¨‹</p>
<ol>
<li>é™¤å»2ä»¥å¤–ï¼Œæ‰€æœ‰çš„ç´ æ•°éƒ½å¿…é¡»ä¸ºå¥‡æ ‘</li>
<li>ç´ æ•°å¿…é¡»æ˜¯å¤§äºç­‰äº2çš„æ•´æ•°</li>
<li>å¯¹äºä¸€ä¸ªæ•´æ•°Nï¼Œè‹¥å®ƒæœ‰ä¸€ä¸ªå› æ•°ä¸ºp1ï¼Œå¿…æœ‰å¦å¤–ä¸€ä¸ªå› å­p2ï¼Œä½¿å¾—N=p1*p1ï¼Œå¹¶ å¹¶ä¸”p1ä¸p2 ä¸€ åˆ†å¸ƒåœ¨Nçš„ä¸¤ç«¯æˆ–p1 =p2 = æ ¹å·ä¸‹N;</li>
<li>å› ä¸ºæ¯”2å¤§çš„ç´ æ•°å¿…é¡»æ˜¯å¥‡æ•°ï¼Œæ‰€ä»¥å®ƒä¸€ ä¹Ÿä¸ä¼šæœ‰å¶å› æ•°.</li>
</ol>
<p>æ‰€ä»¥ï¼Œå¯¹2è¿›è¡Œå•ç‹¬è®¨è®ºï¼Œç„¶åå¯¹äºå…¶ä»–çš„æ•°åªéœ€è¦ç”¨å®ƒå»é™¤ä»¥æ‰€æœ‰ 3 âˆ¼ æ ¹å·ä¸‹nçš„æ‰€æœ‰å¥‡ æ•°ï¼Œè‹¥ä½™æ•°å…¨ä¸ä¸º0ï¼Œåˆ™è¿™ä¸ªæ•°ä¸ºç´ æ•°ã€‚<br>è¿™æ ·ï¼Œå¯¹äº<code>isPrime</code>å¯ä»¥è¿™æ ·å®šä¹‰</p>
<pre class="line-numbers language-haskell"><code class="language-haskell"><span class="token hvariable">isPrime</span>' <span class="token operator">::</span> <span class="token constant">Integral</span> <span class="token hvariable">a</span> <span class="token operator">=></span> <span class="token hvariable">a</span> <span class="token operator">-></span> <span class="token constant">Bool</span>
<span class="token hvariable">isPrime</span>' <span class="token number">2</span> <span class="token operator">=</span> <span class="token constant">True</span>
<span class="token hvariable">isPrime</span>' <span class="token hvariable">p</span> <span class="token operator">=</span> <span class="token hvariable">p</span> <span class="token operator">></span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token builtin">all</span> <span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">n</span> <span class="token operator">-></span> <span class="token hvariable">p</span> `<span class="token builtin">mod</span>` <span class="token hvariable">n</span><span class="token operator">/=</span><span class="token number">0</span> <span class="token punctuation">)</span> <span class="token operator">$</span> <span class="token builtin">takeWhile</span><span class="token punctuation">(</span><span class="token operator">\</span><span class="token hvariable">n</span> <span class="token operator">-></span> <span class="token hvariable">n</span><span class="token operator">*</span><span class="token hvariable">n</span> <span class="token operator">&lt;=</span> <span class="token hvariable">p</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token operator">..</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">-- æ³¨ï¼š takeWhile (\n -> n*n &lt;= p) [3,5..]) æ±‚å‡ºäº† 3 âˆ¼ âˆšN çš„æ‰€æœ‰å¥‡æ•°æ•°ç»„æˆçš„åˆ—è¡¨</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€ä¸ªæ–¹æ³•å«åš<code>åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•</code>ã€‚ç»™ ä»2å¼€å§‹è¿ç»­çš„ä¸€åˆ—æ•°ï¼Œ2ä¸ºç´ æ•°ã€‚é‚£ ä¹ˆï¼Œåœ¨2ä¹‹åæœ‰2 ä¸ºå› æ•°çš„æ•°å‡ä¸ä¸ºç´ æ•°ï¼Œå¯ä»¥è¢«ç­› ã€‚ä¸‹ä¸€ä¸ªæ•°ä¸º3ï¼Œ3ä¹‹åçš„æ‰€æœ‰ä¸º3çš„å€æ•°çš„æ•°å°±å…¨è¢«ç­› äº†ï¼Œå› ä¸º4ä¸º2çš„å€æ•°ï¼Œè¿™åœ¨ç¬¬ä¸€è½®ä¸­å·²ç»è¢«ç­›æ‰äº†ï¼Œä¸‹ä¸€ä¸ªæ˜¯5ï¼Œä¾æ¬¡ç±»æ¨ï¼Œå‡è®¾åˆ—è¡¨æ˜¯æ— ç©·çš„ï¼Œé‚£ä¹ˆæŒ‰ç€è¿™ä¸ªæ–¹æ³•å¯ä»¥éå†æ‰€æœ‰çš„ç´ æ•°ã€‚</p>
<p>åœ¨çœ‹ä¹¦æ—¶ï¼Œé˜…è¯»åˆ°è¿™ä¸€å—ï¼Œå°±æ„Ÿè§‰çœŸæ£’ğŸ‘ã€‚å¡«é¸­å¼å­¦ä¹ æ²¡æœ‰è¿™æ ·çš„æ€è€ƒè¿‡ç¨‹ï¼Œå…¥é—¨å¼çš„ç¼–ç¨‹æ˜¯ä»¥è§£å†³é—®é¢˜ä¸ºä¸»ï¼Œæœªæ›¾å†è¿›è¡Œæ€è€ƒã€‚æ‰€ä»¥ï¼Œå…¥é—¨åŠ æ·±å…¥ï¼Œä¼šå‘ç°åŸæ¥è¿™ä¸ªé—®é¢˜åŸæ¥æœ‰å¦‚æ­¤ä¼˜é›…çš„æ–¹æ³•ã€‚</p>
<p>PS: ä»¥ä¸Šå‡ºè‡ªhaskellå‡½æ•°å¼ç¼–ç¨‹å…¥é—¨</p>
]]></content>
      
        <categories>
            
            <category> ç®—æ³• </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[summary-work]]></title>
      <url>/2018/07/14/summary-work/</url>
      <content type="html"><![CDATA[<h4 id="react-selector"><a href="#react-selector" class="headerlink" title="react selector"></a>react selector</h4><p>æœ€è¿‘æˆ‘çœ‹åˆ°å¾ˆå¤šç»„ä»¶éœ€è¦çš„reduxä¸­çš„å€¼æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯ï¼Œæˆ‘éœ€è¦ä¸ºæ¯ä¸ªç»„ä»¶å†™ä¸€ä¸ªmapStateï¼Œæˆ‘æœ€ç›´è§‚çš„æ„Ÿè§‰æ˜¯ä»£ç çš„é‡å¤æ€§ã€‚äºæ˜¯æˆ‘çœ‹äº†æ–‡æ¡£ï¼Œåœ¨reduxä¸­çš„æ‰¾åˆ°äº†ä¸€ä¸ªselectorçš„æ¦‚å¿µï¼Œçœ‹äº†çœ‹æ˜¯å¯ä»¥å‡å°‘æˆ‘çš„ä»£ç é‡å¤æ€§çš„ã€‚æˆ‘å°è¯•å†™äº†ä¸€ä¸ªï¼Œå°±å°†è¿™ä¸ªé‡æ„å·¥ä½œäº¤ç»™åŒäº‹ã€‚<br>åŒäº‹ç»™æˆ‘çš„è¯´çš„æ„æ€æ˜¯ï¼šselectorå¯ä»¥ç†è§£æˆvueé‡Œé¢çš„computedã€‚æ˜¯é€šè¿‡è®¡ç®—å¾—åˆ°ä¸€ä¸ªæ–°çš„å€¼ã€‚<br>ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> getCurrentUser <span class="token operator">=</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  currentUser<span class="token punctuation">:</span> state<span class="token punctuation">.</span>info<span class="token punctuation">.</span>currentUser
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>è™½ç„¶ä¸Šæ®µä»£ç éœ€è¦åœ¨å¤šä¸ªç»„ä»¶ä¸­å‡ºç°ã€‚å¦‚æœæŠ½æˆä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆé˜…è¯»ä»£ç çš„äººéœ€è¦å†å»æ‰¾åˆ°è¿™ä¸ªæ–¹æ³•æ‰çŸ¥é“æˆ‘å®é™…éœ€è¦çš„æ•°æ®æ ¼å¼ï¼Œè™½ç„¶å‡½æ•°çš„åå­—å·²ç»å¾ˆæ˜ç¡®ï¼Œä½†æ˜¯ä½ ä¸æ¸…æ¥šå®é™…ä¸Šåœ¨ç»„ä»¶ä¸­ä½¿ç”¨çš„å˜é‡åã€‚</p>
<p>ä¾‹å¦‚ï¼š</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> searchSelector <span class="token operator">=</span> <span class="token punctuation">{</span>
  hasSearchFunction<span class="token punctuation">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> state<span class="token punctuation">.</span>info<span class="token punctuation">.</span>currentUser<span class="token punctuation">.</span>isBig <span class="token operator">&amp;&amp;</span> state<span class="token punctuation">.</span>info<span class="token punctuation">.</span>currentUser<span class="token punctuation">.</span>isSmall
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šæ®µä»£ç ä½“ç°äº†selectorçš„ç‰¹ç‚¹ï¼Œé€šè¿‡è®¡ç®—å¾—åˆ°ä¸€ä¸ªæ–°çš„å€¼ã€‚è¿™æ˜¯ä¸€ä¸ªæå€¡çš„åšæ³•ã€‚</p>
<h4 id="redux-store"><a href="#redux-store" class="headerlink" title="redux store"></a>redux store</h4><p>è™½ç„¶è¿™ä¸ªå‘æˆ‘æ²¡é‡åˆ°è¿‡ï¼Œä½†æ˜¯è¸©å‘çš„äººå‘Šè¯‰æˆ‘ï¼Œä¸è¦ä»€ä¹ˆä¸œè¥¿éƒ½æ”¾åœ¨storeé‡Œé¢ï¼Œåœ¨storeé‡Œé¢å­˜å€¼ï¼Œæ˜¯è¦è¿›è¡Œä¸€æ¬¡stringfyï¼Œæœ€ç›´æ¥çš„å°±æ˜¯ä¸è¦æŠŠä¸èƒ½è¿›è¡Œstringfyçš„æ•°æ®å¾€storeé‡Œé¢æ”¾ã€‚</p>
<h4 id="ç»„ä»¶å¤§å°"><a href="#ç»„ä»¶å¤§å°" class="headerlink" title="ç»„ä»¶å¤§å°"></a>ç»„ä»¶å¤§å°</h4><p>æœ€è¿‘åœ¨å¼€å‘æ–°åŠŸèƒ½çš„æ—¶å€™ï¼Œä¼šçœ‹åˆ°ä¹‹å‰å†™çš„ä»£ç ã€‚æˆ‘èƒ½ä½“ä¼šå¾—åˆ°ä¹‹å‰ç»„é•¿çš„æ§½ç‚¹ã€‚ç°åœ¨æˆ‘çœ‹åˆ°ç»„ä»¶ï¼Œä¸å…‰å¤§è€Œä¸”é‡Œé¢å¾ˆå¤šifï¼Œçœ‹ç€å°±è„‘è¢‹ç–¼ã€‚Reactæå€¡ç»„ä»¶å¯å¤ç”¨æ€§ã€‚ç»„ä»¶å¦‚æœåšåˆ°æœ€å¤§çš„å¤ç”¨æ€§ï¼Œæœ€ç›´æ¥çš„æ–¹æ³•å°±æ˜¯ç»„ä»¶åŠŸèƒ½å•ä¸€æ€§ï¼Œè¿™æ ·ç»„ä»¶å¯èƒ½å˜å¾—éå¸¸å°ï¼Œæœ€å¥½è¿˜æ˜¯æŠŠæ¡ä¸€ä¸‹åº¦ã€‚<br>ä»¥ä¸‹ä»£ç ä¼šç»™ä½ ä»€ä¹ˆå¯ç¤ºï¼Ÿ</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token comment" spellcheck="true">// ArticleItem.jsx</span>
<span class="token keyword">const</span> ArticleItem <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"article-item"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"article-item__cover"</span><span class="token operator">></span>
        <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* ....content */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"article-item__conent"</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"article-item__content--top"</span><span class="token operator">></span>
          <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* ....content */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"article-item__content--middle"</span><span class="token operator">></span>
          <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* ....content */</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* ....others content */</span><span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
      <span class="token punctuation">{</span><span class="token comment" spellcheck="true">/* ....content */</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ArticleItem.jsx</span>
<span class="token keyword">const</span> ArticleItem <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">"article-item"</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ArticleItemCover <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span>ArticleItemContent<span class="token operator">></span>
        <span class="token operator">&lt;</span>ArticleItemContentTop <span class="token operator">/</span><span class="token operator">></span>
        <span class="token operator">&lt;</span>ArticleItemContentMiddle <span class="token operator">/</span><span class="token operator">></span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>ArticleItemContent<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä»¥ä¸Šä»£ç ä¼šç»™ä½ å¸¦æ¥ä¸åŒçš„ç›´è§‚æ„Ÿå—ã€‚é˜…è¯»ç¬¬ä¸€ç‰ˆä»£ç ï¼Œéœ€è¦è¶³å¤Ÿçš„è€å¿ƒæ¥é˜…è¯»æ‰èƒ½çŸ¥é“articleä¸­çš„å†…å®¹ã€‚çœ‹ç¬¬äºŒç‰ˆçš„ä»£ç ï¼Œä½ å¯ä»¥å¾ˆæ¸…æ™°çš„çœ‹åˆ°ï¼Œarticleä¸­åˆ°åº•æœ‰ç€ä»€ä¹ˆå†…å®¹ã€‚<br>å—¯ï¼Œå¯ä»¥ç†è§£ä¸ºä»€ä¹ˆåˆ«äººä¸æƒ³çœ‹æˆ‘çš„ä»£ç äº†ï¼Œåˆè‡­åˆé•¿ï¼ç°åœ¨çœ‹æ¥é‡æ„åˆ«äººçš„ä»£ç ä¹Ÿæ˜¯ä»¶ç—›è‹¦çš„äº‹æƒ…ã€‚</p>
<h4 id="é—²è°ˆ"><a href="#é—²è°ˆ" class="headerlink" title="é—²è°ˆ"></a>é—²è°ˆ</h4><p>ä¹‹å‰çœ‹åˆ°å¾ˆå¤šçš„å¤§ç¥çš„ç»éªŒè°ˆï¼Œä½†æ˜¯æœ€çœŸå®çš„æ„Ÿå—å°±æ˜¯ï¼šæ²¡ç»å†è¿‡çœŸçš„å¾ˆéš¾å»ç†è§£å…¶ä¸­çš„æ„æ€ã€‚åªæœ‰çœŸæ­£ä¸Šæ‰‹åï¼Œæ‰èƒ½ç†è§£å…¶ä¸­çš„å¥¥å¦™ã€‚<br>hhhhï¼Œæ˜¯ä¸æ˜¯ç‰¹åˆ«åƒé«˜ä¸­çš„è€å¸ˆç—›å¿ƒç–¾é¦–çš„å‘Šè¯‰å­¦ç”Ÿè¦å¥½å¥½å­¦ä¹ ï¼Œå½“æ—¶çœŸçš„å†…å¿ƒæ¯«æ— æ³¢åŠ¨ï¼Œä½†æ˜¯ç°åœ¨åœ¨æƒ³ï¼Œä¼šå‘ç°å·²ç»æ²¡æœ‰è¶³å¤Ÿçš„ç²¾åŠ›å¯¹å¾…å­¦ä¹ è¿™ä¸ªäº‹æƒ…äº†ã€‚<br>æ´»åˆ°è€å­¦åˆ°è€ï¼ŒåŠ æ²¹ï¼Œä½ æ˜¯æœ€æ£’çš„ï¼</p>
]]></content>
      
        <categories>
            
            <category> æ€»ç»“ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[history-push-state]]></title>
      <url>/2018/07/13/history-push-state/</url>
      <content type="html"><![CDATA[<p>å¦‚ä½•æƒ³è¦ç‚¹å‡»æµè§ˆå™¨è‡ªå¸¦çš„å‰è¿› åé€€æŒ‰é’® ä¸åˆ·æ–°é¡µé¢ï¼Œå¯ä»¥é€šè¿‡æ”¹å˜historyçš„state<br>æƒ³äº†ä¸€ä¸‹ï¼Œå†™äº†ä¸€ä¸ªå°demoã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span>nav<span class="token operator">></span>
  <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/home"</span><span class="token operator">></span>ä¸»é¡µ<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
  <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/about"</span><span class="token operator">></span>ä¸ªäºº<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
  <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"/test"</span><span class="token operator">></span>æµ‹è¯•<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">></span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">"content"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
<span class="token operator">&lt;</span>script<span class="token operator">></span>
  <span class="token keyword">const</span> baseHref <span class="token operator">=</span> location<span class="token punctuation">.</span>href<span class="token punctuation">;</span>
  <span class="token keyword">const</span> baseUrl <span class="token operator">=</span> <span class="token string">'/test.html'</span><span class="token punctuation">;</span>

  window<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> links <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    links<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      item<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">const</span> href <span class="token operator">=</span> item<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">,</span> baseHref <span class="token operator">+</span> href<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">setContentHtml</span><span class="token punctuation">(</span>href<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    window<span class="token punctuation">.</span>onpopstate <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token comment" spellcheck="true">// console.log(event);</span>
      <span class="token keyword">const</span> currentPathname <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>location<span class="token punctuation">.</span>pathname<span class="token punctuation">;</span>
      <span class="token keyword">const</span> targetHref <span class="token operator">=</span> currentPathname<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>baseUrl<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token function">setContentHtml</span><span class="token punctuation">(</span>targetHref<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> setContentHtml <span class="token operator">=</span> <span class="token punctuation">(</span>content<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> content<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// æ¥ç®¡è·¯ç”±</span>
    <span class="token comment" spellcheck="true">// 1. å¾—åˆ°baseUrlä¹‹åçš„href</span>
    <span class="token comment" spellcheck="true">// 2. æ ¹æ®hrefå»render</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å‡å¦‚ä½ æ˜¯ç›´æ¥æ‰“å¼€htmlæ–‡ä»¶ï¼Œä½¿ç”¨<code>history.pushState</code>ä¼šå‡ºé”™ï¼Œè¿™æ—¶å€™ä½ éœ€è¦æ–°å¼€ä¸€ä¸ªserverã€‚<br>å…¶ä¸­æœ€ä¸»è¦çš„æ˜¯ï¼Œä½ è¦æ‰˜ç®¡aé“¾æ¥çš„herfã€‚<br>å…¶ä¸­åœ¨<code>onpopstate</code>ä¸­ï¼Œæˆ‘å¾—åˆ°<code>targetHref</code>çš„æ–¹å¼ï¼Œæ„Ÿè§‰æœ‰äº›è ¢ï¼Œç›®å‰è¿˜æ²¡æƒ³åˆ°å¥½çš„æ–¹æ³•ã€‚<br>å»çœ‹ä¸€ä¸‹å…¶ä»–çš„æ¡†æ¶å¯èƒ½ä¼šç»™æˆ‘ä¸€ä¸ªä¸ä¸€æ ·çš„æ€è·¯ã€‚<br>é£˜è¿‡ï½</p>
<h4 id="2018-07-14-æ›´æ–°"><a href="#2018-07-14-æ›´æ–°" class="headerlink" title="2018-07-14 æ›´æ–°"></a>2018-07-14 æ›´æ–°</h4><p>åœ¨historyè¿™ä¸ªé¡¹ç›®ä¸­å¾—åˆ°çš„å¯ç¤ºï¼š<br><code>history.pushState</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°å°±æ˜¯<code>onpopstate</code>äº‹ä»¶ä¸­çš„<code>event.state</code><br>è¿™æ ·çš„è¯ï¼Œæˆ‘å¯ä»¥å¯¹ç°æœ‰çš„è¿›è¡Œä¸€äº›æ”¹è¿›</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// first argumens is event state</span>
<span class="token comment" spellcheck="true">// history.pushState('', '', baseHref + href);</span>
history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>href<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> baseHref <span class="token operator">+</span> href<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// ....</span>

<span class="token comment" spellcheck="true">// const currentPathname = event.target.location.pathname;</span>
<span class="token comment" spellcheck="true">// const targetHref = currentPathname.split(baseUrl)[1];</span>
<span class="token keyword">const</span> targetHref <span class="token operator">=</span> event<span class="token punctuation">.</span>state<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿™æ ·æƒ³ä¸€ä¸‹ï¼Œ<code>event.state</code>é‡Œé¢å¯ä»¥å­˜å¾ˆå¤šä¸œè¥¿â€¦.</p>
]]></content>
      
        <categories>
            
            <category> å‰ç«¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> javascript </tag>
            
            <tag> history&#39; </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[rails-access-origin]]></title>
      <url>/2018/07/06/rails-access-origin/</url>
      <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹ï¼Œåœ¨railsé‡Œé¢å¦‚ä½•è®¾ç½®access-originâ€¦.</p>
<pre class="line-numbers language-ruby"><code class="language-ruby">gem <span class="token string">'rack-cors'</span><span class="token punctuation">,</span> <span class="token symbol">:require</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token string">'rack/cors'</span>


config<span class="token punctuation">.</span>middleware<span class="token punctuation">.</span>insert_before <span class="token number">0</span><span class="token punctuation">,</span> <span class="token constant">Rack</span><span class="token punctuation">:</span><span class="token symbol">:Cors</span> <span class="token keyword">do</span>
  allow <span class="token keyword">do</span>
    origins <span class="token string">'*'</span>
    resource <span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token symbol">:headers</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token symbol">:any</span><span class="token punctuation">,</span> <span class="token symbol">:methods</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span><span class="token symbol">:get</span><span class="token punctuation">,</span> <span class="token symbol">:post</span><span class="token punctuation">,</span> <span class="token symbol">:options</span><span class="token punctuation">]</span>
  <span class="token keyword">end</span>
<span class="token keyword">end</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> rails </category>
            
        </categories>
        
        
        <tags>
            
            <tag> rails </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[bad-code-2]]></title>
      <url>/2018/07/05/bad-code-2/</url>
      <content type="html"><![CDATA[<h4 id="æœ€è¿‘çš„çƒ¦æ¼"><a href="#æœ€è¿‘çš„çƒ¦æ¼" class="headerlink" title="æœ€è¿‘çš„çƒ¦æ¼"></a>æœ€è¿‘çš„çƒ¦æ¼</h4><p>æœ€è¿‘çœŸçš„è¶…çº§è‹¦æ¼ã€‚ä¸€ç›´åœ¨è¿›è¡Œæ–°åŠŸèƒ½çš„å¼€å‘ï¼Œæ²¡æ—¶é—´åšæˆ‘ä¹‹å‰æƒ³è¦é‡æ„çš„ä¸œè¥¿ã€‚<br>åœ¨è¿›è¡Œå¼€å‘çš„æ—¶å€™ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘å·²ç»å¾ˆæ³¨æ„é‡æ„çš„ä¿¡å·ï¼Œæ–°åŠŸèƒ½çš„å¼€å‘éœ€è¦é‡æ„ä¸€äº›ä»£ç ï¼Œç§‰æ‰¿ç€ä¸€ä¸ªpråªåšä¸€ä¸ªåŠŸèƒ½ï¼Œäºæ˜¯æˆ‘éœ€è¦åˆ‡æ¢åˆ†æ”¯ï¼Œæprï¼Œåˆå¹¶prä¹‹åï¼Œå†è¿›è¡Œæ–°åŠŸèƒ½çš„å¼€å‘ï¼Œè¿™ä¸ªäº‹æƒ…çœŸçš„éå¸¸ç—›è‹¦ã€‚<br>ä¹‹å‰æ²¡æœ‰å……åˆ†çš„ç»éªŒå’Œæ€è€ƒè¿›è¡Œçš„å¼€å‘ï¼Œç»™ç°åœ¨çš„æˆ‘å¸¦äº†å·¨å¤§çš„ç—›è‹¦ã€‚</p>
<h4 id="å¯ç¤ºï¼ˆéƒ½æ˜¯æ³ªï¼‰"><a href="#å¯ç¤ºï¼ˆéƒ½æ˜¯æ³ªï¼‰" class="headerlink" title="å¯ç¤ºï¼ˆéƒ½æ˜¯æ³ªï¼‰"></a>å¯ç¤ºï¼ˆéƒ½æ˜¯æ³ªï¼‰</h4><h5 id="1-æ¯ä¸ªæ–‡ä»¶çš„å…¥å£æ–‡ä»¶åº”å°½å¯èƒ½çš„ä¿æŒå¹²å‡€"><a href="#1-æ¯ä¸ªæ–‡ä»¶çš„å…¥å£æ–‡ä»¶åº”å°½å¯èƒ½çš„ä¿æŒå¹²å‡€" class="headerlink" title="1. æ¯ä¸ªæ–‡ä»¶çš„å…¥å£æ–‡ä»¶åº”å°½å¯èƒ½çš„ä¿æŒå¹²å‡€"></a>1. æ¯ä¸ªæ–‡ä»¶çš„å…¥å£æ–‡ä»¶åº”å°½å¯èƒ½çš„ä¿æŒå¹²å‡€</h5><p>ä¸è¦å› ä¸ºå‡½æ•°å°ï¼Œå°±è¦å¾€indexä¸­å¡ã€‚indexæ˜¯å…¥å£æ–‡ä»¶ï¼Œäº†è§£æ•´ä¸ªé¡¹ç›®ä»è¿™é‡Œå¼€å§‹ï¼Œæ‰€ä»¥è¦ä¿è¯ï¼Œè¿™é‡Œçš„ä»£ç åšåˆ°æœ€ç®€æ´æ˜äº†ï¼Œä¸€çœ¼çœ‹è¿‡å»ï¼Œå°±èƒ½æœ‰ä¸€æ¦‚è§ˆçš„æ„Ÿè§‰ã€‚å°å‡½æ•°æ„Ÿè§‰æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­å¤ªä¸å€¼å½“çš„ï¼Œå°±æŠŠæ‰€æœ‰çš„å°å‡½æ•°æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚æ•´ç†ä¹‹åï¼Œæˆ‘æ„Ÿè§‰éå¸¸æ¸…æ–°ã€‚</p>
<h5 id="2-å¤šå¤„éƒ½ç”¨åˆ°çš„æ ·å¼ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦è€ƒè™‘é‡å‘½åäº†"><a href="#2-å¤šå¤„éƒ½ç”¨åˆ°çš„æ ·å¼ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦è€ƒè™‘é‡å‘½åäº†" class="headerlink" title="2. å¤šå¤„éƒ½ç”¨åˆ°çš„æ ·å¼ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦è€ƒè™‘é‡å‘½åäº†"></a>2. å¤šå¤„éƒ½ç”¨åˆ°çš„æ ·å¼ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦è€ƒè™‘é‡å‘½åäº†</h5><p>è¦ä¸çœ‹äº†å¾ˆç–‘æƒ‘ï¼Œè¿™ä¸ªé¡µé¢ä¸ºä»€ä¹ˆæœ‰å…¶ä»–é¡µé¢çš„style</p>
<h5 id="3-å®æ—¶æŠ½å–util"><a href="#3-å®æ—¶æŠ½å–util" class="headerlink" title="3.å®æ—¶æŠ½å–util"></a>3.å®æ—¶æŠ½å–util</h5><p>ç»„ä»¶åˆ’åˆ†è¦æ¸…æ¥šï¼Œä¾‹å¦‚å¯ä»¥æŠ½å‡ºæ¥api.jsã€tool.js</p>
<h5 id="4-å‡½æ•°å¤æ‚åº¦å°½å¯èƒ½çš„é™ä½"><a href="#4-å‡½æ•°å¤æ‚åº¦å°½å¯èƒ½çš„é™ä½" class="headerlink" title="4.å‡½æ•°å¤æ‚åº¦å°½å¯èƒ½çš„é™ä½"></a>4.å‡½æ•°å¤æ‚åº¦å°½å¯èƒ½çš„é™ä½</h5><p>è‹¥çœŸçš„æ‰¾ä¸åˆ°é€‚åˆçš„è§£å†³æ–¹æ³•ï¼Œå¯ä»¥ä¸èº«è¾¹çš„äººåˆ†äº«ä¸€ä¸‹ï¼Œæˆ–è®¸ä¼šå¾—åˆ°æ›´å¥½çš„è§£å†³åŠæ³•</p>
<h5 id="5-ä½ è¿ç»­copyä¸€æ®µä»£ç ä»¥ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥è€ƒè™‘å†™ä¸€ä¸ªå·¥å…·æ¥ç”Ÿæˆç›¸åŒçš„ä»£ç "><a href="#5-ä½ è¿ç»­copyä¸€æ®µä»£ç ä»¥ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥è€ƒè™‘å†™ä¸€ä¸ªå·¥å…·æ¥ç”Ÿæˆç›¸åŒçš„ä»£ç " class="headerlink" title="5. ä½ è¿ç»­copyä¸€æ®µä»£ç ä»¥ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥è€ƒè™‘å†™ä¸€ä¸ªå·¥å…·æ¥ç”Ÿæˆç›¸åŒçš„ä»£ç "></a>5. ä½ è¿ç»­copyä¸€æ®µä»£ç ä»¥ä¸Šï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥è€ƒè™‘å†™ä¸€ä¸ªå·¥å…·æ¥ç”Ÿæˆç›¸åŒçš„ä»£ç </h5><h5 id="6-éœ€è¦lazyçš„åœ°æ–¹ï¼ŒåŠæ—¶lazy"><a href="#6-éœ€è¦lazyçš„åœ°æ–¹ï¼ŒåŠæ—¶lazy" class="headerlink" title="6. éœ€è¦lazyçš„åœ°æ–¹ï¼ŒåŠæ—¶lazy"></a>6. éœ€è¦lazyçš„åœ°æ–¹ï¼ŒåŠæ—¶lazy</h5><h5 id="7-ä¸€ä¸ªé—®é¢˜æœ‰ä¸¤ä¸ªä¸åŒçš„è§£å†³åŠæ³•ï¼Œå„æœ‰åˆ©å¼Š-é€‰æ‹©ä»£ä»·æœ€å°çš„"><a href="#7-ä¸€ä¸ªé—®é¢˜æœ‰ä¸¤ä¸ªä¸åŒçš„è§£å†³åŠæ³•ï¼Œå„æœ‰åˆ©å¼Š-é€‰æ‹©ä»£ä»·æœ€å°çš„" class="headerlink" title="7. ä¸€ä¸ªé—®é¢˜æœ‰ä¸¤ä¸ªä¸åŒçš„è§£å†³åŠæ³•ï¼Œå„æœ‰åˆ©å¼Š,é€‰æ‹©ä»£ä»·æœ€å°çš„"></a>7. ä¸€ä¸ªé—®é¢˜æœ‰ä¸¤ä¸ªä¸åŒçš„è§£å†³åŠæ³•ï¼Œå„æœ‰åˆ©å¼Š,é€‰æ‹©ä»£ä»·æœ€å°çš„</h5><p>ç§»åŠ¨ç«¯å’ŒPCç«¯å…±ç”¨ä¸€ä¸ªç›¸åŒçš„ç»„ä»¶ï¼Œè¿™ä¸ªæˆ‘å†™ä¸€ä¸ªç»„ä»¶ï¼Œå†™ä¸¤ä»½æ ·å¼ã€‚åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œå‡å¦‚ä½ ä¿®æ”¹ä¸€ä¸‹ç»„ä»¶ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å°±è¦åŒæ—¶ä¿®æ”¹ä¸¤ä»½æ ·å¼ã€‚ä¸€èˆ¬ç§»åŠ¨ç«¯å±•ç¤ºçš„UIè¾ƒå°‘ï¼Œç”¨PCç«¯çš„ç»„ä»¶ï¼Œä¼šé€ æˆå¾ˆå¤šDOMçš„å¤šä½™ã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œå†™ä¸¤ä¸ªç»„ä»¶æ›´å¥½ä¸€ç‚¹ã€‚</p>
<h5 id="8-å¯¹äºreactçš„çœ‹æ³•"><a href="#8-å¯¹äºreactçš„çœ‹æ³•" class="headerlink" title="8.å¯¹äºreactçš„çœ‹æ³•"></a>8.å¯¹äºreactçš„çœ‹æ³•</h5><p>è¦å­¦ä¼šåˆ‡å°ç‰‡ç‰‡ï¼Œå°½å¯èƒ½çš„ç»„ä»¶åŒ–ï¼Œç»„ä»¶å°½å¯èƒ½çš„å°ï¼ŒèŒè´£å°½å¯èƒ½æ˜ç¡®ã€‚<br>ä¹‹å‰å†™ä¸¤ä¸ªwrapperæœ‰ä¸€æ®µç›¸åŒçš„ä»£ç ï¼Œè¿™ä¸ªè¿˜å¯ä»¥æ¥å—ï¼Œç­‰æˆ‘å†å†™ä¸€ä¸ªwrapperæ—¶ï¼Œå‘ç°è¿˜éœ€è¦é‚£ä¸€æ®µç›¸åŒçš„ä»£ç ï¼Œæˆ‘å—ä¸äº†äº†ï¼Œäºæ˜¯å°†ä¸€ä¸ªç»„ä»¶æ‹†æˆäº†ä¸‰å±‚ã€‚emmmmï¼Œç»„ä»¶å°å¤šä¹ˆé‡è¦ã€‚</p>
]]></content>
      
        <categories>
            
            <category> ä¼˜åŒ– </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ä¼˜åŒ– </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[bad-code]]></title>
      <url>/2018/07/02/bad-code/</url>
      <content type="html"><![CDATA[<h4 id="é‡æ„"><a href="#é‡æ„" class="headerlink" title="é‡æ„"></a>é‡æ„</h4><p>å½“ä½ å‘ç°ç°æœ‰çš„ç»“æ„æ»¡è¶³ä¸äº†ç°æœ‰çš„åŠŸèƒ½ï¼Œè¿™æ˜¯é‡æ„çš„ä¿¡å·ã€‚å¾ˆé—æ†¾ï¼Œä¸ºäº†èµ¶è¿›åº¦ï¼Œå½“è¿™äº›ä¿¡å·å‡ºç°æ—¶ï¼Œä½ æ²¡æœ‰æ”¾åœ¨ç¬¬ä¸€ä½å»è€ƒè™‘ï¼Œéšç€å¢é‡çš„å¼€å‘ï¼Œå†å›å¤´å‡†å¤‡ä¸‹æ‰‹é‡æ„ï¼Œæœ‰ä¸€ç§ç‰µä¸€å‘åŠ¨å…¨èº«çš„æ„Ÿè§‰ã€‚</p>
<h4 id="çƒ‚ä»£ç çš„ç”±æ¥"><a href="#çƒ‚ä»£ç çš„ç”±æ¥" class="headerlink" title="çƒ‚ä»£ç çš„ç”±æ¥"></a>çƒ‚ä»£ç çš„ç”±æ¥</h4><h5 id="è¯ä¸è¾¾æ„"><a href="#è¯ä¸è¾¾æ„" class="headerlink" title="è¯ä¸è¾¾æ„"></a>è¯ä¸è¾¾æ„</h5><p>ä»£ç å†™å‡ºæ¥çš„ç›®çš„æ˜¯ç»™äººçœ‹çš„ï¼Œä¸€èˆ¬ä½ å†™çš„ä»£ç éƒ½ä¸ä¼šç”±ä½ ç»´æŠ¤ã€‚<br>emmmm éšæ„çš„å‘½åï¼Œç»™é˜…è¯»ä»£ç çš„äººå¸¦æ¥å·¨å¤§çš„è´Ÿæ‹…ã€‚è‡ªå·±çœ‹ä¸¤å¤©çš„ä»£ç ä¹Ÿä¼šæœ‰ä¸€ç§é›¾é‡Œçœ‹èŠ±çš„æ„Ÿè§‰ã€‚</p>
<h5 id="äºŒéšä¸€å˜"><a href="#äºŒéšä¸€å˜" class="headerlink" title="äºŒéšä¸€å˜"></a>äºŒéšä¸€å˜</h5><p>è¿™ä¸ªæ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä¸¤ä¸ªå¯¹è±¡éƒ½éšç€ä¸€ä¸ªå¯¹è±¡å˜ï¼Œåˆå‹¤å‹¤æ³æ³çš„å†™äº†ä¸¤éã€‚è¿™ä¸ªæ—¶å€™ï¼Œå½“å‘ç”Ÿä¸€ç‚¹å˜åŒ–ï¼Œæˆ‘è¦æ‰¾åˆ°å…¨éƒ¨éšå˜çš„ä»£ç ï¼Œä¸¤ä¸ªä¸€å—ä¿®æ”¹â€¦æ”¹çš„æ‰‹éƒ½ç´¯äº†ï¼Œçœ¼ä¹ŸèŠ±äº†</p>
<h5 id="æˆ‘å°±ä¸æ”¹å˜å‚æ•°çš„ä¸ªæ•°"><a href="#æˆ‘å°±ä¸æ”¹å˜å‚æ•°çš„ä¸ªæ•°" class="headerlink" title="æˆ‘å°±ä¸æ”¹å˜å‚æ•°çš„ä¸ªæ•°"></a>æˆ‘å°±ä¸æ”¹å˜å‚æ•°çš„ä¸ªæ•°</h5><p>ç°æœ‰çš„å‡½æ•°ä¸èƒ½æ»¡è¶³æœ€æ–°çš„éœ€æ±‚ï¼Œå“å‘€ï¼Œæˆ‘å¾—åœ¨å¾€è¿™ä¸ªå‡½æ•°ä¸­ä¼ ä¸€ä¸ªå‚æ•°ï¼Œemmmï¼Œå¥½éº»çƒ¦ï¼Œè¯•è¯•èƒ½ä¸èƒ½åœ¨ç°æœ‰çš„å‚æ•°ä¸­å¾—åˆ°æˆ‘æƒ³è¦çš„å‚æ•°ï¼Œè¿˜å¯ä»¥ï¼Œå°±è¿™æ ·å§ã€‚äºæ˜¯ï¼Œå¼€å§‹å¾ªç¯ï¼Œæ•´ä¸ªå‡½æ•°å·²ç»ä¸å ªé‡è´Ÿäº†â€¦.æ»¡ç¯‡çš„if else</p>
<h5 id="æ¥æ¥æ¥-æˆ‘çš„éº»èŠ±çœŸå¥½çœ‹"><a href="#æ¥æ¥æ¥-æˆ‘çš„éº»èŠ±çœŸå¥½çœ‹" class="headerlink" title="æ¥æ¥æ¥ æˆ‘çš„éº»èŠ±çœŸå¥½çœ‹"></a>æ¥æ¥æ¥ æˆ‘çš„éº»èŠ±çœŸå¥½çœ‹</h5><p>å†™äº†ä¸€ä¸ªå‡½æ•°ï¼Œå“å‘€ï¼Œæˆ‘è¿™è¾¹éœ€è¦å’Œè¿™ä¸ªå‡½æ•°å·®ä¸å¤šçš„å‡½æ•°ã€‚å“å‘€ï¼Œä¼ ä¸€ä¸ªæ ‡å¿—ï¼Œé‡Œé¢åˆ¤æ–­å§ã€‚è¿™éº»èŠ±ä¸æ˜¯ä¸€èˆ¬çš„å¥½çœ‹å•Š</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> getData <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>isAdd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>isAdd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// å…±ç”¨ä»£ç </span>

  <span class="token keyword">if</span><span class="token punctuation">(</span>isAdd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>

  <span class="token comment" spellcheck="true">// å…±ç”¨ä»£ç </span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>isAdd<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="repeat-yourself"><a href="#repeat-yourself" class="headerlink" title="repeat yourself"></a>repeat yourself</h5><p>åšspaçš„æ—¶å€™ï¼Œäº”ä¸ªé¡µé¢éƒ½æ˜¯ä¸€ä¸ªlistï¼Œäºæ˜¯æˆ‘å‹¤å‹¤æ³æ³çš„å†™äº†äº”ä¸ªlistã€‚è¿™æ˜¯åœ¨åšuiçš„æ—¶å€™ã€‚åœ¨æ¥æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘å‘ç°è¿™å‡ ä¸ªé¡µé¢çš„æ•´ä½“éƒ½æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€ä¸åŒçš„å°±æ˜¯é‡Œé¢çš„itemæ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£æˆ‘ä¸ºä»€ä¹ˆè¿˜è¦å†™äº”éå‘¢ï¼Ÿ<br>å…¶å®å¼€å‘çš„æ—¶å€™ï¼Œå°±æ˜¯ctrl+cå’Œctrl+vï¼Œé‚£ä¸ªæ—¶å€™è¿˜åº†å¹¸ï¼Œå› ä¸ºæŠŠåŠŸèƒ½åˆ’åˆ†çš„ååˆ†æ¸…æ¥šï¼Œæˆ‘åœ¨æ¯ä¸ªé¡µé¢mapä¸€éï¼Œè¿˜æŒºç®€å•çš„ã€‚æ²‰æµ¸åœ¨è¿™ç§æ¬¢ä¹ä¸­ï¼Œå¯¼è‡´å¿˜äº†è¿™ä¸ªrepeatçš„æ“ä½œã€‚äºæ˜¯ï¼ŒåŠ¨æ‰‹å†™ä¸ªä¸€ä¸ªç”Ÿæˆlistçš„functionåï¼Œæ¯ä¸ªç»„ä»¶çš„ä»£ç ä¸¤è¡Œå°±å¯ä»¥æå®šäº†ã€‚</p>
<h4 id="ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥"><a href="#ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥" class="headerlink" title="ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥"></a>ç£¨åˆ€ä¸è¯¯ç æŸ´å·¥</h4><p>å¯¹å¾…ä¸€ä¸ªå¤æ‚çš„é—®é¢˜ï¼Œé¦–å…ˆè¦å‹¾å‹’å‡ºå®ƒå¤§æ¦‚çš„è½®å»“ï¼ŒæŠŠèƒ½æƒ³åˆ°çš„å…¨åˆ—ä¸Šï¼Œä»¥æ­¤å…ˆåšå‡ºä¸€ä¸ªå¥½çš„æ¶æ„ã€‚<br>è¾¹å†™è¾¹æƒ³çœ‹æ˜¯ä¸€ä¸ªéœ€è¦æ‘’å¼ƒçš„ä¹ æƒ¯ï¼ˆå¯¹äºæˆ‘è‡ªå·±æ¥è¯´ï¼‰ã€‚<br>è¿™æ¬¡æ–°åšçš„æœç´¢ï¼Œæˆ‘å…ˆå†™å¥½ui,åœ¨æ¥æ•°æ®ä¹‹å‰ï¼Œæˆ‘èƒ½å¤§æ¦‚æƒ³åˆ°æ˜¯ä»€ä¹ˆä¸ªæƒ…å†µã€‚äºæ˜¯æˆ‘å¼€å§‹ä¸‹æ‰‹å†™äº†ã€‚<br>å†™ç€å†™ç€ï¼Œæˆ‘å‘ç°ï¼Œå—¯ å¯¼èˆªéœ€è¦æ¡ä»¶ï¼Œä¸‹é¢çš„listéœ€è¦æ¡ä»¶ï¼Œå³è¾¹çš„ç­›é€‰ä¹Ÿéœ€è¦è¿™ä¸ªæ¡ä»¶ã€‚ç­›é€‰å’Œlistæ˜¯å±äºä¸€ä¸ªç»„ä»¶ä¸­ï¼Œæˆ‘å·²ç»å†™åˆ°å•ç‹¬çš„listè¿™ä¸€å—äº†ï¼Œæœ‰ç§å†™ä¸ä¸‹å»çš„æ„Ÿè§‰ï¼Œäºæ˜¯æˆ‘å¼€å§‹å°†å®ƒä»¬å…±ç”¨çš„æ•°æ®å…¨éƒ¨æ”¾åœ¨çˆ¶ç»„ä»¶ã€‚è¿™å¯¹äºå¼€å‘ä¸­çš„æ—¶é—´ï¼Œæ˜¯ä¸€ä¸ªå·¨å¤§çš„æµªè´¹ï¼Œå› ä¸ºè¿™æ„å‘³ç€æˆ‘ä¹‹å‰çš„å·¥ä½œæ˜¯ç™½åšçš„ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘å¼€å§‹æ‹¿èµ·çº¸å’Œç¬”ï¼Œå¼€å§‹åˆ†ææˆ‘åº”è¯¥æ€ä¹ˆå»è§„åˆ’â€¦å°½ç®¡æˆ‘å†åˆ†æçš„æ—¶å€™ï¼ŒæŠŠèƒ½é¢„è§çš„é—®é¢˜éƒ½æƒ³åˆ°äº†ï¼Œä½†æ˜¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­è¿˜æ˜¯é‡åˆ°äº†æœªçŸ¥çš„é—®é¢˜..å†™ä»£ç çš„ä»”ç»†åˆ†æå¾ˆé‡è¦â€¦.å¼€å‘è¿‡ç¨‹ä¸­çš„æ¸…æ™°å¤´è„‘ä¹Ÿå¾ˆé‡è¦</p>
<p>å…ˆå†™åˆ°è¿™â€¦.</p>
]]></content>
      
        <categories>
            
            <category> ä¼˜åŒ– </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ä¼˜åŒ– </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[refactor]]></title>
      <url>/2018/06/23/refactor/</url>
      <content type="html"><![CDATA[<h4 id="é—²è°ˆ"><a href="#é—²è°ˆ" class="headerlink" title="é—²è°ˆ"></a>é—²è°ˆ</h4><p>æœ€è¿‘å¾ˆå¤§ä¸€éƒ¨åˆ†å·¥ä½œæ˜¯åœ¨è¿›è¡Œé‡æ„å·¥ä½œï¼Œæ¯æ¬¡éƒ½éœ€è¦æä¸€ä¸ªå¤§prï¼Œå¾ˆæ˜¯å¿ƒç´¯ã€‚<br>åŸæœ¬é¡¹ç›®å°±æ˜¯é‡å†™äº†ä¸€ä»½ï¼Œä½†æ˜¯åœ¨æ¶æ„æ–¹é¢è¿˜æ˜¯æ²¡æœ‰åšå¥½ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰è¿›è¡Œæ€»ç»“ï¼Œé”™è¿‡äº†é‡æ„çš„å¥½æœºä¼šï¼Œå¯¼è‡´åæœŸç»´æŠ¤èµ·æ¥å¾ˆç´¯ã€‚ç¼–å†™ä»£ç çš„å¾ˆå¤§æ„Ÿè§‰ï¼Œå“è¿™ä¸€å—æˆ‘å¥½åƒå†™è¿‡ï¼Œcopyè¿‡æ¥ã€‚å…¶å®è¿™å°±æ˜¯ä¸€ä¸ªé‡æ„çš„ä¿¡å·ã€‚<code>don&#39;t repeat yourself</code>.åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘åšäº†å¾ˆå¤šcopyçš„å·¥ä½œï¼Œäºæ˜¯å‡ºæ¥æ··æ€»æ˜¯è¦è¿˜çš„ã€‚ç°åœ¨é‡æ„èµ·æ¥å°±éœ€è¦å°†å‡Œä¹±çš„éƒ¨åˆ†æ•´åˆåœ¨ä¸€èµ·ã€‚</p>
<h4 id="cssæ•´ç†å·¥ä½œ"><a href="#cssæ•´ç†å·¥ä½œ" class="headerlink" title="cssæ•´ç†å·¥ä½œ"></a>cssæ•´ç†å·¥ä½œ</h4><p>æœ€è¿‘çš„æ•´ç†å·¥ä½œï¼Œä¸»è¦æ˜¯åœ¨æ•´ç†csså’Œjsï¼Œç°åœ¨æƒ³æƒ³ä¹Ÿå¾ˆæ˜¯æƒŠå¥‡ã€‚<br>å¯¹äºcssçš„æ•´ç†ï¼Œæ˜¯åœ¨å‰æœŸæ²¡æœ‰å¾ˆå¥½çš„å»æ€»ç»“ç»„ä»¶çš„å…±åŒä¹‹å¤„ï¼Œå¯¼è‡´cssæ–‡ä»¶æ˜¯ä¸€ä¸ªå¢é‡çš„è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯è¿­ä»£çš„è¿‡ç¨‹ã€‚æ„æ€åˆ°è¿™ç‚¹ä¹‹åï¼Œæˆ‘å¼€å§‹æ¢³ç†å’Œæå–ç›¸åŒçš„åœ°æ–¹ã€‚<br>cssçš„æ•´ç†è¦æ³¨æ„çš„æ˜¯ï¼šè¯è¾¾æ„å’Œè¯­ä¹‰åŒ–ï¼Œè¿™æ„å‘³ç€åˆ«äººä¸€çœ‹åˆ°ä½ çš„<code>class</code>å°±èƒ½å¤§æ¦‚çŒœå‡ºæ¥å®ƒæ˜¯ä¸ªä»€ä¹ˆæ ·çš„ã€‚</p>
<h4 id="jsæ•´ç†å·¥ä½œ"><a href="#jsæ•´ç†å·¥ä½œ" class="headerlink" title="jsæ•´ç†å·¥ä½œ"></a>jsæ•´ç†å·¥ä½œ</h4><p>å¯¹äºjsçš„æ•´ç†ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†é—®é¢˜å°±è‡ªå·±å¦å®šè‡ªå·±ã€‚åˆšå¼€å§‹å†™çš„æ—¶å€™ï¼Œæˆ‘é—®è‡ªå·±ï¼šjså¯ä»¥æ‹¿reduxé‡Œé¢çš„æ•°æ®å—ï¼Ÿæˆ‘åœ¨æ²¡æœ‰æŸ¥è¯¢çš„åŸºç¡€ä¸Šç»™äº†ä¸€ä¸ªè‡ªå·±å¦å®šçš„ç­”æ¡ˆã€‚å—¯ï¼Œä¸å¯ä»¥çš„è¯åªèƒ½é€€è€Œæ±‚å…¶æ¬¡äº†ã€‚ç°åœ¨æœ‰äººå‘Šè¯‰æˆ‘å¯ä»¥ï¼Œäºæ˜¯å¼€å§‹æ•´ç†å’Œé‡æ„ã€‚<br>çœ‹èµ·æ¥é—®é¢˜æ˜¯å‡ºåœ¨æˆ‘æ²¡æœ‰åšå¥½å‡†å¤‡å·¥ä½œä¸Šé¢ã€‚</p>
<h4 id="ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ•´ç†"><a href="#ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ•´ç†" class="headerlink" title="ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ•´ç†"></a>ä»€ä¹ˆæ—¶å€™è¿›è¡Œæ•´ç†</h4><p>æˆ‘ä¸çŸ¥é“è¿™æ¬¡çš„æ•´ç†æ˜¯å¦å¯ä»¥ç§°å¾—ä¸Šé‡æ„ï¼Ÿä½†æ˜¯è¿™æ¬¡çš„æ•´ç†æ˜¯æˆ‘çš„æ•´ä½“æ€è·¯æ›´åŠ æ¸…æ™°ï¼Œæ¶æ„ä¹Ÿåœ¨æ¸æ¸æ˜äº†ä¹‹ä¸­ã€‚<br>åœ¨ç¼–å†™çš„è¿‡ç¨‹ï¼Œåšå¥½çš„æ—¶æœºæ˜¯ï¼šè¿™ä¸€å—æˆ‘ä¹‹å‰å†™è¿‡ç±»ä¼¼çš„ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å°±è€ƒè™‘æŠŠç›¸åŒçš„åœ°æ–¹æŠ½å‡ºæ¥ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„éƒ¨åˆ†ã€‚<br>è¿˜æœ‰ä¸€ä¸ªæƒ…å†µæ˜¯ä½ å†™ç€å†™ç€å†™ä¸ä¸‹å»äº†ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦ä»å¤´æ¢³ç†ä¸€ä¸‹æ€è·¯ï¼Œåˆ°åº•æ˜¯å“ªå‡ºçš„é—®é¢˜ã€‚<br>æˆ–è€…æ˜¯ç›®å‰çš„ä»£ç å·²ç»ä¸èƒ½æ»¡è¶³æ–°çš„éœ€æ±‚æ—¶ã€‚</p>
<h6 id="æ•´ç†å®Œä¸€ä¸ªitemï¼Œæ„Ÿè§‰æµ‘èº«æ¸…çˆ½"><a href="#æ•´ç†å®Œä¸€ä¸ªitemï¼Œæ„Ÿè§‰æµ‘èº«æ¸…çˆ½" class="headerlink" title="æ•´ç†å®Œä¸€ä¸ªitemï¼Œæ„Ÿè§‰æµ‘èº«æ¸…çˆ½"></a>æ•´ç†å®Œä¸€ä¸ªitemï¼Œæ„Ÿè§‰æµ‘èº«æ¸…çˆ½</h6><p>PS:ä½œä¸ºä¸€ä¸ªå‰ç«¯æ¥è¯´ï¼Œå†™å‡ºæ¥çš„æ˜¯ç›´æ¥å’Œç”¨æˆ·äº¤æµçš„äº§å“ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ˜¯åœ¨çŸ¥é“éœ€æ±‚çš„åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘çš„ï¼Œå¯¹äºä¸€ä¸ªä¸´æ—¶çš„åŠŸèƒ½ï¼Œæˆ‘å¯ä»¥å†™çš„ç®€å•ä¸€ç‚¹ï¼Œä½†æ˜¯ä¹Ÿéœ€åœ¨æ˜äº†çš„åŸºç¡€ä¸Šè¿›è¡Œï¼Œemmmmâ€¦åä¹‹ï¼Œä½¿ç”¨è€…å·²ç–¯</p>
]]></content>
      
        <categories>
            
            <category> éšç¬” </category>
            
        </categories>
        
        
        <tags>
            
            <tag> css </tag>
            
            <tag> react </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[pdf]]></title>
      <url>/2018/04/08/pdf/</url>
      <content type="html"><![CDATA[<p>åœ¨ç½‘é¡µä¸­æµè§ˆpdfæ–‡ä»¶ï¼Œæœ€ç®€å•çš„åŠæ³•å½“ç„¶æ˜¯æ’å…¥iframeäº†</p>
<h4 id="html5ä¸­æµè§ˆpdfæ–‡ä»¶"><a href="#html5ä¸­æµè§ˆpdfæ–‡ä»¶" class="headerlink" title="html5ä¸­æµè§ˆpdfæ–‡ä»¶"></a>html5ä¸­æµè§ˆpdfæ–‡ä»¶</h4><p>html5ä¸­æœ‰æ ‡ç­¾å¯ä»¥æ’å…¥pdf,ä½†æ˜¯åœ¨æ¯ä¸ªæµè§ˆå™¨ä¸Šçš„è¡¨ç°å½¢å¼ä¸ä¸€æ ·â€¦</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>embed</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pdfFiles/interfaces.pdf<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>600<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pdf<span class="token punctuation">"</span></span> <span class="token attr-name">pluginspage</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.adobe.com/products/acrobat/readstep2.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="æ’ä»¶pdf-js"><a href="#æ’ä»¶pdf-js" class="headerlink" title="æ’ä»¶pdf.js"></a>æ’ä»¶pdf.js</h3><p><a href="https://github.com/mozilla/pdf.js" target="_blank" rel="noopener">pdf.js</a>æ˜¯ä¸€ä¸ªæµè§ˆå™¨å…¼å®¹çš„æ’ä»¶ï¼Œç§»åŠ¨ç«¯ä¹Ÿå¾ˆä½¿ç”¨ï¼Œæœ‰ä¸€ç‚¹ï¼šéœ€è¦å¼•å…¥çš„åŒ…å¤ªå¤§ã€‚ä¸ºæ­¤ï¼Œæœ‰äººåˆåšäº†ä¸€ä¸ªåŒ…è£¹<a href="https://github.com/legalthings/pdf.js-viewer" target="_blank" rel="noopener">pdf.js-viewer</a>ã€‚è¿™ä¸ªnpmæ˜¯pdf.jsçš„æ‰“åŒ…åçš„ç‰ˆæœ¬ã€‚åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šå‘ç°æ ·å¼ä¸å¯¹ï¼Œæ­¤æ—¶ä½ å¯ä»¥å°†<code>pdf.js</code>ä¸­çš„<code>viewer.scss</code>ï¼Œæ‹·è´çš„ä½ çš„å¼€å‘ç›®å½•ï¼Œè€Œä¸æ˜¯å¼•å…¥<code>pdf.js-viewer</code>çš„cssï¼Œé‡Œé¢çš„æ ·å¼å·²ç»è¿‡æ—¶äº†ã€‚è¯­è¨€åŒ…å¼•å…¥åï¼Œé¡µé¢å°±ä¼šç¿»è¯‘ï¼Œä¸ç”¨åšå…¶ä»–è®¾ç½®ã€‚</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>./viewer-2.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>application/l10n<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>node_modules/pdf.js-viewer/locale/zh-CN/viewer.properties<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token selector">html, body </span><span class="token punctuation">{</span>
      <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
      <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">body </span><span class="token punctuation">{</span>
      <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#pdfjs</span> </span><span class="token punctuation">{</span> <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token selector"><span class="token id">#viewBookmark</span>, <span class="token id">#secondaryToolbarToggle</span> </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">pdfjs-wrapper </span><span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>pdfjs<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--#include virtual="node_modules/pdf.js-viewer/viewer.html" --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>


  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>node_modules/pdf.js-viewer/pdf.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    $(function() {
      // window.PDFJS.locale = 'zh-CN';
      $('div#pdfjs').load('http://localhost:65534/viewer.html', function(res) {
        window.PDFJS.webViewerLoad();
        window.PDFViewerApplication.open('http://localhost:65534/sample-3pp.pdf');
      });
    });
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="é›†æˆåˆ°webpackä¸­"><a href="#é›†æˆåˆ°webpackä¸­" class="headerlink" title="é›†æˆåˆ°webpackä¸­"></a>é›†æˆåˆ°webpackä¸­</h3><p>æµ‹è¯•å¼€å‘å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œéœ€è¦é›†æˆåˆ°webpackä¸­ã€‚<br>ç”±äºæ–‡ä»¶éƒ½éœ€è¦ç”¨webpackæ‰“åŒ…ï¼Œäºæ˜¯æŒ‰ç…§å¹³å¸¸ä¸€æ ·ï¼Œå°†æ–‡ä»¶å¼•å…¥ï¼Œå‘ç°æ§åˆ¶å°æŠ¥é”™ã€‚åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°5ç§å·¦å³çš„é”™è¯¯ï¼Œå½±å“æœ€æ·±åˆ»çš„ä¸€ç‚¹æ˜¯ï¼š<code>document undefined</code>â€¦ä¹Ÿæ˜¯å¾ˆè¿·ï¼Œè°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œå‘ç°<code>pdf.js</code>ç§çš„ä»£ç æ‰§è¡Œäº†ä¸¤éï¼Œç¬¬äºŒæ¬¡çš„æ—¶å€™å°±ä¼šå‡ºè¿™ä¸ªé”™è¯¯ã€‚ä»”ç»†ç¿»äº†ç¿»æºç ï¼Œåœ¨<code>pdf.js</code>ä¸­ï¼Œå®ƒéœ€è¦å¼•å…¥<code>pdf.work.js</code>æ–‡ä»¶ï¼Œwebpackæ‰“åŒ…æ—¶ï¼Œå®ƒæ ¹æœ¬å°±æ‰¾ä¸åˆ°è¿™ä¸ªæ–‡ä»¶ï¼Œæœ€åçš„ç»“æœæ˜¯åªåœ¨<code>windows</code>ä¸ŠæŒ‚è½½äº†å…³äº<code>pdf</code>çš„ä¸¤ä¸ªå¯¹è±¡â€¦<br>æœ€åçš„æœ€åï¼Œç›´æ¥åœ¨é¡µé¢ä¸Šå¼•å…¥<code>pdf.js</code>å’Œ<code>pdf.work.js</code>ï¼Œç”±äºæ–‡ä»¶è¿‡å¤§ï¼Œä½ æŒ‰éœ€è¿›è¡ŒåŠ è½½å°±å¯ä»¥äº†ã€‚</p>
<p>æœ€åçš„æœ€åï¼Œå†™äº†å¾ˆé•¿æ—¶é—´çš„<code>slim</code>æ¨¡ç‰ˆï¼Œæˆ‘å¿˜äº†åŸç”Ÿçš„æ ‡ç­¾æ€ä¹ˆå†™äº†â€¦å¯¼è‡´æˆ‘åœ¨å¼•å…¥è¯­è¨€åŒ…è¯è´¹ä¸ªå¾ˆé•¿æ—¶é—´â€¦ä¹Ÿæ˜¯å¾ˆè¿·â€¦åˆ‡è«å¿˜æœ¬ğŸ˜Š</p>
]]></content>
      
        <categories>
            
            <category> Nodejs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[jquery-plugin]]></title>
      <url>/2018/03/13/jquery-plugin/</url>
      <content type="html"><![CDATA[<h3 id="ä½¿ç”¨æ’ä»¶"><a href="#ä½¿ç”¨æ’ä»¶" class="headerlink" title="ä½¿ç”¨æ’ä»¶"></a>ä½¿ç”¨æ’ä»¶</h3><p>ç°åœ¨æ˜¯ä½¿ç”¨webpackæ‰“åŒ…ï¼Œyarnå®‰è£…éœ€è¦çš„æ’ä»¶å¾ˆä¾¿æ·ã€‚ä»Šå¤©é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œæˆ‘ä½¿ç”¨yarnå®‰è£…äº†ä¸€ä¸ªjqueryæ’ä»¶ï¼Œä½¿ç”¨æ—¶ï¼ŒjqueryæŠ¥é”™â€¦</p>
<h3 id="æ’é”™"><a href="#æ’é”™" class="headerlink" title="æ’é”™"></a>æ’é”™</h3><ol>
<li><p>å®‰è£…ã€å¼•ç”¨æ˜¯å¦æ­£ç¡®<br>é¦–å…ˆå…ˆç¡®å®šä¸€ä¸‹ï¼šåŒ…æ˜¯å¦æ­£ç¡®å®‰è£…ï¼›ä½¿ç”¨æ—¶æ˜¯å¦æ­£ç¡®å¼•ç”¨ï¼›okï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯æ­£ç¡®çš„</p>
</li>
<li><p>webpackæ˜¯å¦é…ç½®æ­£ç¡®<br>åœ¨webpackä¸­ï¼Œä¸€èˆ¬éƒ½ä¼šå°†jQueryè®¾ç½®ä¸ºå…¨å±€å˜é‡ï¼Œåœ¨webpackä¸­è®¾ç½®å¦‚ä¸‹:</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 $<span class="token punctuation">:</span> <span class="token string">"jquery"</span><span class="token punctuation">,</span>
 jQuery<span class="token punctuation">:</span> <span class="token string">"jquery"</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>webpackç‰ˆæœ¬æ˜¯å¦åˆé€‚<br>å¼€å‘ä¸­ä½¿ç”¨çš„æ˜¯<code>rails-webpack</code>ï¼Œå…¶ä¸­çš„é…ç½®éœ€è¦æ›´æ”¹ï¼ˆä¹‹å‰å¯¹ç…§æ–‡æ¡£ä¿®æ”¹é…ç½®ï¼ŒæŠ¥é”™ï¼›ä»Šå¤©æ‰çœ‹åˆ°åŸæ¥æ˜¯ç‰ˆæœ¬é—®é¢˜ğŸ˜‚ï¼‰</p>
</li>
<li><p>æœ€æœ€é‡è¦çš„ä¸€ç‚¹ï¼šæŸ¥çœ‹ä½ å®‰è£…çš„æ’ä»¶çš„åŒ…é‡Œé¢æœ‰æ²¡æœ‰<code>node_modules</code>è¿™ä¸ªæ–‡ä»¶å¤¹<br>åœ¨æ’æŸ¥é”™è¯¯æ—¶ï¼Œæˆ‘å°†åŒ…é‡Œé¢çš„ä»£ç æ‹·è´åˆ°å¼€å‘ç›®å½•ï¼Œæˆ‘å‘ç°èƒ½ç”¨ã€‚ã€‚ã€‚ç›´æ¥å¼•ç”¨åŒ…å°±ä¸å¯ä»¥ã€‚ä½¿ç”¨æ’ä»¶ï¼Œæœ€ç»ˆç›®çš„æ˜¯åœ¨<code>$</code>è¿™ä¸ªå¯¹è±¡ä¸ŠæŒ‚è½½æ–¹æ³•ã€‚æŠ¥é”™å°±æ˜¯è¯´æ˜<code>$</code>å¯¹è±¡ä¸Šæ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œé—®é¢˜æ¥äº†ï¼ŒåŒ…é‡Œé¢çš„<code>$</code>æ˜¯å“ªæ¥çš„ï¼Ÿå…¨å±€å¯¹è±¡è¿˜æ˜¯<code>node_modules</code>æ–‡ä»¶å¤¹ä¸­çš„<code>jquery</code>???<br>å¼•ç”¨å¤šä¸ªæ’ä»¶ï¼Œæ’ä»¶ä¾èµ–çš„<code>jquery</code>ç‰ˆæœ¬å¯èƒ½ä¸æ˜¯ä¸€æ ·çš„ï¼Œwebpackæ‰“åŒ…çš„æ—¶å€™ï¼Œé¦–å…ˆå»æ‰¾å®‰è£…åŒ…çš„æ’ä»¶<code>node_modules</code>é‡Œé¢çš„<code>jquery</code>ï¼Œå±€éƒ¨å˜é‡è¦†ç›–å…¨å±€å˜é‡ã€‚æ‰€ä»¥æ­¤æ—¶æŒ‚è½½æ–¹æ³•çš„<code>$</code>å¯¹è±¡æ˜¯<code>node_modules</code>åŒ…ä¸­çš„<code>jquery</code>ï¼Œè€Œä¸æ˜¯å…¨å±€çš„<code>$</code>å¯¹è±¡</p>
</li>
<li><p>ä¸ºä»€ä¹ˆå®‰è£…çš„jqueryç‰ˆæœ¬ä¼šä¸åŒ<br>è¿™ä¸ªæ—¶å€™ä½ ä¹Ÿè®¸ä¼šç–‘é—®ğŸ¤”ï¸ä¸ºä»€ä¹ˆä¼šå®‰è£…è¿™ä¹ˆå¤šç‰ˆæœ¬ï¼Ÿé¦–å…ˆä½ è¦å»æ£€æŸ¥ä¾èµ–çš„<code>jquery</code>ç‰ˆæœ¬ï¼Œè¿™ä¸ªæ—¶å€™ä½ å¯ä»¥å»æŸ¥çœ‹<code>yarn.lock</code>æ–‡ä»¶ï¼Œé‡Œé¢æœ‰å…·ä½“çš„ä¾èµ–å…³ç³»ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå‡å¦‚æŒ‰ç…§ç®—æ³•ï¼Œä½ å‘ç°å‡ ä¸ªæ’ä»¶ä¾èµ–çš„<code>jquery</code>çš„ç‰ˆæœ¬åº”è¯¥æ˜¯ä¸€è‡´çš„ã€‚ä½†ä¸ºä»€ä¹ˆ<code>yarn</code>è®¡ç®—å‡ºæ¥çš„ä¸ä¸€æ ·å‘¢ğŸ¤”ï¸ï¼Ÿå› ä¸º<code>yarn</code>åœ¨<code>add</code>åŒ…æ—¶ï¼Œè®¡ç®—<code>lock</code>çš„æ—¶å€™ï¼Œä¼šåœ¨åŸæ¥çš„åŸºç¡€ä¸Šè¿›è¡Œè®¡ç®—ï¼Œæ°å¥½åœ¨è¿™ä¸ªæ—¶é—´éš”ä¸­ï¼Œ<code>jquery</code>å‡çº§äº†â€¦è¿™å°±å¯¼è‡´<code>yarn</code>è®¡ç®—å‡ºæ¥çš„ä¾èµ–ç‰ˆæœ¬å¯èƒ½æœ‰æ‰€ä¸åŒ<br>æ­¤æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>yarn upgrade</code>è¿›è¡Œæ›´æ–°<code>lock</code>æ–‡ä»¶</p>
</li>
<li><p>å¦‚æœä»¥ä¸Šæ­¥éª¤è¿˜ä¸èƒ½è§£å†³é—®é¢˜â€¦æˆ‘ä¹Ÿä¸çŸ¥é“æ ¹æœ¬é—®é¢˜æ˜¯ä»€ä¹ˆ</p>
</li>
</ol>
]]></content>
      
        <categories>
            
            <category> jquery </category>
            
        </categories>
        
        
        <tags>
            
            <tag> jquery </tag>
            
            <tag> webpack </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[get-module]]></title>
      <url>/2017/11/15/get-module/</url>
      <content type="html"><![CDATA[<h4 id="å‘é€é‚®ä»¶-nodemailer"><a href="#å‘é€é‚®ä»¶-nodemailer" class="headerlink" title="å‘é€é‚®ä»¶: nodemailer"></a>å‘é€é‚®ä»¶: <a href="https://github.com/nodemailer/nodemailer" target="_blank" rel="noopener">nodemailer</a></h4><ol>
<li>åŸºæœ¬ä»£ç ï¼Œä½¿ç”¨ä¹‹å‰è¯·ç¡®ä¿é‚®ç®±å¼€å¯SMTP</li>
</ol>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">const</span> nodemailer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'nodemailer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

nodemailer<span class="token punctuation">.</span><span class="token function">createTestAccount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
    host<span class="token punctuation">:</span> <span class="token string">'smtp.163.com'</span><span class="token punctuation">,</span>
    port<span class="token punctuation">:</span> <span class="token number">465</span><span class="token punctuation">,</span>
    secure<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// true for 465, false for other ports</span>
    auth<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      user<span class="token punctuation">:</span> <span class="token string">'xxxx@163.com'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// generated ethereal user</span>
      pass<span class="token punctuation">:</span> <span class="token string">'xxx'</span>  <span class="token comment" spellcheck="true">// generated ethereal password</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> transporter <span class="token operator">=</span> nodemailer<span class="token punctuation">.</span><span class="token function">createTransport</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// setup email data with unicode symbols</span>
  <span class="token keyword">const</span> mailOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">from</span><span class="token punctuation">:</span> <span class="token string">'"Fred Foo ğŸ‘»" &lt;xxx@163.com>'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// sender address</span>
    to<span class="token punctuation">:</span> <span class="token string">'xxxx@gmail.com'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// list of receivers</span>
    subject<span class="token punctuation">:</span> <span class="token string">'Hello âœ”'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// Subject line</span>
    text<span class="token punctuation">:</span> <span class="token string">'Hello world?'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// plain text body</span>
    html<span class="token punctuation">:</span> <span class="token string">'&lt;b>Hello world?&lt;/b>'</span> <span class="token comment" spellcheck="true">// html body</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment" spellcheck="true">// send mail with defined transport object</span>
  transporter<span class="token punctuation">.</span><span class="token function">sendMail</span><span class="token punctuation">(</span>mailOptions<span class="token punctuation">,</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> info<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Message sent: %s'</span><span class="token punctuation">,</span> info<span class="token punctuation">.</span>messageId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>è‹¥ä½¿ç”¨SSL, åœ¨configä¸­æ·»åŠ </li>
</ol>
<pre class="line-numbers language-javascript"><code class="language-javascript">secureConnection<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// use SSL</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>3.æ·»åŠ é™„ä»¶, åœ¨mailOptionsæ·»åŠ </p>
<pre class="line-numbers language-javascript"><code class="language-javascript">attachments<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'æ–‡æ¡£.txt'</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// ä¸ä¼šä¹±ç </span>
    content<span class="token punctuation">:</span> <span class="token string">'å“ˆå“ˆå“ˆ'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'2.txt'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span> <span class="token string">'heool word'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol>
<li>æ·»åŠ å›¾ç‰‡, åœ¨mailOptionsæ·»åŠ </li>
</ol>
<pre class="line-numbers language-javascript"><code class="language-javascript">attachments<span class="token punctuation">:</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'æ–‡æ¡£.txt'</span><span class="token punctuation">,</span>
    content<span class="token punctuation">:</span> <span class="token string">'å“ˆå“ˆå“ˆ'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    filename<span class="token punctuation">:</span> <span class="token string">'01.png'</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// image</span>
    path<span class="token punctuation">:</span> <span class="token string">'./flow.png'</span><span class="token punctuation">,</span>   <span class="token comment" spellcheck="true">// å›¾ç‰‡è·¯å¾„</span>
    cid<span class="token punctuation">:</span> <span class="token string">'00000001'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> Nodejs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Nodejs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[project]]></title>
      <url>/2017/11/06/project/</url>
      <content type="html"><![CDATA[<h4 id="è®¾è®¡å›¾å‡ºä»£ç "><a href="#è®¾è®¡å›¾å‡ºä»£ç " class="headerlink" title="è®¾è®¡å›¾å‡ºä»£ç "></a>è®¾è®¡å›¾å‡ºä»£ç </h4><p>æ ¹æ®è®¾è®¡å›¾ï¼Œå¦‚ä½•å†™å‡ºå¥½çš„ä»£ç ã€‚è®¾è®¡å›¾æ˜¯ä¸€å¼ ä¸€å¼ çš„å‡ºçš„ï¼Œå› ä¸ºä¸çŸ¥é“å“ªä¸€å—ä¼šåœ¨å…¶ä»–çš„è®¾è®¡å›¾ä¸­å‡ºç°ï¼Œäºæ˜¯åªçœ‹åˆ°å½“ä¸‹å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½çš„æƒ³æ³•ã€‚çœ‹åˆ°ä¸€å¼ å›¾ï¼Œå¯ä»¥å…ˆæ€è€ƒä¸€ä¸‹ï¼Œå“ªä¸€å—æœ‰å¯èƒ½è¢«å¤ç”¨ã€‚åœ¨classçš„å‘½åä¸Šå°±ä¼šæœ‰æ‰€æ”¹å˜â€¦åˆšå¼€å§‹ä¸€ä¸ªå…ƒç´ åœ¨ä¸»é¡µå‡ºç°ï¼Œæˆ‘å¯ä»¥ç»™å®ƒå‘½å<code>home__XX</code>ï¼Œä½†æ˜¯å½“è¿™ä¸ªå…ƒç´ ä¹Ÿåœ¨æ–‡ç« é¡µé¢å‡ºç°æ—¶ï¼Œå†èµ·ä¸€ä¸ªclassï¼Œé‡å¤å†™ä¸€æ ·çš„cssï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„æƒ³æ³•ï¼Œä½†æ˜¯å°†è¿™ä¸ªç±»åç›´æ¥å†™åœ¨æ–‡ç« é¡µï¼Œçœ‹ç€åˆå¾ˆä¸çˆ½ã€‚åœ¨é¡¹ç›®ä¸­ï¼Œä½¿ç”¨<code>scss</code>ç”¨æ¥å¼€å‘ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥æ”¹å˜ç±»åæˆ–è€…ä½¿ç”¨<code>@include</code>å’Œ<code>@extend</code>æ¥ç»„ç»‡ä»£ç ã€‚<br>jséƒ¨åˆ†ï¼Œä¸æ­¢å®ç°åŠŸèƒ½ï¼Œä¹Ÿè¦ä¿è¯ä¼˜é›…ã€‚ä¾‹å¦‚ä¸€ä¸ªå‚æ•°å¯èƒ½æ˜¯æ•°ç»„æˆ–è€…stringï¼Œä½ å¯ä»¥è¿™æ ·å†™ï¼š</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> argument <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//...</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> argument <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">//...</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¹Ÿå¯ä»¥è¿™æ ·</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token punctuation">{</span>
  string<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//... },</span>
  object<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//... }</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> map<span class="token punctuation">[</span><span class="token keyword">typeof</span> argument<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="æ–‡ä»¶å¤¹ç»„ç»‡"><a href="#æ–‡ä»¶å¤¹ç»„ç»‡" class="headerlink" title="æ–‡ä»¶å¤¹ç»„ç»‡"></a>æ–‡ä»¶å¤¹ç»„ç»‡</h4><p>æ ¹æ®é¡¹ç›®éœ€è¦ç»„ç»‡å‡ºåˆé€‚çš„æ–‡ä»¶ç»“æ„ï¼Œæ–‡ä»¶åä¹Ÿè¦æ›´å¥½çš„è¡¨è¾¾å‡ºè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ï¼Œä½¿ä¹‹æ¸…æ™°â€¦</p>
<h4 id="é‡æ„"><a href="#é‡æ„" class="headerlink" title="é‡æ„"></a>é‡æ„</h4><p>å¼€å‘çš„è¿‡ç¨‹ä¸­ï¼Œä»£ç é‡è¶Šæ¥è¶Šå¤§ï¼Œè¿™æ—¶å€™å¯ä»¥è€ƒè™‘ä¸€ä¸‹ä»£ç çš„é‡æ„ã€‚é‡æ„æ˜¯ä¸å¤§å¹…åº¦æ”¹å˜ä»£ç çš„åŸºç¡€ä¸Šè¿›è¡Œçš„â€¦å¤§å¹…åº¦çš„é‡æ„ç”šè‡³é‡å†™ä¸èƒ½ç§°ä½œé‡æ„â€¦æ¨èä¹¦ç±ï¼šé‡æ„:æ”¹å–„æ—¢æœ‰ä»£ç çš„è®¾è®¡</p>
]]></content>
      
        <categories>
            
            <category> éšç¬” </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[pm2]]></title>
      <url>/2017/09/13/pm2/</url>
      <content type="html"><![CDATA[<h4 id="ç”±æ¥"><a href="#ç”±æ¥" class="headerlink" title="ç”±æ¥"></a>ç”±æ¥</h4><p>å˜¤å˜¤ï¼Œçœ‹åˆ°<code>ruby</code>ä¸­æœ‰ä¸€ä¸ª<code>gem</code>å«åš<code>capistrano</code>ï¼Œ ä½¿ç”¨å®ƒå¯ä»¥å®ç°ä¸€é”®éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šäº†ã€‚<br>ä¹‹å‰åœ¨æ‡µé‡Œæ‡µæ‡‚çš„æ—¶å€™ï¼Œåšäº†ä¸€ä¸ªç½‘ç«™ï¼Œæ¯æ¬¡æ›´æ”¹åï¼Œæˆ‘éƒ½ç”¨<code>filezilla</code>å°†æ–°ç‰ˆæœ¬çš„ä»£ç ä¸Šä¼ ï¼Œå†restarté¡¹ç›®ï¼Œè¶…çº§è´¹åŠ²ã€‚<br>çœ‹åˆ°rubyåï¼Œäºæ˜¯èµ¶ç´§å»ç½‘ä¸Šæœäº†æœï¼Œ<code>pm2</code>å¯ä»¥åšè¿™ä»¶äº‹ã€‚ä¹‹å‰ä¹Ÿè§åˆ°è¿‡<code>pm2</code>ï¼Œé‚£æ—¶å€™æˆ‘åœ¨å¯»æ±‚å®ˆæŠ¤è¿›ç¨‹çš„moduleï¼Œä½†æ˜¯æˆ‘é€‰æ‹©äº†<code>forever</code>ã€‚</p>
<h4 id="ä½¿ç”¨pm2å®ç°è‡ªåŠ¨éƒ¨ç½²"><a href="#ä½¿ç”¨pm2å®ç°è‡ªåŠ¨éƒ¨ç½²" class="headerlink" title="ä½¿ç”¨pm2å®ç°è‡ªåŠ¨éƒ¨ç½²"></a>ä½¿ç”¨pm2å®ç°è‡ªåŠ¨éƒ¨ç½²</h4><p><a href="https://github.com/i5ting/nodejs-fullstack/blob/master/deploy.md" target="_blank" rel="noopener">è¿™ä¸ªé“¾æ¥å¯¹æˆ‘çš„å¸®åŠ©å¾ˆå¤§</a>ï¼ŒåŸºæœ¬ä¸ŠæŒ‰ç…§ä»–çš„æ­¥éª¤æ¥åº”è¯¥æ˜¯å¯ä»¥å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚</p>
<h5 id="å‡ºç°çš„é—®é¢˜"><a href="#å‡ºç°çš„é—®é¢˜" class="headerlink" title="å‡ºç°çš„é—®é¢˜"></a>å‡ºç°çš„é—®é¢˜</h5><p>æœåŠ¡å™¨ä¸Šçš„nodeæ˜¯æˆ‘å¾ˆä¹…ä¹‹å‰å®‰è£…çš„ï¼Œä½†æ˜¯<code>pm2</code>è¦æ±‚ä½¿ç”¨<code>nvm</code>ï¼Œäºæ˜¯è£…äº†<code>nvm</code>ï¼Œä½†æ˜¯åˆ°äº†â€œå…‹éš†å¥½ä¹‹åæ‰§è¡Œå®‰è£…å’Œå¯åŠ¨â€ï¼Œè¿™ä¸€æ­¥æŠ¥é”™ï¼šnpm è¿™ä¸ªå‘½ä»¤æ‰¾ä¸åˆ°ã€‚å»å¯»æ‰¾è§£å†³åŠæ³•ï¼Œæœ‰çš„è¯´å°†<code>.bashrc</code>æ–‡ä»¶ä¸­çš„å…³äº<code>nvm</code>çš„éƒ¨åˆ†æ”¾åœ¨æœ€ä¸Šé¢ï¼Œè¿˜æœ‰çš„è¯´è¦ä½¿ç”¨nvmé‡æ–°å®‰è£…nodeï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•éƒ½è¯•äº†ï¼Œä½†æ˜¯éƒ½æ²¡æœ‰è§£å†³é”™è¯¯ã€‚äºæ˜¯æˆ‘åªèƒ½å»<code>pm2</code>çš„ç›®å½•ä¸­çš„sourceæ–‡ä»¶å¤¹ï¼Œæ‰‹åŠ¨å»æ‰§è¡Œ<code>npm install</code> å’Œ <code>pm2 start app.js</code></p>
<p>ç­‰å¾…updateå¾—åˆ°è§£å†³æ–¹æ¡ˆï¼š</p>
<h4 id="nginxè½¬å‘"><a href="#nginxè½¬å‘" class="headerlink" title="nginxè½¬å‘"></a>nginxè½¬å‘</h4><p>æœ€æš´åŠ›çš„æ–¹æ³•å°±æ˜¯ä¸‹é¢ğŸ‘‡çš„ä»£ç ï¼š</p>
<pre><code>server{
    listen 80;
    server_name xxx.xxx.xxx;(åŸŸå)
    location / {
        proxy_pass http://127.0.0.1:3000
    }
}
</code></pre><p>ç›®å‰å¯ä»¥è§£å†³æˆ‘çš„éœ€è¦ï¼Œå‡å¦‚è¿˜æœ‰å…¶ä»–çš„ç«¯å£éœ€è¦ç›‘å¬è¯¥æ€ä¹ˆåŠï¼Ÿ</p>
]]></content>
      
        <categories>
            
            <category> Nodejs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[linux-first]]></title>
      <url>/2017/09/13/linux-first/</url>
      <content type="html"><![CDATA[<p>å¯¹å¾…è‡ªå·±çš„æœåŠ¡å™¨ï¼Œæƒ³ç€åæ­£ä¹Ÿæ²¡äººæ”»å‡»ï¼Œä¹Ÿå°±ä»æ¥æ²¡åœ¨æ„è¿‡ã€‚<br>å‰å¤©å¾—åˆ°äº†ä¸€ä¸ªè®¯å·ï¼šè¦å¥½å¥½å¯¹å¾…æœåŠ¡å™¨ï¼Œç¬¬ä¸€æ­¥å°±æ˜¯å®‰å…¨æ€§ï¼Œ ä½ éœ€è¦è¿™ä¹ˆåš</p>
<ol>
<li>ä½¿ç”¨rootè´¦æˆ·ç™»å½•åï¼Œåˆ›å»ºä¸€ä¸ªç”¨æˆ·å¹¶è®¾ç½®å¯†ç ï¼Œå¦‚æœæœ‰å¿…è¦ï¼Œå°±èµ‹äºˆç”¨æˆ·rootæƒé™</li>
<li>ä¸Šä¼ ssh-keyï¼Œä¸Šä¼ æˆåŠŸåï¼Œä½ å°±ä¸ç”¨è¾“å…¥å¯†ç ç™»å½•æœåŠ¡å™¨äº†</li>
<li>å…³é—­å¯†ç ç™»å½•ï¼Œæ‰“å¼€ssh-keyç™»å½•</li>
<li>ä»¥åå°±ä½¿ç”¨ä½ æ–°å»ºçš„ç”¨æˆ·ç™»å½•å§</li>
</ol>
]]></content>
      
        <categories>
            
            <category> linux </category>
            
        </categories>
        
        
        <tags>
            
            <tag> linux </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[week6]]></title>
      <url>/2017/09/03/week6/</url>
      <content type="html"><![CDATA[<p>ä¸¾ä¸€ä¸ªæ —å­ğŸŒ°ï¼šåœ¨åˆ†é¡µæ—¶ï¼Œä½ é€šå¸¸ä¼šçœ‹åˆ°<code>url</code>ä¸Šä¸€èˆ¬æ˜¯<code>xxx?page=1</code><br>é€šå¸¸çš„åšæ³•æ˜¯ç‚¹å‡»ç¬¬å‡ é¡µç›´æ¥è·³è½¬é¡µé¢ï¼Œæ˜¯é€šè¿‡locationè¿›è¡Œçš„<br>ç°åœ¨çš„éœ€æ±‚æ˜¯ï¼šåœ¨è·³è½¬é¡µé¢çš„æ—¶å€™ï¼Œæˆ‘æ—¢æƒ³è¦æ”¹å˜urlï¼ŒåŒæ—¶æˆ‘åªéœ€è¦æ”¹å˜åˆ†é¡µçš„æ•°æ®ï¼Œè€Œä¸éœ€è¦æ•´ä¸ªé¡µé¢é‡ç»˜ã€‚</p>
<h4 id="â€”â€“"><a href="#â€”â€“" class="headerlink" title="â€”â€“"></a>â€”â€“</h4><p>å¾ˆå¹¸è¿<code>history</code>æä¾›äº†è¿™ä¹ˆä¸€ä¸ªæ–¹æ³•<code>pushState</code>ï¼Œå®ƒæœ‰ä¸‰ä¸ªå‚æ•°ï¼šstate objectï¼Œtitleï¼Œä»¥åŠä¸€ä¸ªå¯é€‰çš„URLåœ°å€ã€‚ç¬¬äºŒä¸ªå‚æ•°title:ç°åœ¨firefoxå’Œchromeå·²ç»å¿½ç•¥è¯¥å‚æ•°</p>
<pre class="line-numbers language-js"><code class="language-js">window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span><span class="token string">'title'</span><span class="token punctuation">,</span><span class="token string">'?page=1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API" target="_blank" rel="noopener">pushStateå‚è€ƒé“¾æ¥</a></p>
]]></content>
      
        <categories>
            
            <category> javascript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[coursera-3]]></title>
      <url>/2017/09/03/coursera-3/</url>
      <content type="html"><![CDATA[<h3 id="æ·¡æ·¡çš„å¿§ä¼¤"><a href="#æ·¡æ·¡çš„å¿§ä¼¤" class="headerlink" title="æ·¡æ·¡çš„å¿§ä¼¤"></a>æ·¡æ·¡çš„å¿§ä¼¤</h3><p>three time æ˜¯ä¸‰å€çš„æ„æ€</p>
<h3 id="å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€"><a href="#å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€" class="headerlink" title="å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€"></a>å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€</h3><p>ç›®å‰å­¦ä¹ ä¸€é—¨æ–°çš„è¯­è¨€ä»…ä»…åœç•™åœ¨<code>Syntax</code>ï¼Œä½†æ˜¯çœŸçš„è¦æŠŠä»£ç å†™çš„ä¼˜é›…ï¼Œä½ æ›´è¦äº†è§£å®ƒçš„<code>Type-checking</code>å’Œ<code>Evalustion</code>ï¼Œäº†è§£è¿™ä¸¤è€…ä¹‹åï¼Œä½ èƒ½çŸ¥é“ä»£ç åœ¨å“ªé‡Œå¯ä»¥ä¼˜åŒ–ï¼Œè€Œä¸æ˜¯ä»£ç çš„ä¼˜åŒ–æ˜¯åœ¨å†™ä»£ç ä¸­æˆ–è€…çœ‹åˆ°åˆ«äººçš„ä»£ç æ—¶çœ‹åˆ°çš„<br>ç›®å‰è¿™ä¸ªæ–¹é¢éœ€è¦æ”¹å˜ï¼Œæ€æƒ³çš„è½¬å˜â€¦<br>äººçš„æ€æƒ³éƒ½æ˜¯åœ¨è‚¤æµ…å‘æ·±æ²‰è½¬å˜ğŸ˜„</p>
<h3 id="åº”ç”¨ç±»å‹"><a href="#åº”ç”¨ç±»å‹" class="headerlink" title="åº”ç”¨ç±»å‹"></a>åº”ç”¨ç±»å‹</h3><p>ä¸‹é¢æ˜¯ä¸€æ®µjavaä»£ç ï¼Œä¹çœ‹ä¸Šå»æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯ä½¿ç”¨<code>p.getAllowesUsers[0] = p.currentUser</code>ï¼Œè¿™ä¸€å¥ä»£ç ä½¿æƒé™å½¢åŒè™šè®¾ã€‚<br>åŸå› æ˜¯ï¼š<code>getAllowesUsers</code>ä¸­ç›´æ¥è¿”å›çš„æ˜¯<code>allowedUsers</code>ï¼Œæˆ‘å°è¯•ä¿®æ”¹<code>p.getAllowesUsers</code>çš„å€¼, å®é™…ä¸Šä¿®æ”¹äº†ç¤ºä¾‹çš„ç§æœ‰å˜é‡çš„<code>allowedUsers</code>çš„å€¼<br>ä¿®æ”¹ï¼š åœ¨<code>getAllowesUsers</code>ä¸­ç›´æ¥è¿”å›çš„æ˜¯<code>allowedUsers</code>çš„ä¸€ä¸ªå…‹éš†</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">ProtextedResource</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> Resource theResource <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> allowedUsers <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> String<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getAllowesUsers</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> allowedUsers<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> String <span class="token function">currentUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// ...</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">useTheResource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> allowedUsers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">currentUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>allowedUsers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token comment" spellcheck="true">// access allowed: use it</span>
        <span class="token keyword">return</span> <span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¹‹å‰åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘å®šä¹‰äº†ä¸€ä¸ª<code>default</code>çš„å€¼ï¼Œåˆå¹¶å¯¹è±¡é€‰çš„æ˜¯<code>lodash</code>çš„<code>extend</code>,å› ä¸ºæ²¡æœ‰çœ‹æ–‡æ¡£å°±ç›´æ¥ä½¿ç”¨äº†ï¼Œ<code>extend(default, options)</code>ï¼Œå‘ç”Ÿäº†bugã€‚æˆ‘çš„æœ¬æ„æ˜¯defaultæ˜¯ä¸€ä¸ªä¸å¯å˜çš„å€¼ï¼Œå®ƒä½œä¸ºä¸€ä¸ªå‡½æ•°çš„é»˜è®¤å€¼ã€‚ç»è¿‡é•¿æ—¶é—´ğŸ˜…çš„è°ƒè¯•ï¼Œæˆ‘å‘ç°<code>default</code>çš„å€¼æ”¹å˜äº†ï¼Œå»çœ‹æ–‡æ¡£å‘ç°<code>extend</code>ä¼šæ”¹å˜ç¬¬ä¸€ä¸ªå‚æ•°çš„å€¼ã€‚äºæ˜¯æ›´æ”¹ä¸º<code>extend({}, default, options)</code><br>å½“åº”ç”¨ç±»å‹ä½œä¸ºå‡½æ•°çš„å‚æ•°ï¼Œä¸€å®šè¦ç‰¹åˆ«æ³¨æ„ï¼Œå°½é‡ä½¿ç”¨å®å‚çš„cloneå€¼ï¼Œè¦ä¸åœ¨å‡½æ•°ä¸­ä¿®æ”¹å‚æ•°çš„å€¼ï¼Œå°±ç›¸å½“äºä¿®æ”¹å®å‚çš„å€¼äº†â€¦</p>
<h3 id="å°¾é€’å½’"><a href="#å°¾é€’å½’" class="headerlink" title="å°¾é€’å½’"></a>å°¾é€’å½’</h3><p>é€’å½’åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥ä»£æ›¿<code>loop</code>ï¼Œä¸€æ–¹é¢å®ƒçœ‹èµ·æ¥æ›´ä¼˜é›…ï¼Œå¦ä¸€æ–¹é¢â€¦<br>ä¸‹é¢çš„ä»£ç ä¸Šé¢çš„å‡½æ•°æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨çš„æ–¹å¼ï¼Œé€šä¿—æ˜“æ‡‚ã€‚ä¸‹é¢çš„é€’å½’ç§°ä¸ºå°¾é€’å½’ã€‚ä¸¤ç§å‡½æ•°å®ç°çš„åŠŸèƒ½ç›¸åŒã€‚ä½†æ˜¯è‹¥è¦åˆ†æåˆ°stackå¤„ï¼Œä½ ä¼šå‘ç°ä¸‹é¢çš„å‡½æ•°æ¯”ä¸Šé¢çš„å‡½æ•°æœ‰æ›´å¥½çš„æ€§èƒ½ï¼›é¦–å…ˆä¸Šé¢çš„å‡½æ•°æ¶‰åŠåˆ°æ¯æ¬¡é€’å½’éƒ½è¦å»è¿›æ ˆå’Œå‡ºæ ˆåæ‰èƒ½å¾—åˆ°å°±è¿‡ï¼Œä½†æ˜¯ä¸‹é¢çš„å‡½æ•°å´æ²¡æœ‰è¿™æ ·çš„æ“ä½œã€‚<br>è€Œä¸”åœ¨<code>Evalustion</code>é˜¶æ®µï¼Œä¸Šæ–¹çš„å‡½æ•°æœ€ç»ˆç»“æœçš„æ•°æ®ç±»å‹éœ€è¦ä¾èµ–ä¸Šä¸€æ­¥çš„ç»“æœï¼›ä¸‹é¢çš„å‡½æ•°æ—¶ä¸éœ€è¦ä¸Šä¸€æ­¥çš„è®¡ç®—ç»“æœ</p>
<pre class="line-numbers language-ml"><code class="language-ml">fun sum1 xs =
    case xs of
        [] => 0
      | i::xsâ€™ => i + sum1 xsâ€™

(* tail recursion*)
fun sum2 xs =
    let fun f (xs,acc) =
            case xs of
                [] => acc
              | i::xsâ€™ => f(xsâ€™,i+acc)
    in
    f(xs,0)
    end
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å°±åˆ°è¿™å§â€¦ğŸ˜ª</p>
]]></content>
      
        <categories>
            
            <category> ç¼–ç¨‹è¯­è¨€ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ç¼–ç¨‹è¯­è¨€ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[week5]]></title>
      <url>/2017/08/26/week5/</url>
      <content type="html"><![CDATA[<p>ä¸Šå‘¨æ²¡å†™æ€»ç»“â€¦</p>
<h3 id="ifæ¡ä»¶ä»€ä¹ˆæ—¶å€™ä¸ºfalse"><a href="#ifæ¡ä»¶ä»€ä¹ˆæ—¶å€™ä¸ºfalse" class="headerlink" title="ifæ¡ä»¶ä»€ä¹ˆæ—¶å€™ä¸ºfalse"></a>ifæ¡ä»¶ä»€ä¹ˆæ—¶å€™ä¸ºfalse</h3><p>å› ä¸ºreactå…±ç”¨ç»„ä»¶ï¼Œä½†æ˜¯ä¼ è¿‡æ¥çš„å€¼çš„ç»“æ„ä¸åŒï¼Œäºæ˜¯ä½¿ç”¨||æ¥è¿›è¡Œåˆ¤æ–­é€‰æ‹©ï¼Œäºæ˜¯å†™äº†ä»¥ä¸‹ä»£ç æ”¾å¿ƒçš„æä¸Šå»äº†</p>
<pre><code>const count = node.count || node.usage_count || node.total_count
</code></pre><p>å‘ç°æŠ¥total_countæ˜¯undefinedï¼Œè¿™ä¸ªæˆ‘ä»”ç»†çœ‹äº†ä»£ç æ²¡æ‰¾å‡ºæ¥å“ªé”™äº†ï¼Œäºæ˜¯æŠŠç”Ÿäº§ç¯å¢ƒçš„æ•°æ®åº“æ‹¿ä¸‹æ¥ï¼Œå¼€å§‹è°ƒè¯•â€¦æœ€åå‘ç°å› ä¸º<code>usage_count</code>çš„å€¼ä¸ºé›¶çš„æ—¶å€™ï¼Œä¼šç»§ç»­å¾€åæ‰§è¡Œï¼Œå› ä¸º<code>node.usage_count</code>å€¼ä¸º0ï¼Œjsä¼šè®¤ä¸ºæ˜¯falseâ€¦<br>æˆ‘çš„åŸæ„æ˜¯ä¸ºundefinedçš„æ—¶å€™ï¼Œä¼šç»§ç»­å‘åæ‰§è¡Œã€‚ä½¿ç”¨jså¾ˆéšä¾¿ï¼Œä½†æ˜¯å¿˜è®°äº†éšä¾¿çš„å‰¯ä½œç”¨ã€‚äºæ˜¯æˆ‘åªèƒ½ç”¨ifâ€¦elseâ€¦å»åˆ¤æ–­undefinedäº†<br>ğŸ‘‰å½“ifè¯­å¥ä¸­çš„å˜é‡ä¸ºfalseï¼Œ0ï¼ŒNaNï¼Œç©ºå­—ç¬¦ä¸²ï¼Œnullï¼Œundefinedæ—¶ï¼Œåˆ¤æ–­ç»“æœä¸ºå‡;</p>
<h3 id="å›¾ç‰‡æ˜¯ä½¿ç”¨èƒŒæ™¯å›¾è¿˜æ˜¯imgæ ‡ç­¾"><a href="#å›¾ç‰‡æ˜¯ä½¿ç”¨èƒŒæ™¯å›¾è¿˜æ˜¯imgæ ‡ç­¾" class="headerlink" title="å›¾ç‰‡æ˜¯ä½¿ç”¨èƒŒæ™¯å›¾è¿˜æ˜¯imgæ ‡ç­¾"></a>å›¾ç‰‡æ˜¯ä½¿ç”¨èƒŒæ™¯å›¾è¿˜æ˜¯imgæ ‡ç­¾</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘çš„ä¹ æƒ¯æ˜¯å›¾ç‰‡ä¸€èˆ¬ä½¿ç”¨imgæ ‡ç­¾æ’å…¥é¡µé¢ã€‚<br>ä½†æ˜¯ï¼Œå‡å¦‚ä¸€ä¸ªç½‘ç«™æœ‰ä¸­æ–‡è‹±æ–‡ä¸¤ä¸ªç‰ˆæœ¬ï¼Œé€šè¿‡ç±»åçš„åˆ‡æ¢è€Œä¸æ˜¯è·³è½¬é¡µé¢å¯ä»¥å®ç°ä¸­è‹±æ–‡çš„åˆ‡æ¢ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±ä¸è¦imgæ ‡ç­¾ï¼Œè€Œæ˜¯èƒŒæ™¯å›¾çš„å½¢å¼æ’å…¥å›¾ç‰‡ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼šå›¾ç‰‡æ˜¯åœ¨cssè®¾ç½®çš„ï¼Œæˆ‘å¯ä»¥ä¸ºå…ƒç´ è®¾ç½®ä¸åŒçš„ç±»åè¿›è€Œåˆ‡æ¢å›¾ç‰‡</p>
<h3 id="BEMä¸åº”è¯¥åµŒå¥—å¤ªæ·±"><a href="#BEMä¸åº”è¯¥åµŒå¥—å¤ªæ·±" class="headerlink" title="BEMä¸åº”è¯¥åµŒå¥—å¤ªæ·±"></a>BEMä¸åº”è¯¥åµŒå¥—å¤ªæ·±</h3><p>BEMå‘½åçš„æ–¹å¼ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªblocké‡Œé¢åŒ…å«element,æ‰€ä»¥æˆ‘æ˜¯ä¸€ä¸ªblockä¸€å±‚æ¥çš„ã€‚å¤§å“¥å‘Šè¯‰æˆ‘è¿™æ ·æ˜¯ä¸å¯¹çš„ï¼Œåˆ’åˆ†blockæ²¡æœ‰é”™ï¼Œä½†æ˜¯åœ¨å‘½åä¸å†²çªçš„æƒ…å†µä¸‹ï¼Œblockä¸­çš„elementçš„ç±»åæ²¡æœ‰å¿…è¦ä¸€å®šæŒ‰ç…§blockçš„ç±»åå¼€å¤´ã€‚</p>
<h3 id="ä¸€å®šè¦é€‰å¥½å…ƒç´ "><a href="#ä¸€å®šè¦é€‰å¥½å…ƒç´ " class="headerlink" title="ä¸€å®šè¦é€‰å¥½å…ƒç´ "></a>ä¸€å®šè¦é€‰å¥½å…ƒç´ </h3><p>ä¹‹å‰åštabåˆ‡æ¢çš„æ—¶å€™ï¼Œå’‹æ”¹éƒ½æ²¡è¾¾åˆ°æƒ³è¦çš„æ•ˆæœã€‚çœ‹äº†å¤§å“¥çš„ä»£ç ï¼Œæ‰å‘ç°è‡ªå·±é€‰é”™å…ƒç´ äº†ã€‚åº”è¯¥é€‰æ‹©sectionçš„çˆ¶å…ƒç´ è€Œä¸æ˜¯æ¯ä¸ªsectionâ€¦å†™ä»£ç ä¹‹å‰æ²¡æœ‰ç»è¿‡ä¸¥å¯†çš„æ€è€ƒï¼Œé‡åˆ°é”™è¯¯æ—¶ï¼Œæ€æƒ³å—åˆ°äº†é™åˆ¶ï¼Œå¯¼è‡´æ²¡æƒ³åˆ°æ­£ç¡®çš„æ–¹å‘å»â€¦</p>
<h3 id="calc"><a href="#calc" class="headerlink" title="calc"></a>calc</h3><p>css3ä¸­çš„calcè¿™ä¸ªè®¡ç®—å±æ€§è¶…çº§å¥½ç”¨ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">100%</span>-<span class="token number">75</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä»¥ä¸Šä»£ç ä¸èµ·ä½œç”¨ï¼Œè®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œç»è¿‡æŸ¥è¯¢ä¹‹åï¼Œéœ€è¦æ³¨æ„çš„æ˜¯<code>-</code>å·ä¸¤è¾¹è¦æœ‰ç©ºæ ¼</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span><span class="token number">100%</span> - <span class="token number">75</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="display-flex-å…¼å®¹æ€§"><a href="#display-flex-å…¼å®¹æ€§" class="headerlink" title="display:flex;å…¼å®¹æ€§"></a>display:flex;å…¼å®¹æ€§</h3><p>ç½‘ç«™è¦å…¼å®¹åˆ°IE9ï¼Œè€Œflexæ˜¯ä»ie10å…¼å®¹çš„ã€‚æ‰¾hackä½†æ˜¯æ²¡æœ‰åªå¯¹IE9èµ·ä½œç”¨çš„hackâ€¦å”‰ï¼Œä½¿ç”¨<code>\9</code>çš„hackï¼Œå®ƒä¹Ÿåœ¨IE10ä¸‹èµ·ä½œç”¨<br>å¯¹äºIE9çš„å…¼å®¹ï¼Œæˆ‘ä¸€èˆ¬ä½¿ç”¨<code>display: table;</code>å’Œ<code>display: table-cell;</code>ã€‚æ­¤æ—¶ä½ åœ¨è®¾ç½®å­å…ƒç´ çš„marginæ˜¯ä¸èµ·ä½œç”¨çš„ï¼Œæ­¤æ—¶ä½ æƒ³è¦çš„æ•ˆæœè¿™ä¸¤ä¸ªcsså±æ€§å¯ä»¥è¾¾åˆ°ä½ çš„éœ€æ±‚<code>border-collapse: separate;</code>ã€<code>border-spacing: 5rem</code>ã€‚</p>
]]></content>
      
        <categories>
            
            <category> éšç¬” </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[week5-1]]></title>
      <url>/2017/08/26/coursera-2/</url>
      <content type="html"><![CDATA[<h3 id="è¯´åœ¨å‰é¢çš„è¯"><a href="#è¯´åœ¨å‰é¢çš„è¯" class="headerlink" title="è¯´åœ¨å‰é¢çš„è¯"></a>è¯´åœ¨å‰é¢çš„è¯</h3><p>æœ€åˆå¯¹å¾…è¯­è¨€çš„çœ‹æ³•ï¼šç›¸æ¯”è¯­è¨€æ›´é‡è¦çš„æ˜¯ç”±ç¼–ç¨‹æ€æƒ³ï¼Œè¯­è¨€åªæ˜¯ä¸€ç§å·¥å…·ã€‚æ‰€ä»¥å¯¹äºåªåœç•™åœ¨Syntaxé˜¶æ®µï¼Œæ²¡æœ‰å»æ·±ç©¶è¯­è¨€çš„å†…åœ¨ã€‚<br>ä¹‹å‰åœ¨å­¦ä¹ C++çš„æ—¶å€™ï¼Œè€å¸ˆä¹Ÿè®²è¿‡ä¸€äº›å†…å­˜æ–¹é¢â€¦ä¾‹å¦‚ä¸€æ®µå¾ˆç®€å•çš„ä»£ç ï¼Œåœ¨C++ä¸­ä¼šé€ æˆæ­»å¾ªç¯â€¦ä»£ç ç‰‡æ®µæˆ‘è¿˜æ˜¯æ²¡æ‰¾åˆ°â€¦<br>åœ¨å­¦ç¼–è¯‘åŸç†çš„æ—¶å€™ï¼Œä¹Ÿå­¦è¿‡è¯æ³•åˆ†æã€è¯­æ³•æ ‘ç­‰ç­‰â€¦ä½†æ˜¯æ€»æ˜¯æ¥è¯´å¯¹äºè¯­è¨€è¿˜æ˜¯åˆä¸€ä¸ªæ¨¡ç³Šçš„æ¦‚å¿µ<br>è¿‘æœŸåœ¨courseraçœ‹ä¸€é—¨è¯¾ç¨‹ï¼Œæ”¶è·å¾ˆå¤§ã€‚åˆšå¼€å§‹çœ‹è§†é¢‘ï¼Œå› ä¸ºè‡ªå·±çš„è‹±è¯­èƒ½åŠ›è–„å¼±ï¼Œåˆšå¼€å§‹çœ‹çš„æ—¶å€™ï¼Œæ¨ä¸å¾—æ¯å¥è¯éƒ½Google tanslateä¸€éï¼Œçœ‹å¤šäº†å°±ä¹ æƒ¯äº†ï¼Œå› ä¸ºå¤§éƒ¨åˆ†çš„æœ¯è¯­ä½ å·²ç»çŸ¥é“æ„æ€äº†ï¼Œæ‰€ä»¥èƒ½çŸ¥é“å¤§æ¦‚çš„æ„æ€ã€‚Googleç¿»è¯‘çš„æ„æ€ï¼Œå› ä¸ºä¸çŸ¥é“æœ¯è¯­æ‰€ä»¥ç¿»è¯‘å‡ºæ¥ä¹Ÿå¾ˆå¥‡ç‰¹ã€‚ç›®å‰æ˜¯ä»¥MLä¸ºä¾‹è®²è§£çš„</p>
<h3 id="variable-binding"><a href="#variable-binding" class="headerlink" title="variable binding"></a>variable binding</h3><p>å˜é‡çš„ç»‘å®šä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªç¯å¢ƒï¼šé™æ€ç¯å¢ƒè®°å½•äº†å˜é‡çš„ç±»å‹ï¼›åŠ¨æ€ç¯å¢ƒè®°å½•äº†å˜é‡çš„å€¼</p>
<pre class="line-numbers language-ML"><code class="language-ML">val x = 34
(* static env : x : int *)
(* dynamic env : x -> 34 *)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="rules-to-expressions"><a href="#rules-to-expressions" class="headerlink" title="rules to expressions"></a>rules to expressions</h3><p>å®ƒå…±æœ‰ä¸‰ä¸ªéƒ¨åˆ†ï¼šè¯­æ³•æ£€æŸ¥ã€ç±»å‹æ£€æŸ¥å’Œè¯„ä¼°è§„åˆ™</p>
<pre class="line-numbers language-ML"><code class="language-ML">Syntax:
  if el then e2 else e3
  where if, then, and else are keywords and
  e1, e2, and e3 are subespressions

Type-checking:
  first el must have bool type
  e2 and e3 can hav any type(let`s call it t), but they
  must have the same type t
  the type of the entire expression is also t

Evalustion rules:
  first evalustion el to a value call it v1
  if it`s true, evaluate e2 and that result is the whole expression`s result
  else, evaluate e3 and that result is the whole expression`s result
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="shadowing"><a href="#shadowing" class="headerlink" title="shadowing"></a>shadowing</h3><p>å½“ä½ é‡å¤å£°æ˜ç›¸åŒçš„å˜é‡æ—¶ï¼Œä¹‹å‰å£°æ˜çš„å€¼å°±ä¼šè¢«è¦†ç›–ï¼Œå½“ä½ åœ¨REPLä¸­çœ‹å®ƒçš„å€¼çš„æ—¶å€™ï¼Œå°±ä¼šå˜æˆhidden valueï¼Œæ‰€ä»¥ä¸å»ºè®®é‡å¤å£°æ˜å˜é‡</p>
<pre class="line-numbers language-ML"><code class="language-ML">val x = 34
val x = 45    (* this is not assiginment statement *)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h3><p>MLè¯­è¨€æ²¡æœ‰forå¾ªç¯ï¼Œæ‰€ä»¥åœ¨å¯¹äºlistç±»å‹çš„æ•°æ®ï¼Œä¼šå°è¯•ä½¿ç”¨é€’å½’å»è§£å†³é—®é¢˜ï¼Œä½†æ˜¯å°å¿ƒå“¦ï¼Œä¸æ°å½“çš„ä½¿ç”¨é€’å½’ï¼Œä¼šä½¿è¿è¡Œæ¬¡æ•°å‘ˆæŒ‡æ•°å¼å¢é•¿ã€‚<br>ä¸‹é¢æ˜¯æ±‚listä¸­çš„æœ€å¤§å€¼ï¼Œå¯ä»¥ç®€å•ç²—æš´çš„ç†è§£æˆæ±‚æ•°ç»„ä¸­çš„æœ€å¤§å€¼</p>
<pre class="line-numbers language-ML"><code class="language-ML">fun bad_max(numbers: int list) =
  if null numbers
  then 0
  else if null tl numbers
  then hd numbers
  else if hd numbers > bad_max(tl numbers)
  then hd numbers
  else bad_max(tl numbers)
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä¸Šé¢ä»£ç é€»è¾‘æ¸…æ™°ï¼Œé€šä¿—æ˜“æ‡‚ï¼Œä½†æ˜¯ä½¿ç”¨çš„æ—¶å€™ï¼Œå‡å¦‚æ•°ç»„ä¸­çš„æ•°æ˜¯ä»å¤§åˆ°å°æ’åˆ—æ—¶ï¼Œç¨‹åºè¿è¡Œé€Ÿåº¦å¾ˆå¿«ï¼›ç›¸åï¼Œæ•°ç»„ä¸­çš„æ•°è‹¥æ˜¯ä»å°åˆ°å¤§æ’åˆ—ï¼Œå½“æ•°ç»„æ˜¯[1,â€¦30]æ—¶ï¼Œä½ å°±ä¼šå‘ç°æœ‰å»¶è¿Ÿâ€¦è®²å¸ˆç”¨äº†ä¸€å¼ å›¾ç»™ä½ è®²è§£<br><img src="http://res.cloudinary.com/dwudaridr/image/upload/v1503738949/WX20170825-142135_2x_oq3vsb.png" alt=""></p>
<p>ä¼˜åŒ–çš„æ–¹æ³•æ˜¯ï¼šä½ å¯ä»¥å°†<code>bad_max(tl numbers)</code>çš„å€¼èµ‹äºˆä¸€ä¸ªå˜é‡ï¼Œè¿™æ ·ï¼Œæ¯æ¬¡ç¨‹åºè¿è¡Œæ—¶<code>bad_max(tl numbers)</code>åªä¼šæ‰§è¡Œä¸€éã€‚è¿™é‡Œä½¿ç”¨äº†<code>let...in...end</code>ï¼Œåœ¨è¿™ä¸ªè¯¾ç¨‹ä¸­ï¼Œä½œè€…ä¹Ÿè®²è§£äº†ä½œç”¨åŸŸçš„é—®é¢˜ï¼Œä¾‹å¦‚å­ä½œç”¨åŸŸçš„å€¼å›è¦†ç›–çˆ¶ä½œç”¨åŸŸçš„å€¼â€¦</p>
<h3 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h3><p>æ¯é—¨è¯­è¨€éƒ½ä¼šæä¾›å…³é”®å­—æ¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œåœ¨é€‚å½“çš„åœ°æ–¹è®°å¾—ä½¿ç”¨</p>
<h3 id="è°ƒè¯•é”™è¯¯"><a href="#è°ƒè¯•é”™è¯¯" class="headerlink" title="è°ƒè¯•é”™è¯¯"></a>è°ƒè¯•é”™è¯¯</h3><p>è°ƒè¯•é”™è¯¯æ—¶ï¼Œä¸€å®šè¦æœ‰è€å¿ƒâ€¦</p>
]]></content>
      
        <categories>
            
            <category> ç¼–ç¨‹è¯­è¨€ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> ç¼–ç¨‹è¯­è¨€ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[week4]]></title>
      <url>/2017/08/20/week4/</url>
      <content type="html"><![CDATA[<p><code>åªæƒ³ç¡è§‰...</code></p>
]]></content>
      
        <categories>
            
            <category> éšç¬” </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[npm-package]]></title>
      <url>/2017/08/17/npm-package/</url>
      <content type="html"><![CDATA[<h3 id="å†™åŒ…çš„åˆè¡·"><a href="#å†™åŒ…çš„åˆè¡·" class="headerlink" title="å†™åŒ…çš„åˆè¡·"></a>å†™åŒ…çš„åˆè¡·</h3><p>é¡¹ç›®ä¸­å¾ˆå¤šåœ°æ–¹ç”¨åˆ°ç›¸åŒçš„ä»£ç æ®µï¼Œåšå…¶ä»–é¡¹ç›®çš„æ—¶å€™ï¼Œä¹Ÿä¼šç”¨åˆ°è¿™ä¸ªåŠŸèƒ½ï¼Œäºæ˜¯ï¼Œå¤§å“¥è®©æˆ‘å†™ä¸€ä¸ªåŒ…ï¼Œä¾›ç›®å‰ä»¥åŠä»¥åçš„é¡¹ç›®ä½¿ç”¨</p>
<h3 id="æä¾›çš„åŠŸèƒ½"><a href="#æä¾›çš„åŠŸèƒ½" class="headerlink" title="æä¾›çš„åŠŸèƒ½"></a>æä¾›çš„åŠŸèƒ½</h3><p>åœ¨<a href="https://gmis.jiqizhixin.com/" target="_blank" rel="noopener">æœºå™¨ä¹‹å¿ƒ</a>è¿™ä¸ªé¡µé¢ï¼Œä¸Šé¢çš„navä¼šæ ¹æ®æ»šåŠ¨æ¡çš„ä½ç½®è¿›è€Œæ”¹å˜activeçŠ¶æ€ï¼ŒåŒæ—¶ï¼Œç‚¹å‡»navä¸­çš„æ¯ä¸ªé“¾æ¥ï¼Œé¡µé¢ä¹Ÿä¼šæ»šåŠ¨åˆ°ç›¸åº”çš„sectionã€‚è¿™ä¸ªåŠŸèƒ½å¾ˆå¸¸è§ã€‚<br>ç›®å‰ï¼ŒåŒ…æä¾›çš„ä¸¤ç§å½¢å¼ï¼š</p>
<ol>
<li>ä½¿ç”¨é”šé“¾æ¥ï¼šä½ é€šè¿‡ç‚¹å‡»navä¸­çš„é“¾æ¥ï¼Œé€šè¿‡é”šç‚¹æ¥ä½¿é¡µé¢æ»šåŠ¨åˆ°ç›¸åº”çš„sectionï¼›åŒæ—¶ï¼Œæ»šåŠ¨æ¡çš„ä½ç½®æ”¹å˜æ—¶ï¼Œä¼šæ›´æ”¹é¡µé¢çš„hashï¼Œnavçš„activeä¹Ÿä¼šæ”¹å˜ã€‚</li>
<li>ä½¿ç”¨ç‚¹å‡»äº‹ä»¶ï¼šä½ é€šè¿‡ç‚¹å‡»navä¸­çš„é“¾æ¥ï¼Œé€šè¿‡è·å¾—å…ƒç´ çš„data-indexæ¥ç¡®å®šç›¸åº”çš„sectionï¼Œæ‰€ä»¥ä½ å¿…é¡»ä¸ºnavä¸­çš„itemæ·»åŠ data-indexå±æ€§ï¼›åŒæ—¶ï¼Œæ»šåŠ¨æ¡çš„ä½ç½®æ”¹å˜æ—¶ï¼Œnavçš„activeä¹Ÿä¼šæ”¹å˜ã€‚</li>
</ol>
<h3 id="é¡¹ç›®çš„åœ°å€"><a href="#é¡¹ç›®çš„åœ°å€" class="headerlink" title="é¡¹ç›®çš„åœ°å€"></a>é¡¹ç›®çš„åœ°å€</h3><p><a href="https://github.com/wukong1995/nav-slide" target="_blank" rel="noopener">ç‚¹å‡»è¿™å»ä»“åº“</a><br>å…·ä½“çš„å‚æ•°è¯·æŸ¥çœ‹readme</p>
<h3 id="é¡¹ç›®å‘å¸ƒçš„è¿‡ç¨‹"><a href="#é¡¹ç›®å‘å¸ƒçš„è¿‡ç¨‹" class="headerlink" title="é¡¹ç›®å‘å¸ƒçš„è¿‡ç¨‹"></a>é¡¹ç›®å‘å¸ƒçš„è¿‡ç¨‹</h3><ol>
<li>æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œ<code>npm init</code>æ¥å¡«å†™åŒ…çš„ä¿¡æ¯</li>
<li>ç¼–å†™ä»£ç </li>
<li>å®Œæˆä»£ç ç¼–å†™ï¼Œè‹¥ä½ ä½¿ç”¨ES6æˆ–è€…ES7çš„è¯­æ³•ï¼Œéœ€è¦ä½¿ç”¨babelè½¬æ¢ä¸€ä¸‹</li>
<li><code>npm login</code></li>
<li><code>npm publish</code></li>
<li>åˆ°è¿™ä½ çš„åŒ…å‘å¸ƒæˆåŠŸï¼Œè‹¥æ›´æ–°åŒ…ï¼Œè®°å¾—è¦æ”¹package.jsonä¸­çš„version</li>
</ol>
<h3 id="é‡åˆ°çš„å‘"><a href="#é‡åˆ°çš„å‘" class="headerlink" title="é‡åˆ°çš„å‘"></a>é‡åˆ°çš„å‘</h3><ol>
<li>å®Œæˆä»£ç ç¼–å†™åï¼Œç›´æ¥å‘å¸ƒäº†ï¼Œä½¿ç”¨çš„æ—¶å€™æŠ¥é”™ï¼šimporté‚£æŠ¥é”™ï¼›æˆ‘ä»¥ä¸ºæ˜¯å› ä¸ºæ²¡æœ‰å› ä¸ºä»£ç å‹ç¼©ï¼Œäºæ˜¯è¿›è¡Œäº†ä»£ç çš„å‹ç¼©ï¼Œå‘ç°å¹¶æ²¡æœ‰ä»€ä¹ˆè½¯ç”¨ï¼›å› ä¸ºé¡¹ç›®ä½¿ç”¨webpackæ‰“åŒ…ï¼Œå°±æƒ³æ˜¯ä¸æ˜¯å› ä¸ºæ²¡æœ‰æ‰“åŒ…ï¼Œäºæ˜¯å°±å¼€å§‹äº†æ‰“åŒ…ï¼Œç»“æœé¡¹ç›®è¿˜æ˜¯æŠ¥é”™ã€‚è¾¹ä¸Šç½‘è¾¹æŸ¥ï¼Œæˆ‘è¿˜ä»¥ä¸ºæ˜¯ä»£ç å†™é”™äº†â€¦ï¼›æœ€åï¼Œçœ‹äº†å…¶ä»–åŒ…çš„æ ·å­ï¼Œå‘ç°æ˜¯ä½¿ç”¨babelæ‰“åŒ…çš„ï¼Œè§£å†³äº†è¿™ä¸ªå¤§é—®é¢˜ã€‚</li>
<li>è‹¥ä½ å®‰è£…ä¸ä¸Šä¸€ä¸ªåŒ…ï¼ŒæŠ¥é”™è¯´æ˜¯å› ä¸ºåå­—é‡å¤äº†ï¼šä¸æ˜¯æ–‡ä»¶å¤¹çš„åå­—å’ŒåŒ…çš„åå­—é‡å¤äº†ï¼Œè€Œæ˜¯ä½ çš„é¡¹ç›®çš„package.jsonä¸­çš„nameå’ŒåŒ…çš„åå­—é‡å¤äº†â€¦</li>
<li>è‡ªå·±å‘è‡ªå·±ï¼Œä»£ç å˜é‡æ‹¼å†™é”™è¯¯ï¼Œæœ€è¿‘è€æ˜¯çŠ¯è¿™ä¸ªé”™è¯¯ğŸ˜”</li>
</ol>
<p>ç»ˆç»“ï½</p>
]]></content>
      
        <categories>
            
            <category> Nodejs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> npm </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ES7-decorator]]></title>
      <url>/2017/08/13/ES7-decorator/</url>
      <content type="html"><![CDATA[<h3 id="è£…é¥°æ¨¡å¼"><a href="#è£…é¥°æ¨¡å¼" class="headerlink" title="è£…é¥°æ¨¡å¼"></a>è£…é¥°æ¨¡å¼</h3><p>å¯¹äºè£…é¥°æ¨¡å¼ï¼Œç°åœ¨è¿˜å‰©ä¸‹é¸¡è…¿å ¡+é¦™èœ+è¾£æ¤’çš„è®°å¿†ã€‚<br>è¿™ä¸ªæ˜¯è£…é¥°æ¨¡å¼çš„ä¸€ä¸ªä¾‹å­ï¼šæœ‰ä¸€ä¸ª<code>æ±‰å ¡</code>çš„æŠ½è±¡æ„ä»¶ï¼Œ<code>é¸¡è…¿å ¡</code>æ˜¯å…·ä½“æ„ä»¶ï¼Œ<code>é¦™èœ</code>å’Œ<code>è¾£æ¤’</code>éƒ½æ˜¯å…·ä½“çš„è£…é¥°è§’è‰²ã€‚ç°åœ¨æˆ‘æƒ³è®¡ç®—é¸¡è…¿å ¡+é¦™èœ+è¾£æ¤’çš„ä»·æ ¼</p>
<h4 id="é’ˆå¯¹çš„é—®é¢˜"><a href="#é’ˆå¯¹çš„é—®é¢˜" class="headerlink" title="é’ˆå¯¹çš„é—®é¢˜"></a>é’ˆå¯¹çš„é—®é¢˜</h4><p>ä½ æƒ³è¦åŠ¨æ€åœ°ç»™ä¸€ä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚å°±å¢åŠ åŠŸèƒ½æ¥è¯´ï¼ŒDecoratoræ¨¡å¼ç›¸æ¯”ç”Ÿæˆå­ç±»æ›´ä¸ºçµæ´»ã€‚ä¸æ”¹å˜æ¥å£çš„å‰æä¸‹ï¼Œå¢å¼ºæ‰€è€ƒè™‘çš„ç±»çš„æ€§èƒ½ã€‚<br>ä½•æ—¶ä½¿ç”¨ï¼š</p>
<ol>
<li>éœ€è¦æ‰©å±•ä¸€ä¸ªç±»çš„åŠŸèƒ½ï¼Œæˆ–ç»™ä¸€ä¸ªç±»å¢åŠ é™„åŠ è´£ä»»ã€‚</li>
<li>éœ€è¦åŠ¨æ€çš„ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ åŠŸèƒ½ï¼Œè¿™äº›åŠŸèƒ½å¯ä»¥å†åŠ¨æ€åœ°æ’¤é”€ã€‚</li>
<li>éœ€è¦å¢åŠ ä¸€äº›åŸºæœ¬åŠŸèƒ½çš„æ’åˆ—ç»„åˆè€Œäº§ç”Ÿçš„éå¸¸å¤§é‡çš„åŠŸèƒ½ï¼Œä»è€Œä½¿ç»§æ‰¿å˜å¾—ä¸ç°å®ã€‚</li>
</ol>
<h3 id="es7ä¸­çš„è£…é¥°å™¨"><a href="#es7ä¸­çš„è£…é¥°å™¨" class="headerlink" title="es7ä¸­çš„è£…é¥°å™¨"></a>es7ä¸­çš„è£…é¥°å™¨</h3><p>es7æ–°å¢çš„decorator å±æ€§ï¼Œå®ƒå€Ÿé‰´è‡ª Pythonï¼Œåœ¨ Python é‡Œï¼Œdecorator å®é™…ä¸Šæ˜¯ä¸€ä¸ª wrapperï¼Œå®ƒä½œç”¨äºä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼Œå¯¹è¿™ä¸ªç›®æ ‡å‡½æ•°åšä¸€äº›é¢å¤–çš„æ“ä½œï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚</p>
<h4 id="è£…é¥°property"><a href="#è£…é¥°property" class="headerlink" title="è£…é¥°property"></a>è£…é¥°property</h4><p>ES2016è£…é¥°å™¨æ˜¯ä¸€ä¸ªè¿”å›å‡½æ•°çš„è¡¨è¾¾å¼ï¼Œå¯ä»¥å°†targetï¼Œnameå’Œpropertyæè¿°ç¬¦ä½œä¸ºå‚æ•°ã€‚ä½ å¯ä»¥é€šè¿‡åœ¨è£…é¥°å™¨å‰åŠ ä¸€ä¸ªâ€œ@â€å­—ç¬¦æ¥åº”ç”¨å®ƒï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨æ‚¨æƒ³è¦è£…é¥°çš„é¡¶éƒ¨ã€‚å¯ä»¥ä¸ºç±»æˆ–å±æ€§å®šä¹‰è£…é¥°å™¨ã€‚</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
    <span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> say meow`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// å¦‚æœç»™meowæ–¹æ³•åŠ ä¸Šå¯è¯»å±æ€§</span>
<span class="token comment" spellcheck="true">// å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨</span>
<span class="token keyword">function</span> readonly <span class="token punctuation">(</span>target<span class="token punctuation">,</span> name<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    descriptor<span class="token punctuation">.</span>writeable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> descriptor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
    @readonly
    <span class="token function">meow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> say meow`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">// æ­¤æ—¶ä½ å°è¯•ä¿®æ”¹meowï¼Œå°±ä¼šæŠ¥é”™</span>
<span class="token comment" spellcheck="true">//</span>
<span class="token comment" spellcheck="true">// åœ¨è¿™é‡Œæ¨èä¸€ä¸ªmoduleï¼š core-decorators</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="è£…é¥°class"><a href="#è£…é¥°class" class="headerlink" title="è£…é¥°class"></a>è£…é¥°class</h4><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè£…é¥°å™¨å°†ä½¿ç”¨ç›®æ ‡targetçš„æ„é€ å‡½æ•°ã€‚</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">hero</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">.</span>isHero <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>

@hero
<span class="token keyword">class</span> <span class="token class-name">MyHero</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>MyHero<span class="token punctuation">.</span>isHero<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿˜å¯ä»¥è¿›ä¸€æ­¥æ‰©å±•ï¼Œä¸ºè£…é¥°åŠŸèƒ½æä¾›å‚æ•°ã€‚</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">hero</span><span class="token punctuation">(</span>isHero<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">.</span>isHero <span class="token operator">=</span> isHero<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// ä½ å¯ä»¥å†™æˆES6çš„å½¢å¼</span>
<span class="token comment" spellcheck="true">// const hero = isHero => target => target.isHero = isHero;</span>
@<span class="token function">hero</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">MyHero</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>MyHero<span class="token punctuation">.</span>isHero<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h3><p><a href="https://medium.com/google-developers/exploring-es7-decorators-76ecb65fb841" target="_blank" rel="noopener">å‚è€ƒé“¾æ¥</a></p>
]]></content>
      
        <categories>
            
            <category> javascript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> es7 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[week3]]></title>
      <url>/2017/08/13/week3/</url>
      <content type="html"><![CDATA[<h3 id="â“psdè½¬html"><a href="#â“psdè½¬html" class="headerlink" title="â“psdè½¬html"></a>â“psdè½¬html</h3><p>é¦–å…ˆä½ æ‹¿åˆ°è®¾è®¡å›¾åº”è¯¥åšä»€ä¹ˆï¼Ÿæˆ‘çš„åšæ³•æ˜¯æµè§ˆä¸€ä¸‹æ•´ä¸ªé¡µé¢ï¼Œæ‰¾å‡ºæ¯ä¸ªæ¨¡å—çš„å…±åŒç‚¹ã€‚ä¹‹åå¼€å§‹æ­å»ºhtmlï¼Œå†å†™cssï¼Œæœ€åå†™jsã€‚æ˜¨å¤©æ‹¿åˆ°è®¾è®¡å›¾ï¼ŒæŒ‰ç…§è¿™æ ·çš„æ¨¡å¼å»åšã€‚å¯æ˜¯åœ¨æœ€åæ·»åŠ iconæ—¶çŠ¯äº†éš¾ï¼Œå› ä¸ºåœ¨iconåº“é‡Œé¢æ²¡æœ‰æ‰¾åˆ°åˆé€‚çš„ï¼Œå°±æƒ³ç€åœ¨psdä¸­ç›´æ¥å¯¼å‡ºiconï¼Œå¯æ˜¯è¿™æ—¶å€™å»çœ‹psdçš„æ—¶å€™ï¼Œå‘ç°æ•´ä¸ªæ¨¡å—æ˜¯ä¸€ä¸ªå›¾å±‚ï¼Œè¿™ä¸ªæ—¶å€™çŠ¯äº†éš¾ï¼Œæˆ‘ä¸çŸ¥é“è®¾è®¡è€…è¿™æ ·åšçš„æ„å›¾ï¼Ÿå†æ¥ç€æˆ‘å°†æ•´ä¸ªæ¨¡å—ä½œä¸ºä¸€ä¸ªpngå¯¼å‡ºï¼Œç›´æ¥æ”¾åœ¨é¡µé¢ä¸Šï¼Œæˆ‘æ„Ÿè§‰è¿™æ ·åšæ˜¯ä¸å¯¹çš„ï¼Œæœ€åçš„æ–¹æ³•æ˜¯å°†éœ€è¦çš„å›¾æ ‡è£å‰ªå‡ºæ¥ï¼Œå¤šä¸ªå›¾æ ‡ä½†åœ¨ä¸€ä¸ªpngä¸­ã€‚<br>è¿™æ¬¡ç»™æˆ‘ä¸€ä¸ªæç¤ºï¼šä½ æ‹¿åˆ°è®¾è®¡å›¾ç¬¬ä¸€ä»¶äº‹æ˜¯éœ€è¦å¹²ä»€ä¹ˆï¼Ÿæµè§ˆé¡µé¢çš„æ—¶å€™ï¼Œæ˜¯ä¸æ˜¯éœ€è¦å°†æ¯ä¸ªæ¨¡å—çš„æ‰€åœ¨çš„å›¾å±‚å…¨éƒ½è¦è¿‡ä¸€éä»¥åŠæ³¨æ„äº‹é¡¹â€¦</p>
<h3 id="â“ä¸€ä¸ªå¸¦æœ‰æ¸å˜é¢œè‰²çš„åœ†å½¢è¾¹æ¡†"><a href="#â“ä¸€ä¸ªå¸¦æœ‰æ¸å˜é¢œè‰²çš„åœ†å½¢è¾¹æ¡†" class="headerlink" title="â“ä¸€ä¸ªå¸¦æœ‰æ¸å˜é¢œè‰²çš„åœ†å½¢è¾¹æ¡†"></a>â“ä¸€ä¸ªå¸¦æœ‰æ¸å˜é¢œè‰²çš„åœ†å½¢è¾¹æ¡†</h3><p>é¦–å…ˆä¸ºäº†ä½¿divå¸¦æœ‰æ¸å˜é¢œè‰²çš„è¾¹æ¡†ï¼Œäºæ˜¯è®¾ç½®å®ƒçš„border-imageæ˜¯ä¸€ä¸ªæ¸å˜é¢œè‰²ï¼Œè™½ç„¶è¾¹æ¡†æ˜¯æ¸å˜çš„äº†ï¼Œå½“æ—¶å®ƒæ²¡æœ‰åœ†è§’ï¼Œå³ä½¿å†æ”¹å˜å®ƒçš„border-radiusä¹Ÿä¸ä¼šæœ‰ä½œç”¨ã€‚ğŸ‘‰æˆ‘åœ¨stackoverflowä¸Šæ‰¾åˆ°äº†è§£å†³æ–¹æ³•<a href="https://stackoverflow.com/questions/5706963/possible-to-use-border-radius-together-with-a-border-image-which-has-a-gradient" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a>ã€‚ä½†æ˜¯è¿™ç§å®ç°è¿˜æ˜¯æœ‰ä¸ªç¼ºç‚¹ï¼Œå°±æ˜¯divå¿…é¡»è®¾ç½®ä¸€ä¸ªèƒŒæ™¯è‰²ï¼Œè¿›è€Œæ¥æ©ç›–å®ƒçš„afterä¼ªå…ƒç´ çš„èƒŒæ™¯è‰²ã€‚ä½†æ˜¯æˆ‘æƒ³è¦çš„æ•ˆæœæ˜¯å®ƒçš„èƒŒæ™¯è‰²æ˜¯é€æ˜çš„ï¼Œæ²¡æœ‰æ‰¾åˆ°å¥½çš„è§£å†³åŠæ³•ï¼Œå°±æ‰¾äº†ä¸€ä¸ªå’ŒèƒŒæ™¯è‰²ç›¸è¿‘çš„é¢œè‰²å»ä»£æ›¿ğŸ˜”ã€‚è¿™ä¸ªå·æ‡’çš„æ–¹æ³•ï¼ŒæœŸå¾…å®Œç¾çš„è§£å†³æ–¹æ¡ˆâ€¦</p>
<h3 id="â“cssç”»å‡ºæ–‡ä»¶å¤¹ğŸ“çš„è½®å»“"><a href="#â“cssç”»å‡ºæ–‡ä»¶å¤¹ğŸ“çš„è½®å»“" class="headerlink" title="â“cssç”»å‡ºæ–‡ä»¶å¤¹ğŸ“çš„è½®å»“"></a>â“cssç”»å‡ºæ–‡ä»¶å¤¹ğŸ“çš„è½®å»“</h3><p>è¿™ä¸ªé—®é¢˜æœ€éš¾çš„éƒ¨åˆ†æ˜¯ç”»å‡ºæ–‡ä»¶å¤¹ğŸ“ä¸Šæ–¹é‚£ä¸ªå¼§åº¦ï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•ï¼Œå°±æ˜¯ç”¨ä¸¤ä¸ªå…ƒç´ çš„<code>border-radius</code>è¿æ¥è€Œæˆï¼Œç†æ‰€å½“ç„¶çš„ï¼Œç”»å‡ºçš„è½®å»“æœ‰äº›å¥‡æ€ªâ€¦å› ä¸º<code>border-radius</code>è¶Šå¤§ï¼Œè¾¹æ¡†çš„å¼§åº¦ä¹…è¶Šå¤§ï¼Œå¯è§çš„borderå®½åº¦ä¼šè¶Šæ¥è¶Šçª„ï¼Œæ‰€ä»¥ä¼šæœ‰ä¸€ç§ä¸åœ†æ»‘çš„æ„Ÿè§‰ã€‚æ„Ÿè§‰æˆ‘çš„æƒ³æ³•æœ‰äº›å¥‡æ€ªâ€¦</p>
<h3 id="å¦‚ä½•åšå‡ºå®½é«˜æˆæ¯”ä¾‹çš„div"><a href="#å¦‚ä½•åšå‡ºå®½é«˜æˆæ¯”ä¾‹çš„div" class="headerlink" title="å¦‚ä½•åšå‡ºå®½é«˜æˆæ¯”ä¾‹çš„div"></a>å¦‚ä½•åšå‡ºå®½é«˜æˆæ¯”ä¾‹çš„div</h3><p>çˆ¶å®¹å™¨è®¾ç½®<code>width</code>å’Œ<code>padding</code>ï¼Œpaddingè®¾ç½®ç™¾åˆ†æ¯”ï¼Œpaddingè®¾ç½®ç™¾åˆ†æ¯”ä¹‹åå’Œwidthç›¸å…³ã€‚å­å®¹å™¨é£˜åœ¨çˆ¶å®¹å™¨ä¸Šwidthå’Œheightç­‰äºçˆ¶å®¹å™¨å³å¯ã€‚</p>
<h3 id="â“es7è£…é¥°å™¨"><a href="#â“es7è£…é¥°å™¨" class="headerlink" title="â“es7è£…é¥°å™¨"></a>â“es7è£…é¥°å™¨</h3><p>å¤§å“¥è¯´ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŒ…ä¸èƒ½è§£å†³çš„ã€‚æŸ¥çœ‹äº†ä»£ç æ˜¯ä½¿ç”¨äº†è£…é¥°å™¨ã€‚</p>
<h3 id="jsä¸­çš„offsetTopå’Œjqä¸­çš„offset-ã€position"><a href="#jsä¸­çš„offsetTopå’Œjqä¸­çš„offset-ã€position" class="headerlink" title="jsä¸­çš„offsetTopå’Œjqä¸­çš„offset()ã€position()"></a>jsä¸­çš„offsetTopå’Œjqä¸­çš„offset()ã€position()</h3><p>ä½¿ç”¨èµ·æ¥è¿˜æ˜¯ä¸ç­‰åŒçš„ï¼Œå…·ä½“çš„å¾—å»æŸ¥çœ‹æºç â€¦</p>
<h3 id="rails-on-ruby"><a href="#rails-on-ruby" class="headerlink" title="rails on ruby"></a>rails on ruby</h3><p>åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œèƒ½è¿›è¡Œincludeçš„å°±ä¸è¦åœ¨jbuilderé‡Œé¢å†å»æŸ¥è¯¢ä¸€éã€‚</p>
]]></content>
      
        <categories>
            
            <category> éšç¬” </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[week2]]></title>
      <url>/2017/08/05/week2/</url>
      <content type="html"><![CDATA[<h3 id="åˆ†é¡µæ’ä»¶"><a href="#åˆ†é¡µæ’ä»¶" class="headerlink" title="åˆ†é¡µæ’ä»¶"></a>åˆ†é¡µæ’ä»¶</h3><p>å†™åˆ†é¡µæ’ä»¶ï¼Œæˆ‘å¼€å§‹çš„æƒ³æ³•æ˜¯ï¼š</p>
<ol>
<li>åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºâ€œä¸Šä¸€é¡µâ€</li>
<li>åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºâ€œç¬¬ä¸€é¡µâ€</li>
<li>åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºâ€œâ€¦â€ã€â€current-2â€ã€â€current-1â€</li>
<li>åˆ¤æ–­æ˜¯å¦æ˜¾ç¤º currenté¡µé¢</li>
<li>åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºâ€current+1â€ã€â€current+2â€ã€â€œâ€¦â€</li>
<li>åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºâ€œæœ€åä¸€é¡µâ€</li>
<li>åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºâ€œæœ€åä¸€é¡µâ€</li>
</ol>
<p>æˆ‘çš„ç›®çš„æ˜¯æœ€å°‘è¦æ˜¾ç¤ºcuurentå‘¨å›´çš„å››ä¸ªnumberï¼ŒæŒ‰ç…§è¿™ä¸ªæƒ³æ³•å†™å‡ºæ¥ï¼Œå½“cuurentä¸º1æ—¶ï¼Œåªä¼šæ˜¾ç¤º123ä¸‰ä¸ªnumberï¼Œè€Œæˆ‘çš„é¢„æœŸæ˜¯ç°å®12345è¿™äº”ä¸ªnumberğŸ˜”è°ƒæ•´ä¸€ä¸‹åšæ³•ï¼Œå°†ä¸Šé¢çš„3-5åˆå¹¶ï¼Œ<code>left</code>å’Œ<code>right</code>è¡¨ç¤º<code>current-2</code>å’Œ<code>current+2</code>ï¼Œåœ¨<code>left&lt;0</code>æ—¶å€™ï¼Œå°†<code>right</code>åŠ ä¸Š<code>left</code>çš„ç›¸åæ•°ï¼Œ<code>right&gt;total</code>åŒç†<br>æœ€åï¼Œæˆ‘è¿˜æ˜¯æ‰¾äº†ä¸€ä¸ªæ’ä»¶ç”¨åœ¨é¡¹ç›®ä¸­ï¼ŒğŸ‘‰æ’ä»¶çš„åå­—æ˜¯ï¼šreact-paginateï¼Œcsséƒ¨åˆ†éœ€è¦ä½ è‡ªå·±å»å†™â€¦</p>
<h3 id="react-and-jquery"><a href="#react-and-jquery" class="headerlink" title="react and jquery"></a>react and jquery</h3><p>ç›®å‰æœ‰ä¸€ä¸ªcontainerçš„ç»„ä»¶ï¼Œå®ƒçš„å­ç»„ä»¶æ˜¯listå’Œdetailï¼Œlistçš„å­ç»„ä»¶æ˜¯itemï¼Œç‚¹å‡»itemï¼Œdetailç»„ä»¶ä¼šæ˜¾ç¤ºï¼Œæ˜¾ç¤ºæ•ˆæœæ˜¯é€šè¿‡å¢åŠ åˆ é™¤ç±»åå®ç°çš„ã€‚æƒ³ç€ç»„ä»¶ä¼ å€¼æ¯”è¾ƒéº»çƒ¦ï¼Œäºæ˜¯å°±åœ¨æ–¹æ³•é‡Œé¢ç›´æ¥ä½¿ç”¨jqæ—©å•Šé“å…ƒç´ æ§åˆ¶ã€‚å¤§å“¥å‘Šè¯‰æˆ‘ï¼Œè¿™ä¸ªè§£å†³åŠæ³•æ˜¯ä¸æ¨èçš„ã€‚ğŸ‘‰æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨stateã€‚é€šè¿‡æ”¹å˜stateçš„å€¼ï¼Œè¿›è€Œæ”¹å˜å…ƒç´ çš„classã€‚</p>
<h3 id="redis"><a href="#redis" class="headerlink" title="redis"></a>redis</h3><p>è¿˜è®°å¾—ä¹‹å‰çš„ä¸€ä¸ªé¢è¯•é—®é¢˜ï¼šè§†é¢‘æœ‰æœ€çƒ­è§†é¢‘ã€ç‚¹èµæœ€å¤šè§†é¢‘ã€å…¶ä»–è§†é¢‘ï¼Œæ¯æ¬¡å»æœåŠ¡å™¨è¦åä¸ªæ•°æ®â€¦ç”±äºç”¨æˆ·ä½¿ç”¨é‡å¾ˆå¤šï¼Œæ¯æ¬¡å»æ•°æ®åº“æŸ¥è¯¢ï¼Œè®¿é—®é‡å¤ªå¤§ã€‚è¿™æ ·çš„è¯ï¼ŒğŸ‘‰å¯ä»¥ä½¿ç”¨rediså»åšç¼“å­˜ï¼Œè¿™æ ·å–æ•°æ®åº“å¯ä»¥ç›´æ¥å–ç¼“å­˜ä¸­å–ï¼Œè®¾ç½®ä¸€ä¸ªæ—¶é—´å»æ›´æ–°rediså³å¯ã€‚<br>ç°åœ¨åˆä¸€ä¸ªéœ€æ±‚ï¼Œæ˜¯è®°å½•æ¯å¤©ç”¨æˆ·ç™»å½•ç½‘ç«™çš„æ•°é‡ã€‚ğŸ‘‰æ–¹æ³•ä¸€ï¼šç»™ç”¨æˆ·è¡¨å¢åŠ ä¸€ä¸ªæœ€åç™»å½•æ—¶é—´çš„åˆ—ï¼Œæ¯å¤©å®šæ—¶æ‰§è¡Œç¨‹åºï¼Œç»Ÿè®¡ä¸€ä¸‹æœ€åç™»å½•æ—¶é—´æ˜¯æ˜¨å¤©çš„ç”¨æˆ·æ•°é‡ã€‚è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œé€‰æ‹©ä»€ä¹ˆæ—¶å€™å»æ‰§è¡Œç¨‹åºå¾ˆé‡è¦ï¼Œè¦ä¸ç„¶å°±ä¼šæœ‰æ¼ç½‘ä¹‹é±¼ã€‚ğŸ‘‰æ–¹æ³•äºŒï¼šæœ€ç²—æš´çš„åŠæ³•æ˜¯ï¼Œåœ¨redisä¸­åˆ›å»ºä¸€ä¸ªå­—æ®µï¼Œå®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ¯æ¬¡çŸ¥é“ç”¨æˆ·ç™»å½•çš„æ—¶å€™ï¼Œå°±å°†ç”¨æˆ·çš„id<code>push</code>è¿›æ•°ç»„ï¼Œæ¯å¤©ç”¨æˆ·çš„ç™»å½•çš„æ•°é‡ï¼Œç›´æ¥é€šè¿‡æ•°ç»„çš„é•¿åº¦å°±å¯ä»¥å¾—åˆ°ã€‚è¿™ä¸ªæ–¹æ³•çš„ç¼ºç‚¹å°±æ˜¯ï¼šç”¨æˆ·çš„<code>id</code>å­—æ®µä¹Ÿæ˜¯ä¸€ä¸²å¾ˆé•¿çš„å­—ç¬¦ä¸²ï¼Œæ•°ç»„ä¼šç‰¹åˆ«å¤§ã€‚ğŸ‘‰æ–¹æ³•ä¸‰ï¼šåœ¨redisä¸­åˆ›å»ºä¸€ä¸ªå­—æ®µï¼Œå®ƒæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé»˜è®¤æ˜¯é•¿åº¦æ˜¯ç”¨æˆ·çš„æ•°é‡çš„0ï¼Œè‹¥ç”¨æˆ·ç™»å½•ï¼Œå°±å°†å¯¹åº”çš„ä½ç½®ä¸º1ã€‚åœ¨è¿™ä¸‰ä¸ªæ–¹æ³•ä¸­ï¼Œç¬¬ä¸‰ä¸ªæ–¹æ³•æ˜¯æœ€ä¼˜æ–¹æ³•ã€‚<br>è¿˜æœ‰ä¸€ä¸ªå¯ä»¥åšç¼“å­˜çš„æ•°æ®åº“å«memcacheï¼Œå®ƒå’Œredisçš„åŒºåˆ«å°±æ˜¯ï¼Œrediså¯ä»¥æŒä¹…åŒ–ã€‚</p>
<h3 id="æ’ä»¶js-base64"><a href="#æ’ä»¶js-base64" class="headerlink" title="æ’ä»¶js-base64"></a>æ’ä»¶js-base64</h3><p><code>Graphql</code>ä¸­è‡ªå¸¦çš„åˆ†é¡µï¼Œafterå­—æ®µæ˜¯base64çš„å­—ç¬¦ä¸²ã€‚å‰ç«¯ä¼ å€¼å°±éœ€è¦å°†æ•°å­—è½¬åŒ–æˆbase64ä½çš„å­—ç¬¦ä¸²ã€‚</p>
<pre><code>import { Base64 } from &#39;js-base64&#39;;
const cursor = Base64.encode(number);
</code></pre><p>æœ€åè¯´å¥é¢˜å¤–è¯ï¼Œä»»ä½•ç‚’ä½œéƒ½ä¸èƒ½æ”¹å˜ä¸€ä¸ªä¸œè¥¿æ²¡è½çš„äº‹å®ï¼Œä¸å…¶å»ç‚’ä½œï¼Œè¿˜ä¸å¦‚ç”¨è„‘å­æŠŠä¸œè¥¿åšçš„æ›´å¥½ã€‚</p>
]]></content>
      
        <categories>
            
            <category> éšç¬” </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[douban]]></title>
      <url>/2017/08/02/douban/</url>
      <content type="html"><![CDATA[<h3 id="åœ¨åƒé‡Œç åˆ·é¢˜çš„æ—¶å€™çœ‹åˆ°äº†è¿™ä¸ªé¢˜ç›®"><a href="#åœ¨åƒé‡Œç åˆ·é¢˜çš„æ—¶å€™çœ‹åˆ°äº†è¿™ä¸ªé¢˜ç›®" class="headerlink" title="åœ¨åƒé‡Œç åˆ·é¢˜çš„æ—¶å€™çœ‹åˆ°äº†è¿™ä¸ªé¢˜ç›®"></a>åœ¨åƒé‡Œç åˆ·é¢˜çš„æ—¶å€™çœ‹åˆ°äº†è¿™ä¸ªé¢˜ç›®</h3><p>é¢˜ç›®è¦æ±‚æ˜¯çˆ¬å–è±†ç“£è¯„åˆ†æœ€é«˜çš„250éƒ¨ç”µå½±çš„æ€»åˆ†â€¦</p>
<h4 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h4><p>çˆ¬æ•°æ®ï¼Œé¦–å…ˆæ˜¯å®ç”¨httpæ¨¡å—å»çˆ¬å–å…¨éƒ¨çš„HTML<br>ç„¶åä½¿ç”¨cheerioå»å¾—åˆ°HTMLä¸­è‡ªå·±æƒ³è¦çš„æ•°æ®<br>æœ€åæ¯é¡µå¾—åˆ°çš„æ€»åˆ†ç›¸åŠ </p>
<h3 id="é¢˜ç›®ä¸­çš„å‘"><a href="#é¢˜ç›®ä¸­çš„å‘" class="headerlink" title="é¢˜ç›®ä¸­çš„å‘"></a>é¢˜ç›®ä¸­çš„å‘</h3><p>1ã€å› ä¸ºè±†ç“£æ˜¯httpså¼€å¤´ï¼Œä½¿ç”¨httpsæ¨¡å—ï¼Œå…·ä½“çš„æ–¹æ³•æ²¡çœ‹ï¼Œä½¿ç”¨è¿˜æ˜¯æŒ‰ç…§httpæ¨¡å—æ¥çš„<br>2ã€å¦‚æœæŒ‰ç…§æ­£å¸¸çš„é€»è¾‘å»å†™ä»£ç ï¼Œæœ€åå¾—åˆ°çš„æ€»åˆ†æ˜¯0ï¼Œå› ä¸ºhttpsæŠ“å–æ•°æ®æ˜¯å¼‚æ­¥è¿›è¡Œçš„<br>3ã€ä½¿ç”¨promiseæ¥è¿›è¡Œå¤„ç†ï¼Œé¦–å…ˆéœ€è¦ç­‰åˆ°25é¡µçš„æ•°æ®å…¨éƒ¨æŠ“å–å®Œæ¯•ï¼Œå†è¿›è¡Œè®¡ç®—æ€»åˆ†ï¼Œè¿™æ—¶å€™æƒ³åˆ°äº†promise.allè¿™ä¸ªæ–¹æ³•ã€‚<br>4ã€ç¬¬ä¸€æ¬¡å°è¯•å°†ä½¿ç”¨promiseï¼Œæˆ‘åœ¨getDataä¸­ç›´æ¥å°†resolve(res)ï¼Œç­‰åˆ°ä¸‹é¢ä½¿ç”¨çš„æ—¶å€™ï¼Œresåˆæ˜¯ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œï¼Œè¿™ä¸‹å°´å°¬ğŸ˜…äº†ï¼Œäºæ˜¯è°ƒæ•´é¡ºåºï¼Œåœ¨resæ‰§è¡Œendäº‹ä»¶çš„æ—¶å€™å†resolve<br>5ã€jsä¸­æµ®ç‚¹ç±»å‹è®¡ç®—çš„å‘ï¼Œæˆ‘ç›´æ¥æš´åŠ›çš„*10ï¼Œæœ€ååœ¨ï¼10</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><p>çˆ¬è¯„åˆ†æ—¶ï¼Œé¡ºä¾¿æŠŠç”µå½±åä¹Ÿçˆ¬ä¸‹æ¥äº†ï¼Œæˆ‘å‡†å¤‡æŠŠæ²¡çœ‹çš„éƒ½è¡¥ä¸ŠğŸ˜„</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">const</span> https <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'https'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> cheerio <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'cheerio'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> sumScore <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">let</span> allMovie <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

<span class="token keyword">function</span> <span class="token function">filterMovie</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> $ <span class="token operator">=</span> cheerio<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span>
  <span class="token keyword">let</span> movieList <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.grid_view li'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> total <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token keyword">let</span> movies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

  movieList<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> item<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> score <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.bd .rating_num'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">let</span> movieName <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.hd a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\s+/g</span><span class="token punctuation">,</span><span class="token string">""</span><span class="token punctuation">)</span>
    movies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> movieName<span class="token punctuation">,</span>
      score
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    total <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> total<span class="token punctuation">,</span> movies <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getData</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    https
      <span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">''</span>
        res
          <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            html <span class="token operator">+</span><span class="token operator">=</span> data
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token function">filterMovie</span><span class="token punctuation">(</span>html<span class="token punctuation">)</span><span class="token punctuation">)</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> funcArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">225</span><span class="token punctuation">;</span> i<span class="token operator">=</span>i <span class="token operator">+</span> <span class="token number">25</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token string">`https://movie.douban.com/top250?start=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
  funcArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">getData</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

Promise
  <span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>funcArr<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>list <span class="token operator">=</span><span class="token operator">></span>  <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> total<span class="token punctuation">,</span> movies <span class="token punctuation">}</span> <span class="token operator">=</span> list
      sumScore <span class="token operator">+</span><span class="token operator">=</span> total
      allMovie <span class="token operator">=</span> allMovie<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>movies<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"æ€»åˆ†ï¼š"</span> <span class="token operator">+</span> sumScore <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span>
    allMovie<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>movie <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> score <span class="token punctuation">}</span> <span class="token operator">=</span> movie<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"è¯„åˆ†ï¼š"</span> <span class="token operator">+</span> score <span class="token operator">+</span> <span class="token string">"ï¼Œå½±ç‰‡åï¼š"</span> <span class="token operator">+</span> name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span>err <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"å‡ºé”™äº†"</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦‚æœä½ æœ‰æ›´å¥½çš„æƒ³æ³•ï¼Œæ¬¢è¿äº¤æµğŸ‘</p>
]]></content>
      
        <categories>
            
            <category> ä»£ç  </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[work1]]></title>
      <url>/2017/07/28/week1/</url>
      <content type="html"><![CDATA[<h3 id="æ”¶è·ä¸€"><a href="#æ”¶è·ä¸€" class="headerlink" title="æ”¶è·ä¸€"></a>æ”¶è·ä¸€</h3><p>turbolinksæ˜¯ä¸€æ¬¾å°†ç½‘ç«™å˜æˆspaçš„ä¸€ä¸ªæ’ä»¶ï¼Œçœ‹åˆ°æ–‡æ¡£çš„çš„æŸäº›åœ°æ–¹å’Œionicæœ‰äº›è®¸ç›¸ä¼¼ä¹‹å¤„ï¼Œäºæ˜¯å°±å°†ä¹‹å‰åšwebAppçš„ç–‘é—®æäº†å‡ºæ¥ï¼šæ‰“å¼€é¡µé¢åˆšå¼€å§‹è¿›çš„é¡µé¢æ˜¯ä¸»é¡µè¿˜æ˜¯ç™»å½•é¡µï¼Ÿç»è¿‡è®¨è®ºåï¼ŒğŸ‘‰æ˜¯ä¸»é¡µï¼›ä¸ºAppæ·»åŠ ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œå¯¹äºç”¨æˆ·ç™»å½•åæ‰èƒ½ä½¿ç”¨çš„é¡µé¢ï¼Œè¿›å…¥æ—¶ï¼Œé¦–å…ˆåœ¨æ‹¦æˆªå™¨ä¸­åˆ¤æ–­æœ‰æ— ç”¨æˆ·ç™»å½•â€¦å¦å¤–ï¼Œä¸¤è€…ä¹‹é—´è¿˜æœ‰ç›¸åŒçš„ä¸€ç‚¹ï¼šéƒ½ä¼šæå‰ç¼“å­˜é¡µé¢ã€‚ä¹‹å‰åšappçš„æ—¶å€™ï¼Œæ·»åŠ äº†æ‹¦æˆªå™¨ï¼Œå› ä¸ºappé¦–å…ˆæ‰“å¼€è¿›å…¥ä¸»é¡µï¼ˆè¿™æ—¶å€™å¼€å§‹ç¼“å­˜å’Œä¸»é¡µç›¸å…³çš„é¡µé¢ï¼‰ï¼Œåˆ¤æ–­ç”¨æˆ·æœªç™»å½•ï¼Œä¼šé‡å®šå‘åˆ°ç”¨æˆ·ç™»å½•é¡µï¼Œè¿™æ—¶å€™å°±ä¼šå‘ç”Ÿé¡µé¢çš„é—ªçƒï¼Œå…³äºè¿™ä¸ªé—®é¢˜æˆ‘æ²¡æœ‰æŸ¥ğŸ˜¶ï¼Œæˆ‘å¾ˆæš´åŠ›çš„åŠ äº†ä¸€ä¸ªspashâ€¦.<br>å¦å¤–ï¼Œå…³äºæ”¯ä»˜å®è´¦å•é¡µï¼Œæ•°æ®æ˜¯å¦‚ä½•ä¼ é€’ï¼Œæ•°æ®æ ¼å¼å¦‚ä½•è®¾è®¡ï¼Œå°è¯•å»çˆ¬æ•°æ®ä¹Ÿæ²¡çœ‹åˆ°æ•°æ®é•¿ä»€ä¹ˆæ ·å­çš„ğŸ˜‘ï¼Œäºæ˜¯ç›®å‰çš„æƒ³åˆ°çš„æ–¹æ³•æ˜¯ï¼ŒğŸ‘‰åç«¯æ¯æ¬¡å»æ•°æ®åº“å–countæ¡æ•°æ®ï¼Œåœ¨æŒ‰ç…§æ—¥æœŸåˆ†ç»„åï¼Œä¼ åˆ°å‰ç«¯ï¼›å‰ç«¯çš„å¤„ç†æ–¹å¼æ˜¯ï¼šåˆ¤æ–­å¾—åˆ°çš„ç¬¬ä¸€ä¸ªæœˆæ•°æ®ä¸æœ¬åœ°ç°æœ‰çš„æœ€åä¸€ä¸ªæœˆçš„æ•°æ®æ—¶å€™æ˜¯åŒå¹´åŒæœˆï¼Œå¦‚æœæ˜¯å°±concatç¬¬ä¸€ä¸ªæœˆçš„æ•°æ®ï¼Œå‰©ä¸‹çš„æ•°æ®ç›´æ¥pushã€‚</p>
<h3 id="æ”¶è·äºŒ"><a href="#æ”¶è·äºŒ" class="headerlink" title="æ”¶è·äºŒ"></a>æ”¶è·äºŒ</h3><p>åœ¨å°†åŠ è½½æ›´å¤šå…¨éƒ½è¿ç§»è‡³reactçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘åœ¨å¤§å“¥çš„åŸºç¡€ä¸Šï¼Œæ¯”è¿™è‘«èŠ¦ç”»ç“¢ï¼Œå®Œæˆäº†é¡µé¢çš„é‡æ„â€¦ä½†æ˜¯ç°åœ¨æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯ï¼šå‡å¦‚å…¨ç”¨reactå»æ¸²æŸ“ï¼Œé‚£ä¹ˆçˆ¬è™«å°±çˆ¬ä¸åˆ°æ•°æ®ï¼Œäºæ˜¯é‡‡ç”¨çš„æ–¹å¼æ˜¯ï¼šrenderçš„æ—¶å€™ï¼Œä¼šåœ¨é¡µé¢ä¸Šå…ˆæ¸²æŸ“ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå‰©ä¸‹çš„å°±äº¤ç»™reactæ¥åšï¼›ä½†æ˜¯apolloç›®å‰æä¾›çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼šå‡å¦‚ä½ å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šæ—¶ï¼Œä¼šå…ˆæŸ¥æ‰¾cacheä¸­æœ‰æ²¡æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰å°±å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼›å¦åˆ™å‘å‡ºç½‘ç»œè¯·æ±‚ã€‚è¿™æ„å‘³ç€ï¼Œåªè¦æˆ‘å°†æ’ä»¶æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼Œå°±ä¼šå‘å‡ºç½‘ç»œè¯·æ±‚ï¼Œè¿™ä¸€æ¡ç½‘ç»œè¯·æ±‚æ˜¯ä¸éœ€è¦çš„ã€‚å› ä¸ºç”¨æˆ·å¯èƒ½ä¸ä¼šæµè§ˆå¾ˆå¤šæ•°æ®ï¼Œäºæ˜¯æƒ³åˆ°çš„åŠæ³•æ˜¯ï¼šğŸ‘‰ç­‰ç”¨æˆ·å»ç‚¹å‡»åŠ è½½æ›´å¤šçš„æ—¶å€™ï¼Œå†å»å‘é€ç½‘ç»œè¯·æ±‚ã€‚æŸ¥æ‰¾apolloçš„æ–‡æ¡£ï¼Œèƒ½æƒ³åˆ°çš„åŠæ³•æ˜¯ï¼šğŸ‘‰é¢„å…ˆå‘cacheä¸­å†™å»ç©ºæ•°æ®ï¼Œè¿™æ ·æ¸²æŸ“æ—¶ï¼Œåœ¨cacheä¸­æ‰¾åˆ°æ•°æ®ï¼Œå°±ä¸å‘é€è¯·æ±‚äº†ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥å¦‚ä½•å†™å…¥æ•°æ®ğŸ˜–ï¼Œè¿™æ˜¯ä¸€ä¸ªé¢„ç•™é—®é¢˜ğŸ˜å¾ˆå¿§ä¼¤çš„ä¸€ä¸ªé—®é¢˜â€¦å¾…ç»­â€¦</p>
<h3 id="æ”¶è·ä¸‰"><a href="#æ”¶è·ä¸‰" class="headerlink" title="æ”¶è·ä¸‰"></a>æ”¶è·ä¸‰</h3><p>çŸ¥é“äº†reduceè¿™ä¸ªä¼˜é›…çš„æ–¹æ³•ï¼Œpromiseä¹Ÿæä¾›äº†è¿™ä¸ªæ–¹æ³•â€¦.</p>
<h3 id="æ”¶è·å››"><a href="#æ”¶è·å››" class="headerlink" title="æ”¶è·å››"></a>æ”¶è·å››</h3><p>åœ¨è¿˜åŸåŸå‹å›¾æ—¶ï¼Œæ›´å¤šçš„æ—¶é—´åº”è¯¥èŠ±è´¹åœ¨å¦‚ä½•è®¾è®¡HTMLçš„ç»“æ„ä¸Šï¼Œå†æ¥ä¸‹æ¥å†å†™cssï¼Œæœ€åå†å†™jsã€‚è¿™æ¬¡åšçš„æ—¶å€™ï¼Œæœ¬æ¥æ˜¯è®¾è®¡å¥½äº†è¿˜èƒ½ç¬¦åˆè¦æ±‚çš„HTMLç»“æ„ï¼Œç»“æœåœ¨å†™cssçš„æ—¶å€™ï¼Œå‘ç°ç°åœ¨çš„HTMLä¸èƒ½è¾¾åˆ°é¢„æœŸï¼Œäºæ˜¯å¼€å§‹è®¾è®¡è°ƒæ•´HTMLï¼Œå¹¸äºæ ·å¼ä½¿ç”¨scsså†™çš„ğŸ˜‰â€¦è¿˜æœ‰ä¸€ä¸ªï¼Œæˆ‘çœ‹åˆ°æ’æ’ç«™çš„å…ƒç´ ï¼Œé¦–å…ˆæƒ³åˆ°çš„ä¸æ˜¯ul&gt;liï¼Œè€Œæ˜¯ç›´æ¥ç”¨aæ ‡ç­¾å»å°è¯•è§£å†³â€¦</p>
<h3 id="æ”¶è·äº”"><a href="#æ”¶è·äº”" class="headerlink" title="æ”¶è·äº”"></a>æ”¶è·äº”</h3><p>å†çœ‹æ–‡æ¡£çš„æ—¶å€™ï¼Œçœ‹åˆ°äº†ä¸€ä¸ªæ–°çš„åè¯ï¼šVanilla JSï¼›ç”¨Google translateç¿»è¯‘äº†å«å¥¶å‘³jsğŸ˜€ï¼Œäºæ˜¯å°±å»æŸ¥å®ƒåˆ°åº•æ˜¯ä½•æ–¹ç¥åœ£ï¼ŒåŸæ¥å®ƒçš„å¦ä¸€ä¸ªåå­—å«åšjavascriptğŸ˜…</p>
<h3 id="æ”¶è·å…­"><a href="#æ”¶è·å…­" class="headerlink" title="æ”¶è·å…­"></a>æ”¶è·å…­</h3><p>å› ä¸ºsublimenå¹¶æ²¡æœ‰å®Œæ•´é…ç½®ï¼Œpushä¸Šå»çš„ä»£ç å°±è·‘ä¸è¿‡æµ‹è¯•ã€‚è¿™æ¬¡æ‰¾åˆ°äº†eslintæ£€æµ‹jsçš„package,å«åšSublimeLinter-contrib-eslingtï¼Œä»£ç ä¸é€šè¿‡æœ‰çº¢è‰²æ ‡è¯†â€¦</p>
]]></content>
      
        <categories>
            
            <category> éšç¬” </category>
            
        </categories>
        
        
        <tags>
            
            <tag> æ€»ç»“ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Arrayçš„reduceæ–¹æ³•]]></title>
      <url>/2017/07/28/reduce/</url>
      <content type="html"><![CDATA[<h3 id="åˆè¯†"><a href="#åˆè¯†" class="headerlink" title="åˆè¯†"></a>åˆè¯†</h3><p>ç¬¬ä¸€æ¬¡å¬è¯´Arrayçš„reduceæ–¹æ³•æ˜¯åœ¨é¢è¯•çš„æ—¶å€™<br>è¿™æ¬¡çœ‹åˆ°å¤§å“¥å†™çš„ä¸€ä¸ªå‡½æ•°ï¼Œé‡Œé¢ç”¨äº†reduceï¼Œå“‡ï¼ŒçœŸçš„å¥½ä¼˜é›…ã€‚å› ä¸ºä»£ç çš„é‡å¤ç‰‡æ®µå¤ªå¤šï¼Œæˆ‘å°è¯•å»å°è£…ä¸€ä¸ªé€šç”¨å‡½æ•°ï¼Œæ²¡æœ‰æˆåŠŸã€‚äºæ˜¯å¤§å“¥å‡ºåŠ¨äº†ã€‚<br>ç›®çš„æ˜¯è¿™æ ·çš„ï¼šæˆ‘å¯èƒ½éœ€è¦data.user.articleçš„å€¼ï¼Œæˆ–è€…éœ€è¦data.articleçš„å€¼ï¼Œæˆ–è€…éœ€è¦data.categories.articleçš„å€¼ï¼Œäºæ˜¯å°è£…ä¸€ä¸ªæ–¹æ³•æ¯æ¬¡å–åˆ°articleçš„å€¼ã€‚</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">// å°è£…ä¸€ä¸ªå‡½æ•°regï¼Œå‚æ•°ä¸ºbelongtoï¼Œä¼ é€’çš„å‚æ•°åˆ†åˆ«æ˜¯ï¼š['user'] [] [categories]</span>
<span class="token comment" spellcheck="true">// å‡½æ•°å†…éƒ¨çš„ä¸»è¦ä»£ç æ˜¯</span>
<span class="token keyword">return</span> belongto<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> p<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">.</span>article
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="reduceæ–‡æ¡£"><a href="#reduceæ–‡æ¡£" class="headerlink" title="reduceæ–‡æ¡£"></a>reduceæ–‡æ¡£</h3><h4 id="Syntax"><a href="#Syntax" class="headerlink" title="Syntax"></a>Syntax</h4><pre class="line-numbers language-javascript"><code class="language-javascript">arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span>callback<span class="token punctuation">[</span><span class="token punctuation">,</span> initialValue<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h4><p>callbackæœ‰å››ä¸ªå‚æ•°ï¼šåˆ†åˆ«æ˜¯accumulator(å®ƒæ˜¯callbackä¸Šä¸€æ¬¡è¿”å›çš„å€¼æˆ–è€…æ˜¯initialValueï¼Œå‰ææ˜¯initialValueå­˜åœ¨)ã€currentValue(æ­£åœ¨ä½¿ç”¨çš„å€¼)ã€currentIndex(æ­£åœ¨ä½¿ç”¨çš„å€¼åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•)ã€array(è¿™ä¸ªæ˜¯å¾ªç¯çš„æ•°ç»„)ï¼›<br>initialValueï¼šç”¨ä½œç¬¬ä¸€æ¬¡è°ƒç”¨å›è°ƒçš„åˆå§‹å€¼ï¼Œå¦‚æœä¸æä¾›æ­¤å‚æ•°ï¼Œåˆ™ç¬¬ä¸€æ¬¡è°ƒç”¨å›è°ƒçš„åˆå§‹å€¼æ˜¯æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚ä¸ºäº†ä¿è¯å®‰å…¨ï¼Œæœ€å¥½æä¾›è¿™ä¸ªå€¼</p>
<p>tip: å½“æ•°ç»„ä¸ºç©ºæ—¶ï¼Œè‹¥æä¾›initialValueï¼Œåˆ™æœ€åçš„è¿”å›å€¼æ˜¯initialValueï¼Œå¦åˆ™ï¼ŒæŠ¥é”™ï¼›<br>     å½“æ•°ç»„ä¸ä¸ºç©ºæ—¶ï¼Œè‹¥æä¾›initialValueï¼Œåˆ™å¾ªç¯ä»indexä¸º0å¼€å§‹ï¼›å¦åˆ™å¾ªç¯ä»indexä¸º1å¼€å§‹ï¼Œaccumulatoræ­¤æ—¶ä¸ºindexä¸º0çš„å€¼ã€‚</p>
<h4 id="è¿”å›å€¼"><a href="#è¿”å›å€¼" class="headerlink" title="è¿”å›å€¼"></a>è¿”å›å€¼</h4><p>å›è°ƒå‡½æ•°çš„æœ€åçš„è¿”å›å€¼</p>
<h3 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h3><p>æ±‚æ•°ç»„å…ƒç´ çš„æ€»å’Œï¼ˆå‘Šåˆ«forå¾ªç¯ï¼‰</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a <span class="token operator">+</span> b<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// sum is 6</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>è¿æ¥æ•°ç»„</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> a<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// result is [0, 1, 2, 3, 4, 5]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>ç›¸åŒå…ƒç´ åœ¨æ•°ç»„ä¸­å‡ºç°å‡ æ¬¡</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Alice'</span><span class="token punctuation">,</span> <span class="token string">'Bob'</span><span class="token punctuation">,</span> <span class="token string">'Tiff'</span><span class="token punctuation">,</span> <span class="token string">'Bruce'</span><span class="token punctuation">,</span> <span class="token string">'Alice'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> countedNames <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>allNames<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token keyword">in</span> allNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    allNames<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">else</span> <span class="token punctuation">{</span>
    allNames<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> allNames<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// countedNames is:</span>
<span class="token comment" spellcheck="true">// { 'Alice': 2, 'Bob': 1, 'Tiff': 1, 'Bruce': 1 }</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> javascript </category>
            
        </categories>
        
        
        <tags>
            
            <tag> javascript </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[relay-apollo]]></title>
      <url>/2017/07/23/relay-apollo/</url>
      <content type="html"><![CDATA[<h3 id="ä½¿ç”¨relayçš„æ„Ÿå—"><a href="#ä½¿ç”¨relayçš„æ„Ÿå—" class="headerlink" title="ä½¿ç”¨relayçš„æ„Ÿå—"></a>ä½¿ç”¨relayçš„æ„Ÿå—</h3><p>åˆæ¬¡æ¥è§¦relayï¼Œæ„Ÿè§‰ä¸Šå¾ˆè‡ƒè‚¿ï¼Œå› ä¸ºå¿…é¡»ä¸ºæ¯ä¸ªç»„ä»¶è®¾ç½®containerï¼›è‹¥queryå±‚çº§åµŒå¥—å¾ˆæ·±ï¼Œä¸ºäº†ç»„ä»¶åŒ–ï¼Œå°±å¿…é¡»å°†æ¯ä¸€ä¸ªreactçš„componentå…¨éƒ¨åˆ†å¼€ï¼Œåœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘å†™äº†å…­ä¸ªç»„ä»¶ï¼Œé‚£ä¹ˆæ¯ä¸ªç»„ä»¶éƒ½éœ€è¦containerï¼Œå†™èµ·æ¥æ„Ÿè§‰æ»¡æ»¡çš„æ¶æ„ã€‚</p>
<h3 id="ä½¿ç”¨Apollo"><a href="#ä½¿ç”¨Apollo" class="headerlink" title="ä½¿ç”¨Apollo"></a>ä½¿ç”¨Apollo</h3><p>å†æ¬¡æ¥è§¦Apolloï¼Œçœ‹äº†æ–‡æ¡£ï¼Œæ„Ÿè§‰å’Œrelayå¤§åŒå°å¼‚ï¼Œä¸relayçš„ä¸åŒæ˜¯ï¼šæ— éœ€ä¸ºæ¯ä¸ªcomponentè®¾ç½®containerï¼Œæœ€åå†™ä¸€ä¸ªqueryå°±okğŸ‘Œäº†ã€‚queryä¹Ÿå¯ä»¥ç”±å¤šä¸ªfragmentç»„æˆã€‚å¦å¤–ï¼Œapolloä¹Ÿä¸ºangularjsæä¾›äº†è§£å†³æ–¹æ¡ˆï¼Œæœ‰ç‚¹æƒ³ä¸æ˜ç™½ğŸ¤”ï¼Œangularjsæœ¬èº«å°±æ˜¯åŒå‘æ•°æ®ç»‘å®šï¼Œä¸ºä»€ä¹ˆè¦å¯¹å®ƒæä¾›è§£å†³æ–¹æ¡ˆâ€¦å¦å¤–ï¼ŒApolloè™½ç„¶è‡ªèº«å†…éƒ¨é›†æˆäº†reduxï¼Œå‡å¦‚ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨äº†reduxï¼Œä½ å¯ä»¥ä½¿ç”¨reduxè€Œä¸ç”¨Apolloå†…éƒ¨çš„reduxã€‚</p>
<p>relay å› ä¸ºcontainerçš„å­˜åœ¨ï¼Œæ•°æ®åˆ’åˆ†çš„æ¯”è¾ƒä¸¥å¯†ï¼Œä½ åªèƒ½åœ¨å½“å‰çš„containerè®¿é—®fragmentä¸­çš„çš„å±æ€§ï¼Œä¸èƒ½è®¿é—®çˆ¶æˆ–å­fragmentçš„å±æ€§ã€‚è€Œapolloç›´æ¥ä½¿ç”¨çš„æ˜¯è¯·æ±‚å¾—åˆ°çš„Objectâ€¦<br>Apolloä¹Ÿå¯ä»¥å’Œé¡¹ç›®åŸæœ‰çš„reduxç›¸ç»“åˆä½¿ç”¨ï¼Œrelayä¸å¯ä»¥â€¦<br>å¾…ç»­â€¦<br>è¿™æ¬¡å†™çš„å¾ˆåŒ†å¿™ï¼Œå‡å¦‚æœ‰ä¸æ­£ç¡®çš„åœ°æ–¹ï¼Œè¯·æŒ‡æ­£ï¼Œè°¢è°¢ğŸ˜Šã€‚</p>
]]></content>
      
        <categories>
            
            <category> graphql </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
            <tag> angularjs </tag>
            
            <tag> graphql </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[git]]></title>
      <url>/2017/07/22/git/</url>
      <content type="html"><![CDATA[<h3 id="ä½¿ç”¨gitæƒ³è¦å»åˆå¹¶ä¸¤ä¸ªcommit"><a href="#ä½¿ç”¨gitæƒ³è¦å»åˆå¹¶ä¸¤ä¸ªcommit" class="headerlink" title="ä½¿ç”¨gitæƒ³è¦å»åˆå¹¶ä¸¤ä¸ªcommit"></a>ä½¿ç”¨gitæƒ³è¦å»åˆå¹¶ä¸¤ä¸ªcommit</h3><p>ä»Šå¤©å¥½ä¸å®¹æ˜“å®Œæˆäº†å·¥ä½œï¼Œç¡è§‰çš„æ—¶å€™çªç„¶æƒ³åˆ°è¿˜æœ‰äº›å°ç‘•ç–µï¼Œå°±æƒ³æ”¹æ­£ã€‚ä½†æ˜¯æ”¹åŠ¨èŒƒå›´å¾ˆå°ï¼Œä¸å¥½æ„æ€åœ¨commitä¸€æ¬¡ï¼Œäºæ˜¯å°±æƒ³å°†ä¸¤æ¬¡commitåˆå¹¶åœ¨ä¸€èµ·ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å°†æœ€æ–°çš„commitæ¨é€åˆ°è¿œç¨‹åˆ†æ”¯ï¼Œå°±ç›´æ¥åˆå¹¶äº†ä¸¤ä¸ªcommitæˆäº†ä¸€ä¸ªæ–°çš„commitï¼Œåœ¨æ¨é€åˆ°è¿œç¨‹æ—¶ï¼Œä¹Ÿæ²¡æœ‰å…ˆè¿›è¡Œpullçš„åŠ¨ä½œï¼ˆğŸ‘‰æ¯æ¬¡pushä¹‹å‰ä¸€å®šè¦è¿›è¡Œpullçš„åŠ¨ä½œï¼‰ï¼Œå¯¼è‡´è¿œç¨‹commitå’Œæˆ‘åˆå¹¶çš„commitå‘ç”Ÿå†²çªï¼Œæœ€åè¿˜éœ€è¦æ‰‹åŠ¨mergeã€‚çœ‹äº†ä¸€ä¸‹æäº¤è®°å½•ï¼Œå“åäº†ï¼Œæœ¬æ¥æˆ‘æƒ³åˆå¹¶commitï¼Œé¢„è®¡çš„commitåªä¼šåœ¨ä¹‹å‰çš„åŸºç¡€ä¸Šå¤šä¸€æ¬¡commitï¼Œä½†æ˜¯ç°åœ¨å¤šäº†ä¸‰æ¬¡commitï¼Œè¿™ä¸‹åäº†ã€‚<br>äºæ˜¯ï¼Œä¸Šç½‘æŸ¥è¯¢ï¼Œè¯•äº†å¥½å‡ ç§åŠæ³•ã€‚æ‰¾åˆ°äº†ä¸€ä¸ªå¾ˆåˆé€‚çš„åŠæ³•</p>
<pre><code>git  reset HEAD^ --hard    //å½»åº•å›é€€åˆ°ä¸Šæ¬¡æäº¤
git push origin åˆ†æ”¯å -f   // å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹
</code></pre><p>è¿™æ ·æ“ä½œä»¥åï¼Œæˆ‘çš„é—®é¢˜è§£å†³äº†</p>
<p>å¾…ç»­â€¦</p>
<p>-è¡¥å……â€”<br>æœ€å¥½ä¸è¦ä¸è¦å¼ºè¡ŒpushğŸ˜•</p>
]]></content>
      
        <categories>
            
            <category> Git </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Git </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[react-relay]]></title>
      <url>/2017/07/22/react-relay/</url>
      <content type="html"><![CDATA[<p>ä¸Šæ¬¡å†™æ„Ÿæƒ³è¿˜æ˜¯2014çš„æ—¶å€™ï¼Œé‚£ä¸ªæ—¶å€™æ˜¯è€å¸ˆå¸ƒç½®çš„ä½œä¸šï¼ˆå°´å°¬)<br>é˜Ÿé•¿çœ‹åˆ°GraphQLå¾ˆå¥½ï¼Œäºæ˜¯å…ˆæ‹¿ä¸€ä¸ªåŠŸèƒ½æ¥è¯•æ‰‹ğŸ˜Šã€‚<br>å‰ç«¯è¦ä½¿ç”¨GraphQLï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ajaxå‘é€queryå­—ç¬¦ä¸²ã€‚è¿™ä¸ªæ–¹æ³•ï¼Œè‹¥queryåµŒå¥—å±‚çº§å¤ªæ·±ï¼Œä¼šå¯¼è‡´queryå¾ˆé•¿ï¼Œé•¿çš„è®©äººæ¥å—ä¸äº†ï¼›å†è€…ï¼Œå‡å¦‚æ•°æ®å˜åŒ–ï¼Œéœ€è¦ä½ æ‰‹åŠ¨çš„å»æ”¹å˜DOMã€‚é¡¹ç›®ä¸­ä½¿ç”¨äº†reactï¼Œäºæ˜¯é˜Ÿé•¿ç»™æ¨èäº†react-relayæ¥é…åˆGraphQLã€‚<br>é¦–å…ˆç»™çš„æ—¶é—´æ˜¯çœ‹GraphQLå’Œreact-relayçš„æ–‡æ¡£ï¼Œå…ˆç„ä¸€çœ¼relayçš„æ–‡æ¡£ï¼Œæ„Ÿè§‰æ˜¯å±‚å±‚åµŒå¥—ï¼Œå°±å…ˆå»çœ‹GraphQLçš„æ–‡æ¡£ï¼Œrelayçš„æ–‡æ¡£æ²¡æœ‰çœ‹å®Œâ€¦ğŸ˜¶</p>
<h3 id="ç¬¬ä¸€å¤©"><a href="#ç¬¬ä¸€å¤©" class="headerlink" title="ç¬¬ä¸€å¤©"></a>ç¬¬ä¸€å¤©</h3><p>å¼€å§‹åœ¨é˜Ÿé•¿çš„é¼“åŠ±ä¸‹å¼€å§‹å†™relayï¼Œåˆ°äº†relayçš„å®˜ç½‘ä¸Šï¼Œçœ‹åˆ°æœ‰ä¸€ä¸ªDemoï¼Œå°±æŠŠä»£ç ç»™copyä¸‹æ¥ï¼Œå†æ ¹æ®æ–‡æ¡£ç†è§£äº†ä»£ç çš„æ„æ€ï¼Œå°±å¼€å§‹å°è¯•ç€å†™ä»£ç ã€‚å†™ä»£ç çš„è¿‡ç¨‹æœ‰ç‚¹åˆ«æ‰­ï¼Œåˆšå¼€å§‹æ¥è§¦ï¼Œä¼šçŠ¯ä¸€äº›é”™è¯¯ã€‚ä½†æ˜¯åˆä¸çŸ¥é“é”™è¯¯å‘ç”Ÿçš„åŸå› ï¼Œäºæ˜¯å°±å¼€å§‹googleè§£å†³ã€‚ä¹Ÿæƒ³åæ§½ä¸€ä¸‹æ–‡æ¡£ï¼Œæ–‡æ¡£ä¸Šè¯´ï¼Œfragmentçš„nameå»ºè®®æ˜¯fileName_propsNameï¼Œäºæ˜¯ä¸ºäº†åå­—çŸ­ç‚¹ï¼Œå°±å…¨éƒ¨æ”¹äº†ï¼Œç»“æœç¼–è¯‘çš„æ—¶å€™ï¼Œå‘Šè¯‰æˆ‘æ˜¯must beã€‚ğŸ˜¢<br>ä»£ç ç»ˆäºä¸æŠ¥é”™äº†ï¼Œä½†æ˜¯éœ€è¦ä¸€ä¸ªschemaçš„æ–‡ä»¶ã€‚æˆ‘æƒ³æ‰‹å†™schemaå¤ªç¹çäº†ï¼Œä¹Ÿæ˜¯å»æŸ¥æœ‰æ²¡æœ‰è‡ªåŠ¨ç”Ÿæˆschemaçš„æ’ä»¶ï¼Œä½†æ˜¯å¾ˆé—æ†¾ï¼Œæˆ‘æ‰¾åˆ°éƒ½æ˜¯é…åˆnodeä½¿ç”¨çš„ï¼ˆå‡å¦‚ä½ æœ‰å¥½çš„æ’ä»¶ï¼Œè¯·æ¨èç»™æˆ‘ï¼Œè°¢è°¢ï¼‰ã€‚æ‰¾å•Šæ‰¾ï¼Œæ‰¾å•Šæ‰¾ï¼Œä¹Ÿæ²¡æ‰¾åˆ°åˆé€‚çš„ï¼Œæœ€ç»ˆæ˜¯é˜Ÿé•¿ä¸Šç½‘æ‰¾äº†ä¸€ä¸ªå·¥å…·ç”Ÿæˆçš„ğŸ¤—ã€‚schemaçš„é—®é¢˜è§£å†³ã€‚schemaçš„å­˜åœ¨æ˜¯ä¸ºäº†æ˜ å°„fragmentçš„typeã€‚<br>è¿™ä¸ªæ—¶å€™ï¼Œå¤§å“¥è¿‡æ¥é—®é—®æˆ‘æ€ä¹ˆæ ·äº†ï¼Œæˆ‘å‘Šè¯‰ä»–ï¼Œè™½ç„¶å®‰è£…äº†react-relayï¼Œå¯æ˜¯æ–‡æ¡£ä¸Šçš„æ–¹æ³•ä¸å­˜åœ¨ï¼Œæˆ‘å°±å¾ˆæš´åŠ›çš„æ”¹äº†æºç ï¼Œå°†æ–¹æ³•æš´éœ²å‡ºæ¥ã€‚ä»–å‘Šè¯‰æˆ‘relayç°åœ¨æœ‰ä¸¤ä¸ªç‰ˆæœ¬ï¼šclassicå’Œmodernï¼Œmodernæ˜¯æœ€æ–°çš„ã€‚æˆ‘å¼±å¼±çš„é—®ä¸€å¥ï¼Œå’±ä»¬ç”¨å“ªä¸ªç‰ˆæœ¬ï¼Œä»–è¯´å½“ç„¶æ˜¯æœ€æ–°çš„ã€‚æˆ‘çš„å†…å¿ƒåœ¨å“­æ³£ğŸ˜­ã€‚æ—¢ç„¶åªæ˜¯ç‰ˆæœ¬çš„è¿­ä»£ï¼Œæ€æƒ³è‚¯å®šæ²¡æœ‰å¤ªå¤§çš„å˜åŒ–ï¼Œäºæ˜¯æ‰“èµ·ç²¾ç¥æ¥çœ‹æ–‡æ¡£ã€‚ğŸ‘‰è¿™é‡Œæ˜¯æˆ‘å¤ªå¿ƒæ€¥äº†ï¼Œç›´æ¥çœ‹äº†Demoï¼Œå°±ctrl+få»ç›´æ¥æœæ–¹æ³•äº†ï¼Œæ²¡æœ‰æ•´ä½“çš„å…ˆæµè§ˆä¸€ä¸‹æ–‡æ¡£ï¼Œè¦ä¸ç„¶ä¹Ÿä¸ä¼šæœ‰è¿™ä¸ªä¸å¯é¢„æ–™çš„æƒ…å†µã€‚</p>
<h3 id="ç¬¬äºŒå¤©"><a href="#ç¬¬äºŒå¤©" class="headerlink" title="ç¬¬äºŒå¤©"></a>ç¬¬äºŒå¤©</h3><p>è¾¹çœ‹æ–‡æ¡£ï¼Œè¾¹æ”¹æˆ‘çš„ä»£ç ã€‚ğŸ‘‰åˆšå¼€å§‹æŠ¥é”™æ˜¯â€œæ²¡æœ‰é…ç½®babelæˆ–è€…graphqlå†™é”™äº†â€ï¼Œå‡å¦‚ä½ çš„babelé…ç½®æ˜¯æŒ‰ç…§æ–‡æ¡£æ¥çš„ï¼Œé‚£æœ€æœ‰å¯èƒ½çš„å°±æ˜¯ä½ çš„fragmentæˆ–è€…queryå†™é”™äº†ã€‚æœ€ç®€å•çš„queryå¯ä»¥æ­£å¸¸çš„æ¸²æŸ“å‡ºæ¥äº†ï¼Œå› ä¸ºæ˜¯queryä¸­éœ€è¦æœ‰å‚æ•°ï¼Œæ‰€ä»¥å¼€å§‹çœ‹å¦‚ä½•ä½¿ç”¨å‚æ•°ã€‚åœ¨æŸ¥èµ„æ–™çš„æ—¶å€™ï¼Œ<a href="https://github.com/facebook/relay/issues/1700" target="_blank" rel="noopener">è¿™ä¸ªé“¾æ¥</a>ç»™äº†æˆ‘å¾ˆå¤§çš„å¸®åŠ©ã€‚ä½†æ˜¯åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä¸‹é¢çš„é”™è¯¯ä¼´éšäº†æˆ‘åä¸ªå°æ—¶ï¼Œæˆ‘ä¸€ç›´åœ¨å°è¯•è§£å†³è¿™ä¸ªé”™è¯¯ï¼Œäºæ˜¯ä¸Šç½‘æŸ¥å•ŠæŸ¥ æŸ¥å•ŠæŸ¥ æŸ¥å•ŠæŸ¥<br><img src="http://upload-images.jianshu.io/upload_images/7018384-1d20f70b1bae001a?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>ä¹Ÿæ²¡æ‰¾åˆ°ç­”æ¡ˆ</p>
<h3 id="ç¬¬ä¸‰å¤©"><a href="#ç¬¬ä¸‰å¤©" class="headerlink" title="ç¬¬ä¸‰å¤©"></a>ç¬¬ä¸‰å¤©</h3><p>å¤§å“¥è¯´ä»–å†™å‡ºæ¥äº†ï¼Œæˆ‘çœ‹äº†ä»–çš„ä»£ç ï¼Œå¯¹æ¯”æˆ‘çš„ä»£ç ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯ï¼Œæˆ‘å°†edgeså’Œnodeè¦å†™åœ¨ä¸åŒçš„fragmentä¸­ã€‚æˆ‘å°è¯•åœ¨æ­£ç¡®çš„ä»£ç ä¸Šæ”¹æˆæˆ‘è®¾è®¡çš„fragmentï¼ŒåŠŸèƒ½å°±æŠ¥é”™äº†ã€‚æˆ‘æ„è¯†åˆ°ï¼Œéœ€è¦å°†edgeså’Œnodeå†™åœ¨åŒä¸€ä¸ªfragmentä¸­ã€‚ğŸ‘‰å‡ºç°è¿™ä¸ªé”™è¯¯çš„åŸå› æ˜¯ï¼Œæˆ‘å·²ç»å°è£…å¥½çš„fragmentï¼Œå‡ºç°è¿™ä¸ªé”™è¯¯ï¼Œæˆ‘å…¨éƒ¨çš„å¿ƒæ€éƒ½æ”¾åœ¨äº†index.jsï¼Œæ²¡æœ‰æ£€æŸ¥æˆ‘å°è£…å¥½çš„ç»„ä»¶ã€‚å‡å¦‚å†æ¥ä¸€æ¬¡ï¼Œæˆ‘ä¹Ÿä¼šè¢«å›°åœ¨è¿™ä¸ªerrorä¸Šå‡ºä¸æ¥ã€‚ä¹‹åå› ä¸ºè¿˜æœ‰ä¸€ä¸ªåŠ è½½æ›´å¤šçš„åŠ¨ä½œï¼Œäºæ˜¯æˆ‘å¼€å§‹å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å­¦ä¼šäº†reactçˆ¶å­ç»„ä»¶å¦‚ä½•ä¼ é€’æ¶ˆæ¯ã€‚</p>
<h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>åŠŸèƒ½å®Œæˆå¥½äº†ã€‚ä½†æ˜¯åœ¨è¿›è¡Œæµ‹è¯•çš„æ—¶å€™ï¼Œå†çœ‹networkæ—¶ï¼ŒåŠ è½½æ›´å¤šè¿™ä¸ªæŒ‰é’®æ˜¯é€šè¿‡firstè¿™ä¸ªå‚æ•°æ¥è¿›è¡Œè¯·æ±‚æ•°æ®ï¼Œfirstçš„æ„æ€å°±æ˜¯å–å‰firstæ•°æ®ï¼Œåç«¯é™åˆ¶firståªèƒ½å–åˆ°50ï¼Œå³ä½¿å¯ä»¥å–åˆ°1000ï¼Œä½†æ˜¯åœ¨ç½‘ç»œä¸Šä¼ è¾“1000æ¡æ•°æ®ï¼Œä¹Ÿæ˜¯ä¸€ç¬”åºå¤§çš„è´Ÿæ‹…ã€‚relayä¹Ÿæä¾›äº†åˆ†é¡µçš„containerï¼Œä½†æ˜¯æ²¡æœ‰ç ”ç©¶å‡ºæ¥æ˜¯æ€æ ·ä½¿ç”¨çš„ã€‚äºæ˜¯relayéœ€è¦æ›´æ¢â€¦.æ‰€ä»¥ï¼Œæ²¡æœ‰ä¸€ä¸ªå¾ˆå¥½çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ğŸ‘‰é˜Ÿé•¿åˆç»™æ¨èäº†Apolloï¼Œæ¥ä¸‹æ¥è¦å»çœ‹Apolloäº†<br>å¾…ç»­â€¦</p>
]]></content>
      
        <categories>
            
            <category> graphql </category>
            
        </categories>
        
        
        <tags>
            
            <tag> react </tag>
            
            <tag> graphql </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[wechatPHP]]></title>
      <url>/2017/03/29/wechatPHP/</url>
      <content type="html"><![CDATA[<p>ä½¿ç”¨apache+php5.4n<br>1ã€æ‰“å¼€apacheé…ç½®æ–‡ä»¶httpd.conf<br>      æœç´¢httpd-vhosts.confï¼Œæ‰“å¼€è¿™ä¸€è¡Œçš„æ³¨é‡Š<br>2ã€æ‰“å¼€apacheæ‰€åœ¨ç›®å½•ä¸‹çš„ï¼Œconf/extra/httpd-vhost.conf<br>  å¢åŠ ä»¥ä¸‹ä»£ç ï¼Œä¿å­˜</p>
<pre><code>&lt;VirtualHost *:80&gt;  
 DocumentRoot &quot;D:\WWW\car-xxxx\car&quot;  
 ServerName www.car-zones.com  
&lt;/VirtualHost&gt;  
&lt;Directory &quot;D:\WWW\car-xxxx\car&quot;&gt;  
    Options Indexes FollowSymLinks Includes ExecCGI  
    AllowOverride All  
    Order allow,deny  
    Allow from all  
&lt;/Directory&gt;
</code></pre><p>3ã€é‡å¯apache<br>4ã€æ‰“å¼€c:/windows/system32/drivers/etc/hots<br>æœ€åä¸€è¡ŒåŠ å…¥ï¼šwww.car-xxxx.com<br>5ã€è®¿é—® www.car-xxxx.com<br>6ã€å®Œæˆé…ç½®</p>
<p>ç¬¬ä¸€æ¬¡å­¦ä¹ ï¼Œè®°å½•ä¸€ä¸‹</p>
]]></content>
      
        <categories>
            
            <category> PHP </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å¾®ä¿¡å…¬ä¼—å· </tag>
            
            <tag> php </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[dataTable]]></title>
      <url>/2017/03/26/dataTable/</url>
      <content type="html"><![CDATA[<p>å¶ç„¶å‘ç°ä¸€ä¸ªå« dataTable  çš„ç»„ä»¶ï¼Œè§‰å¾—å¾ˆå¥½ç”¨ï¼Œäºæ˜¯ç ”ç©¶äº†ä¸€ç•ªï¼Œä¸‹é¢æ˜¯ä»£ç </p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> lang <span class="token operator">=</span> <span class="token punctuation">{</span>  
  <span class="token string">"sProcessing"</span><span class="token punctuation">:</span> <span class="token string">"å¤„ç†ä¸­..."</span><span class="token punctuation">,</span>  
  <span class="token string">"sLengthMenu"</span><span class="token punctuation">:</span> <span class="token string">"æ¯é¡µ _MENU_ é¡¹"</span><span class="token punctuation">,</span>  
  <span class="token string">"sZeroRecords"</span><span class="token punctuation">:</span> <span class="token string">"æ²¡æœ‰åŒ¹é…ç»“æœ"</span><span class="token punctuation">,</span>  
  <span class="token string">"sInfo"</span><span class="token punctuation">:</span> <span class="token string">"å½“å‰æ˜¾ç¤ºç¬¬ _START_ è‡³ _END_ é¡¹ï¼Œå…± _TOTAL_ é¡¹ã€‚"</span><span class="token punctuation">,</span>  
  <span class="token string">"sInfoEmpty"</span><span class="token punctuation">:</span> <span class="token string">"å½“å‰æ˜¾ç¤ºç¬¬ 0 è‡³ 0 é¡¹ï¼Œå…± 0 é¡¹"</span><span class="token punctuation">,</span>  
  <span class="token string">"sInfoFiltered"</span><span class="token punctuation">:</span> <span class="token string">"(ç”± _MAX_ é¡¹ç»“æœè¿‡æ»¤)"</span><span class="token punctuation">,</span>  
  <span class="token string">"sInfoPostFix"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  
  <span class="token string">"sSearch"</span><span class="token punctuation">:</span> <span class="token string">"æœç´¢:"</span><span class="token punctuation">,</span>  
  <span class="token string">"sUrl"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>  
  <span class="token string">"sEmptyTable"</span><span class="token punctuation">:</span> <span class="token string">"è¡¨ä¸­æ•°æ®ä¸ºç©º"</span><span class="token punctuation">,</span>  
  <span class="token string">"sLoadingRecords"</span><span class="token punctuation">:</span> <span class="token string">"è½½å…¥ä¸­..."</span><span class="token punctuation">,</span>  
  <span class="token string">"sInfoThousands"</span><span class="token punctuation">:</span> <span class="token string">","</span><span class="token punctuation">,</span>  
  <span class="token string">"oPaginate"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  
    <span class="token string">"sFirst"</span><span class="token punctuation">:</span> <span class="token string">"é¦–é¡µ"</span><span class="token punctuation">,</span>  
    <span class="token string">"sPrevious"</span><span class="token punctuation">:</span> <span class="token string">"ä¸Šé¡µ"</span><span class="token punctuation">,</span>  
    <span class="token string">"sNext"</span><span class="token punctuation">:</span> <span class="token string">"ä¸‹é¡µ"</span><span class="token punctuation">,</span>  
    <span class="token string">"sLast"</span><span class="token punctuation">:</span> <span class="token string">"æœ«é¡µ"</span><span class="token punctuation">,</span>  
    <span class="token string">"sJump"</span><span class="token punctuation">:</span> <span class="token string">"è·³è½¬"</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
 <span class="token string">"oAria"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>  
    <span class="token string">"sSortAscending"</span><span class="token punctuation">:</span> <span class="token string">": ä»¥å‡åºæ’åˆ—æ­¤åˆ—"</span><span class="token punctuation">,</span>  
    <span class="token string">"sSortDescending"</span><span class="token punctuation">:</span> <span class="token string">": ä»¥é™åºæ’åˆ—æ­¤åˆ—"</span>  
  <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">;</span>  

<span class="token keyword">var</span> table <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#sample"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">dataTable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
  language<span class="token punctuation">:</span>lang<span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//æç¤ºä¿¡æ¯  </span>
  autoWidth<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//ç¦ç”¨è‡ªåŠ¨è°ƒæ•´åˆ—å®½  </span>
  processing<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//éšè—åŠ è½½æç¤º,è‡ªè¡Œå¤„ç†  </span>
  serverSide<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//å¯ç”¨æœåŠ¡å™¨ç«¯åˆ†é¡µ  </span>
  searching<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//ç¦ç”¨åŸç”Ÿæœç´¢  </span>
  search<span class="token punctuation">:</span> <span class="token punctuation">{</span>  
    <span class="token string">"search"</span><span class="token punctuation">:</span> <span class="token string">""</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  ordering<span class="token punctuation">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>  
  renderer<span class="token punctuation">:</span> <span class="token string">"bootstrap"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//æ¸²æŸ“æ ·å¼ï¼šBootstrapå’Œjquery-ui  </span>
  lengthChange<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  
  pageLength<span class="token punctuation">:</span><span class="token number">15</span><span class="token punctuation">,</span>  
  rowId<span class="token punctuation">:</span> <span class="token string">'_id'</span><span class="token punctuation">,</span>  
  pagingType<span class="token punctuation">:</span> <span class="token string">"simple_numbers"</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//åˆ†é¡µæ ·å¼ï¼šsimple,simple_numbers,full,full_numbers  </span>
  columnDefs<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>  
    <span class="token string">"targets"</span><span class="token punctuation">:</span> <span class="token string">'nosort'</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//åˆ—çš„æ ·å¼å  </span>
    <span class="token string">"orderable"</span><span class="token punctuation">:</span> <span class="token boolean">false</span>    <span class="token comment" spellcheck="true">//åŒ…å«ä¸Šæ ·å¼åâ€˜nosortâ€™çš„ç¦æ­¢æ’åº  </span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  
  ajax<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>data<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> settings<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token comment" spellcheck="true">//å°è£…è¯·æ±‚å‚æ•°  </span>
    <span class="token keyword">var</span> param <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
    param<span class="token punctuation">.</span>keyword <span class="token operator">=</span> data<span class="token punctuation">.</span>search<span class="token punctuation">.</span>value<span class="token punctuation">;</span>  
    param<span class="token punctuation">.</span>limit <span class="token operator">=</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//é¡µé¢æ˜¾ç¤ºè®°å½•æ¡æ•°ï¼Œåœ¨é¡µé¢æ˜¾ç¤ºæ¯é¡µæ˜¾ç¤ºå¤šå°‘é¡¹çš„æ—¶å€™  </span>
    param<span class="token punctuation">.</span>start <span class="token operator">=</span> data<span class="token punctuation">.</span>start<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å¼€å§‹çš„è®°å½•åºå·  </span>
    param<span class="token punctuation">.</span>page <span class="token operator">=</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>start <span class="token operator">/</span> data<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//å½“å‰é¡µç   </span>
    <span class="token comment" spellcheck="true">//console.log(param);  </span>
    <span class="token comment" spellcheck="true">//ajaxè¯·æ±‚æ•°æ®  </span>
    $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
      type<span class="token punctuation">:</span> <span class="token string">"POST"</span><span class="token punctuation">,</span>  
      url<span class="token punctuation">:</span> <span class="token string">"/payment/result"</span><span class="token punctuation">,</span>  
      cache<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//ç¦ç”¨ç¼“å­˜  </span>
      data<span class="token punctuation">:</span> param<span class="token punctuation">,</span>  <span class="token comment" spellcheck="true">//ä¼ å…¥ç»„è£…çš„å‚æ•°  </span>
      dataType<span class="token punctuation">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>  
      success<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token punctuation">{</span>  

        <span class="token comment" spellcheck="true">//å°è£…è¿”å›æ•°æ®  </span>
        <span class="token keyword">var</span> returnData <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
        returnData<span class="token punctuation">.</span>draw <span class="token operator">=</span> data<span class="token punctuation">.</span>draw<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿™é‡Œç›´æ¥è‡ªè¡Œè¿”å›äº†drawè®¡æ•°å™¨,åº”è¯¥ç”±åå°è¿”å›  </span>
        returnData<span class="token punctuation">.</span>recordsTotal <span class="token operator">=</span> result<span class="token punctuation">.</span>totalCount<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿”å›æ•°æ®å…¨éƒ¨è®°å½•  </span>
        returnData<span class="token punctuation">.</span>recordsFiltered <span class="token operator">=</span> result<span class="token punctuation">.</span>totalCount<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//åå°ä¸å®ç°è¿‡æ»¤åŠŸèƒ½ï¼Œæ¯æ¬¡æŸ¥è¯¢å‡è§†ä½œå…¨éƒ¨ç»“æœ  </span>
        returnData<span class="token punctuation">.</span>data <span class="token operator">=</span> result<span class="token punctuation">.</span>payment<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//è¿”å›çš„æ•°æ®åˆ—è¡¨  </span>
        <span class="token comment" spellcheck="true">//è°ƒç”¨DataTablesæä¾›çš„callbackæ–¹æ³•ï¼Œä»£è¡¨æ•°æ®å·²å°è£…å®Œæˆå¹¶ä¼ å›DataTablesè¿›è¡Œæ¸²æŸ“  </span>
        <span class="token comment" spellcheck="true">//æ­¤æ—¶çš„æ•°æ®éœ€ç¡®ä¿æ­£ç¡®æ— è¯¯ï¼Œå¼‚å¸¸åˆ¤æ–­åº”åœ¨æ‰§è¡Œæ­¤å›è°ƒå‰è‡ªè¡Œå¤„ç†å®Œæ¯•  </span>
        <span class="token function">callback</span><span class="token punctuation">(</span>returnData<span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token punctuation">}</span><span class="token punctuation">,</span>  
  <span class="token comment" spellcheck="true">//åˆ—è¡¨è¡¨å¤´å­—æ®µ  </span>
  columns<span class="token punctuation">:</span> <span class="token punctuation">[</span>   
    <span class="token punctuation">{</span>    
      className<span class="token punctuation">:</span> <span class="token string">"center"</span><span class="token punctuation">,</span>    
      orderable <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    
      bSortable <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    
      data <span class="token punctuation">:</span> <span class="token string">"_id"</span><span class="token punctuation">,</span>    
      render <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> type<span class="token punctuation">,</span> row<span class="token punctuation">,</span> meta<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token string">'&lt;label class="position-relative">'</span><span class="token punctuation">;</span>    
        content <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'&lt;input type="checkbox" class="ace" value="'</span> <span class="token operator">+</span> data <span class="token operator">+</span> <span class="token string">'" />'</span><span class="token punctuation">;</span>    
        content <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'&lt;span class="lbl">&lt;/span>'</span><span class="token punctuation">;</span>    
        content <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">'&lt;/label>'</span><span class="token punctuation">;</span>    
        <span class="token keyword">return</span> content<span class="token punctuation">;</span>    
      <span class="token punctuation">}</span>       
    <span class="token punctuation">}</span><span class="token punctuation">,</span>    
    <span class="token punctuation">{</span>   
      <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token string">"type"</span><span class="token punctuation">,</span>  
      render<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span>type<span class="token punctuation">,</span>full<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span>date <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
          content <span class="token operator">=</span> <span class="token string">'æ”¶å…¥'</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
          content <span class="token operator">=</span> <span class="token string">'æ”¯å‡º'</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
        <span class="token keyword">return</span> content<span class="token punctuation">;</span>  
      <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token punctuation">{</span> <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token string">"name"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token punctuation">{</span> <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token string">"price"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token punctuation">{</span> <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token string">"product_type"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token punctuation">{</span> <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token string">"meta.createAt"</span><span class="token punctuation">,</span>  
      render<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>date<span class="token punctuation">,</span>type<span class="token punctuation">,</span>full<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      <span class="token keyword">return</span> date<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
      <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    <span class="token punctuation">{</span>   
      bSortable <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    
      visible <span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>   
      data <span class="token punctuation">:</span> <span class="token string">"_id"</span><span class="token punctuation">,</span>       
      render <span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> type<span class="token punctuation">,</span> full<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">var</span> content <span class="token operator">=</span> <span class="token string">'&lt;div class="hidden-sm hidden-xs action-buttons">'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;a href="/payment/detail/'</span> <span class="token operator">+</span> data <span class="token operator">+</span> <span class="token string">'" class="blue">'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;i class="ace-icon fa fa-search-plus bigger-130">&lt;/i>'</span><span class="token operator">+</span>  
        <span class="token string">' &lt;/a>'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;a href="javascript:void(0);" data-id="'</span> <span class="token operator">+</span> data <span class="token operator">+</span> <span class="token string">'" class="delete_btn red">'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;i class="ace-icon fa fa-trash-o bigger-130">&lt;/i>'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;/a>'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;/div>'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;div class="hidden-md hidden-lg">'</span><span class="token operator">+</span>  
        <span class="token string">'  &lt;div class="inline position-relative">'</span><span class="token operator">+</span>  
        <span class="token string">'    &lt;button data-toggle="dropdown" data-position="auto" class="btn btn-minier btn-yellow dropdown-toggle">&lt;i class="ace-icon fa fa-caret-down icon-only bigger-120">&lt;/i>&lt;/button>'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;ul class="dropdown-menu dropdown-only-icon dropdown-yellow dropdown-menu-right dropdown-caret dropdown-close">'</span><span class="token operator">+</span>  
        <span class="token string">' &lt;li>&lt;a href="/payment/detail/'</span> <span class="token operator">+</span> data <span class="token operator">+</span> <span class="token string">'" data-rel="tooltip" title="" data-original-title="View" class="tooltip-info">&lt;span class="blue">&lt;i class="ace-icon fa fa-search-plus bigger-120">&lt;/i>&lt;/span>&lt;/a>'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;li>&lt;a data-rel="tooltip" title="" data-original-title="Delete" data-id="'</span> <span class="token operator">+</span> data <span class="token operator">+</span> <span class="token string">'" class="delete_btn tooltip-error">&lt;span class="red">&lt;i class="ace-icon fa fa-trash-o bigger-120">&lt;/i>&lt;/span>&lt;/a>&lt;/li>'</span><span class="token operator">+</span>  
        <span class="token string">'&lt;/ul>&lt;/div>&lt;/div>'</span><span class="token punctuation">;</span>  

        <span class="token keyword">return</span> content<span class="token punctuation">;</span>    
      <span class="token punctuation">}</span>     
    <span class="token punctuation">}</span>   
  <span class="token punctuation">]</span>  
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">api</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
  <span class="token comment" spellcheck="true">//æ­¤å¤„éœ€è°ƒç”¨api()æ–¹æ³•,å¦åˆ™è¿”å›çš„æ˜¯JQueryå¯¹è±¡è€Œä¸æ˜¯DataTablesçš„APIå¯¹è±¡  </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      
        <categories>
            
            <category> å‰ç«¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> jQuery </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[moment]]></title>
      <url>/2016/12/11/moment/</url>
      <content type="html"><![CDATA[<p>é¦–å…ˆï¼Œå¥½ä¹…æ²¡æœ‰æ¥å¤šåšå®¢äº†</p>
<p>ä»Šå¤©åœ¨å­¦ä¹ MongoDBæ—¶ï¼Œéœ€è¦æ ¼å¼åŒ–æ—¶é—´ï¼Œä¸Šç½‘æŸ¥äº†ä¸€ä¸‹ï¼Œnodejsä¸­çš„momentæ¨¡å—å¯ä»¥æ ¼å¼åŒ–æ—¶é—´ã€‚<br>é¦–å…ˆï¼Œmongodbä¸­æœ‰ä¸€ä¸ªå­—æ®µæ˜¯Dateç±»å‹éœ€è¦ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå°±æ˜¯å½“å‰æ—¶é—´ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç æ¥æ ¼å¼åŒ–æ—¶é—´</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ä½¿ç”¨ä»¥ä¸‹ä»£ç ä¹Ÿæ˜¯å¯ä»¥çš„</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token function">moment</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>ç›®å‰åªä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ï¼Œä»¥åå†æ¥è¡¥å……<br>â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”åˆ†å‰²çº¿â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-<br>åœ¨å­˜å…¥<a href="http://lib.csdn.net/base/mysql" target="_blank" rel="noopener">æ•°æ®åº“</a>æ—¶ï¼Œæˆ‘å·²ç»æ ¼å¼åŒ–æ—¥æœŸäº†ï¼Œå–å‡ºæ¥å‘ç°æ˜¯æ²¡æœ‰æ ¼å¼çš„æ•°æ®ï¼Œå¾ˆçº³é—·ï¼Œä¸çŸ¥é“åŸå› ï¼Œæ‰¾åˆ°äº†è§£å†³åŠæ³•ã€‚<br>expressæˆ‘æ˜¯ç”¨çš„jadeæ¨¡æ¿ï¼Œ<br>åœ¨app.jsä¸­åŠ å…¥</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">app<span class="token punctuation">.</span>locals<span class="token punctuation">.</span>moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>åœ¨jadeä¸­è¯»å–æ—¥æœŸæ•°æ®ä½¿ç”¨</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">#<span class="token punctuation">{</span><span class="token function">moment</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span>createTime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å–å‡ºæ¥çš„æ—¥æœŸæ˜¯æ ¼å¼åŒ–çš„</p>
]]></content>
      
        <categories>
            
            <category> Nodejs </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[useMongoDB]]></title>
      <url>/2016/12/11/useMongoDB/</url>
      <content type="html"><![CDATA[<p>æœ€è¿‘åœ¨å­¦ä¹ mongdb</p>
<p>ä»¥ä¸‹æ˜¯ä½¿ç”¨mongooseæ¨¡å—æ¥ä¿å­˜æ•°æ®</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> mongoose <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'mongoose'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> moment <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'moment'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token comment" spellcheck="true">// è¿æ¥å­—ç¬¦ä¸²æ ¼å¼ä¸ºmongodb://ä¸»æœº/æ•°æ®åº“å  </span>
mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">'mongodb://localhost/test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> db <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>connection<span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">//è¾“å‡ºè¿æ¥æ—¥å¿—  </span>
db<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Connection error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

db<span class="token punctuation">.</span><span class="token function">once</span><span class="token punctuation">(</span><span class="token string">'open'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Mongo working!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token comment" spellcheck="true">// åˆ›å»ºschema  </span>
<span class="token keyword">var</span> Schema <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>Schema<span class="token punctuation">;</span>  
<span class="token keyword">var</span> userSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    name<span class="token punctuation">:</span> String<span class="token punctuation">,</span>  
    age<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>  
    createTime<span class="token punctuation">:</span> <span class="token punctuation">{</span>  
        type<span class="token punctuation">:</span> Date<span class="token punctuation">,</span>  
        <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    updateTime<span class="token punctuation">:</span> <span class="token punctuation">{</span>  
        type<span class="token punctuation">:</span> Date<span class="token punctuation">,</span>  
        <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token function">moment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span><span class="token punctuation">,</span>  
    telphone<span class="token punctuation">:</span> String  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">// æ„å»ºmodel  </span>
<span class="token keyword">var</span> User <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token string">'User'</span><span class="token punctuation">,</span> userSchema<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment" spellcheck="true">//æ„å»ºmodelå®ä¾‹  </span>
<span class="token keyword">var</span> userData <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">{</span>  
    name<span class="token punctuation">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>  
    age<span class="token punctuation">:</span> <span class="token number">21</span><span class="token punctuation">,</span>  
    telphone<span class="token punctuation">:</span> <span class="token string">'18766560229'</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token comment" spellcheck="true">// ä¿å­˜æ•°æ®  </span>
userData<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token keyword">if</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>  
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Save success'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>è¿˜æœ‰ï¼Œè¾“å‡ºä¿¡æ¯æœ‰ä»¥ä¸‹ä¿¡æ¯ï¼š<br>(node:7780) DeprecationWarning: Mongoose: mpromise (mongooseâ€™s default promise library) is deprecated, plug in your own promise library instead: <a href="http://mongoosejs.com/docs/promises.html" target="_blank" rel="noopener">http://mongoosejs.com/docs/promises.html</a><br>ä¹Ÿä¸ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ï¼Œéœ€è¦è¡¥å……</p>
]]></content>
      
        <categories>
            
            <category> æ•°æ®åº“ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> nodejs </tag>
            
            <tag> MongoDB </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[ngInterpolate]]></title>
      <url>/2016/09/17/ngInterpolate/</url>
      <content type="html"><![CDATA[<p>$interpolateæœåŠ¡è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥åœ¨ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¸­è¿ç®—è¡¨è¾¾å¼ã€‚<br>ç¤ºä¾‹ï¼š<br>htmlä»£ç ï¼š</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ng-controller</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>myController<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">ng-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>to<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>email<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">ng-model</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>emailBody<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span>{{previewText}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>jsä»£ç ï¼š</p>
<pre class="line-numbers language-javascript"><code class="language-javascript">angular<span class="token punctuation">.</span><span class="token function">module</span><span class="token punctuation">(</span><span class="token string">'myApp'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  
  <span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span><span class="token string">'myController'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'$scope'</span><span class="token punctuation">,</span><span class="token string">'$interpolate'</span><span class="token punctuation">,</span>  
    <span class="token keyword">function</span><span class="token punctuation">(</span>$scope<span class="token punctuation">,</span>$interpolate<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
      $scope<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">'emailBody'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
          <span class="token keyword">var</span> template <span class="token operator">=</span> <span class="token function">$interpolate</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>  
          $scope<span class="token punctuation">.</span>previewText <span class="token operator">=</span> <span class="token function">template</span><span class="token punctuation">(</span><span class="token punctuation">{</span>to<span class="token punctuation">:</span>$scope<span class="token punctuation">.</span>to<span class="token punctuation">}</span><span class="token punctuation">)</span>  
        <span class="token punctuation">}</span>  
      <span class="token punctuation">}</span><span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>  
  <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>ä½¿ç”¨ï¼šåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥ä½ çš„emailåœ°å€ï¼Œåœ¨æ–‡æœ¬æ¡†ä¸­è¾“å…¥ï¼ŒpreviewTextä¸­çš„å€¼å³ä¸ºtoçš„å€¼</p>
]]></content>
      
        <categories>
            
            <category> å‰ç«¯ </category>
            
        </categories>
        
        
        <tags>
            
            <tag> angularjs </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[java1]]></title>
      <url>/2016/07/20/java1/</url>
      <content type="html"><![CDATA[<p>Javaå·²ç»å¿˜äº†å·®ä¸å¤šäº†ï¼Œæœ€è¿‘åˆéœ€è¦é‡æ–°æ¡èµ·Javaã€‚<br>å¯¹äºä¸€å‰¯æ‰‘å…‹ç‰Œå…±æœ‰54å¼ ï¼Œæ‰‘å…‹ç‰Œæ´—ç‰Œå°±æ˜¯å°†è¿™54å¼ ç‰Œæ²¡æœ‰è§„å¾‹çš„è¾“å‡ºå‡ºæ¥ï¼Œ<br>ç”¨ArrayListå®ç°ï¼Œæœ¬è´¨æ˜¯54ä¸ªæ•°çš„éšæœºè¾“å‡ºï¼Œç©¿äº†èº«è¡£æœï¼Œè¾“å‡ºå‡ºæ¥å°±å¥½çœ‹å¤šäº†</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Poker</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> String <span class="token function">poker</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        String str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>  
        String<span class="token punctuation">[</span><span class="token punctuation">]</span> huase <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"çº¢æ¡ƒ"</span><span class="token punctuation">,</span><span class="token string">"é»‘æ¡ƒ"</span><span class="token punctuation">,</span><span class="token string">"æ¢…èŠ±"</span><span class="token punctuation">,</span><span class="token string">"æ–¹å—"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
        String<span class="token punctuation">[</span><span class="token punctuation">]</span> number <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"A"</span><span class="token punctuation">,</span><span class="token string">"2"</span><span class="token punctuation">,</span><span class="token string">"3"</span><span class="token punctuation">,</span><span class="token string">"4"</span><span class="token punctuation">,</span><span class="token string">"5"</span><span class="token punctuation">,</span><span class="token string">"6"</span><span class="token punctuation">,</span><span class="token string">"7"</span><span class="token punctuation">,</span><span class="token string">"8"</span><span class="token punctuation">,</span><span class="token string">"9"</span><span class="token punctuation">,</span><span class="token string">"10"</span><span class="token punctuation">,</span><span class="token string">"J"</span><span class="token punctuation">,</span><span class="token string">"Q"</span><span class="token punctuation">,</span><span class="token string">"K"</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">/</span><span class="token number">4</span> <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">%</span><span class="token number">4</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                str <span class="token operator">+=</span> <span class="token string">"å°é¬¼"</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>num<span class="token operator">%</span><span class="token number">4</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                str <span class="token operator">+=</span> <span class="token string">"å¤§é¬¼"</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
            str <span class="token operator">+=</span> huase<span class="token punctuation">[</span>num<span class="token operator">%</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">+</span> number<span class="token punctuation">[</span>num<span class="token operator">/</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token punctuation">;</span>  
        <span class="token punctuation">}</span>  
        <span class="token keyword">return</span> str<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>public class Client {  

    public static void main(String[] args) {  
        // å®šä¹‰å˜é‡  
        ArrayList list = new ArrayList();  
        Random random = new Random();  
        Poker poker = new Poker();  
        int i = 0;  

        // å‘æ•°ç»„ä¸­å¢åŠ æ•°å­—  
        for(i=0;i&lt;54;i++) {  
            list.add(poker.poker(i));  
        }  

        // éšæœºè¾“å‡ºæ•°ç»„ä¸­çš„æ¯ä¸ªæ•°å­—  
        int length = list.size();  
        for(i=0;i&lt;length;i++) {  
            //éšæœºç”Ÿæˆæ•°ç»„ä¸‹æ ‡  
            int num = random.nextInt(list.size());  
            //å–å‡ºæ•°å­—  
            System.out.println(list.get(num));  
            //å°†æ•°å­—ä»æ•°ç»„ä¸­ç§»é™¤  
            list.remove(num);  
        }  
    }  
}
</code></pre><p>çœ‹èµ·æ¥èˆ’æœå¤šäº†</p>
]]></content>
      
        <categories>
            
            <category> Java </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Java </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[css-margin]]></title>
      <url>/2016/07/16/css-margin/</url>
      <content type="html"><![CDATA[<p>ä»Šå¤©åœ¨æ…•è¯¾ä¸Šçœ‹äº†å¼ å¤§ç¥åˆä¸€åŠ›ä½œï¼Œæ•´ç†äº†ä¸€ä¸‹<br>marginçš„å·§å¦™ä½¿ç”¨ï¼š<br>1ã€marginå®ç°è‡ªé€‚åº”çš„å®½é«˜æ¯”ä¸º2ï¼š1çš„çŸ©å½¢</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>box<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>&lt;style type=&quot;text/css&quot;&gt;  
  #container {  
    width: 400px;  
    height: 250px;  
  }  
  .box {  
    background-color: olive;  
    overflow: hidden;  
  }  
  .box &gt; div {  
    margin: 50%;  
  }  
&lt;/style&gt;
</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/7018384-24ac7fb1fccbcec6?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><img src="http://upload-images.jianshu.io/upload_images/7018384-70156a9605e570a9?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><img src="http://upload-images.jianshu.io/upload_images/7018384-92ecf8c007214a71?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
]]></content>
      
        <categories>
            
            <category> css </category>
            
        </categories>
        
        
        <tags>
            
            <tag> css </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
